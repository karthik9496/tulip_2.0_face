{"ast":null,"code":"var _jsxFileName = \"/home/itsdcsec/falconws/falcon_face/src/components/CrBalRelease.js\";\nimport { useState, useEffect, useMemo } from \"react\";\nimport { withRouter, Link } from \"react-router-dom\";\nimport { useForm } from \"react-hook-form\";\nimport axios from 'axios';\nimport TablePage, { SelectColumnFilter } from '../utils/TablePage';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst CrBalRelease = () => {\n  const [lightTheme, setLightTheme] = useState(true);\n  const [disabled, setDisabled] = useState(false);\n  const [serverErrors, setServerErrors] = useState([]);\n  const [data, setData] = useState([]);\n  const [searchData, setSearchData] = useState([]);\n  const [search, setSearch] = useState('');\n  const [process, setProcess] = useState('');\n  const [page, setPage] = useState(0);\n  const [usrLevel, setUsrLevel] = useState(0);\n  const [allChecked, setAllChecked] = useState(false);\n  const [inputText, setInputText] = useState('');\n  const [approvedList, setApprovedList] = useState(false);\n  const [prepareBatch, setPrepareBatch] = useState(false);\n  const [preparePm, setPreparePm] = useState(false);\n  const [batch, setBatch] = useState('');\n  const [pageSize, setPageSize] = useState(0);\n  useEffect(() => {\n    let fetching = false;\n\n    async function fetchData() {\n      if (!fetching && usrLevel && !approvedList && !prepareBatch) {\n        if (usrLevel < 30) {\n          await axios.get('/paySummarys/crbalRelease/fetchList').then(response => {\n            console.log(response.data[0].action);\n            if (response.data && response.data[0].action) setProcess(response.data[0].action);\n            setData(response.data);\n            setSearchData(response.data);\n          }).catch(error => {\n            //console.log(error);\n            //console.log(error.response.status);\n            //console.log(error.response.headers);\n            if (error.response) setServerErrors(error.response.data.error);else setServerErrors(error.Error);\n          });\n        }\n\n        if (usrLevel >= 30) {\n          await axios.get('/paySummarys/crbalRelease/fetchPendingApprovalList').then(response => {\n            console.log(response.data[0].action);\n            if (response.data && response.data[0].action) setProcess(response.data[0].action);\n            setData(response.data);\n            setSearchData(response.data);\n          }).catch(error => {\n            //console.log(error);\n            //console.log(error.response.status);\n            //console.log(error.response.headers);\n            if (error.response) setServerErrors(error.response.data.error);else setServerErrors(error.Error);\n          });\n        }\n      }\n    }\n\n    fetchData();\n    return () => {\n      fetching = true;\n    };\n  }, [usrLevel, approvedList, prepareBatch, preparePm]);\n  useEffect(() => {\n    let fetching = false;\n\n    async function fetchApprovedData() {\n      if (!fetching && approvedList) {\n        console.log('fetch approved');\n        await axios.get('/paySummarys/crbalRelease/fetchApprovedList').then(response => {\n          console.log(response.data[0].action);\n          if (response.data && response.data[0].action) setProcess(response.data[0].action);\n          setData(response.data);\n        }).catch(error => {\n          //console.log(error);\n          //console.log(error.response.status);\n          //console.log(error.response.headers);\n          if (error.response) setServerErrors(error.response.data.error);else setServerErrors(error.Error);\n        });\n      }\n    }\n\n    fetchApprovedData();\n    return () => {\n      fetching = true;\n    };\n  }, [approvedList, prepareBatch, preparePm]);\n  useEffect(() => {\n    let fetching = false;\n\n    async function fetchBatchData() {\n      if (!fetching && prepareBatch) {\n        console.log('fetch prepare batch');\n        await axios.get('/paySummarys/crbalRelease/fetchBatchList').then(response => {\n          console.log(response.data);\n          setData(response.data);\n          setSearchData([]);\n        }).catch(error => {\n          //console.log(error);\n          //console.log(error.response.status);\n          //console.log(error.response.headers);\n          if (error.response) setServerErrors(error.response.data.error);else setServerErrors(error.Error);\n        });\n      }\n    }\n\n    fetchBatchData();\n    return () => {\n      fetching = true;\n    };\n  }, [prepareBatch, approvedList]);\n  useEffect(() => {\n    async function fetchUsrLevel() {\n      await axios.get(`/miscs/usrLevel`).then(response => {\n        //console.log(data);\n        setUsrLevel(response.data);\n      }).catch(error => {\n        setDisabled(false);\n        console.log(error); //console.log(error.response.status);\n        //console.log(error.response.headers);\n\n        if (error.response) setServerErrors(error.response.data.error);else setServerErrors(error.Error);\n      });\n    }\n\n    fetchUsrLevel();\n  }, []);\n\n  const handleInputChange = ano => e => {\n    console.log(ano + \"--\" + e.target.value);\n    let newData = [...searchData];\n\n    for (var k in searchData) {\n      if (newData[k].employee.armyNo.includes(ano)) newData[k].crBalRate = e.target.value;\n    }\n\n    setSearchData(newData);\n  };\n\n  const handleCheckBox = ano => e => {\n    console.log(ano + '--' + e.target.checked);\n    let newData = [...searchData];\n\n    for (var k in searchData) {\n      if (newData[k].employee.armyNo.includes(ano)) newData[k].selected = e.target.checked;\n    }\n\n    setSearchData(newData);\n  };\n\n  const handleCallBack = pp => {\n    console.log(pp);\n    setPage(pp);\n  };\n\n  async function processCrBal() {\n    await axios.post(`/employeeDeductions/crbalRelease/process`, searchData).then(res => {\n      //console.log(data);\n      if (res.data) {\n        setData(res.data);\n        setSearchData(res.data);\n      }\n\n      setAllChecked(false);\n    }).catch(error => {\n      console.log(error); //console.log(error.response.status);\n      //console.log(error.response.headers);\n\n      if (error.response) setServerErrors(error.response.data.error);else setServerErrors(error.Error);\n    });\n  }\n\n  async function processPrepareBatch() {\n    setDisabled(true);\n    await axios.post(`/paySummarys/crbalRelease/preparePmCs`, data).then(res => {\n      //console.log(data);\n      if (res.data) {\n        setData(res.data[0]);\n        setSearchData(res.data[0]);\n        setDisabled(false);\n\n        if (res.data[1]) {\n          let fname = res.data[1];\n\n          if (fname != null && fname.length > 0) {\n            axios({\n              url: `/employeeDeductions/neftBatchReport/download/` + fname,\n              method: 'GET',\n              responseType: 'blob' // important\n\n            }).then(res => {\n              //console.log(response.data);\n              const url = URL.createObjectURL(new Blob([res.data]));\n              const pdfWindow = window.open();\n              pdfWindow.location.href = url;\n              const link = pdfWindow.location.href; //const link = document.createElement('a');\n              //link.href = url;\n\n              link.setAttribute('download', fname); //document.body.appendChild(link);\n\n              link.click();\n            });\n          }\n        }\n      }\n\n      setAllChecked(false);\n    }).catch(error => {\n      console.log(error); //console.log(error.response.status);\n      //console.log(error.response.headers);\n\n      if (error.response) setServerErrors(error.response.data.error);else setServerErrors(error.Error);\n    });\n  }\n\n  async function approveCrBal() {\n    await axios.post(`/paySummarys/crbalRelease/approve`, searchData).then(res => {\n      //console.log(data);\n      if (res.data) {\n        setData(res.data);\n        setSearchData(res.data);\n      }\n\n      setAllChecked(false);\n    }).catch(error => {\n      console.log(error); //console.log(error.response.status);\n      //console.log(error.response.headers);\n\n      if (error.response) setServerErrors(error.response.data.error);else setServerErrors(error.Error);\n    });\n  }\n\n  async function submitCrBal() {\n    await axios.post(`/paySummarys/crbalRelease/submit`, searchData).then(res => {\n      //console.log(data);\n      if (res.data) {\n        setData(res.data);\n        setSearchData(res.data);\n      }\n\n      setAllChecked(false);\n    }).catch(error => {\n      console.log(error); //console.log(error.response.status);\n      //console.log(error.response.headers);\n\n      if (error.response) setServerErrors(error.response.data.error);else setServerErrors(error.Error);\n    });\n  }\n\n  const updateCheckBoxAll = e => {\n    if (e.target.checked) setAllChecked(true);else setAllChecked(false);\n    let newData = [...data];\n    let count = 0;\n\n    for (var k in newData) {\n      newData[k].selected = e.target.checked;\n      if (e.target.checked) count = count + newData[k].totalItems;\n    }\n\n    setData(newData);\n  };\n\n  const handleApprovedList = event => {\n    console.log(approvedList);\n    setApprovedList(true);\n    setPreparePm(false);\n    setPrepareBatch(false);\n  };\n\n  const handlePrepareBatch = event => {\n    console.log(approvedList);\n    setPrepareBatch(true);\n    setPreparePm(false);\n    setApprovedList(false);\n  };\n\n  const handlePreparePm = event => {\n    console.log(preparePm);\n    setPreparePm(true);\n  };\n\n  async function pmcs() {\n    setDisabled(true);\n    await axios.post(`/employeeDeductions/crbalPmCs/generate/${batch}`).then(response => {\n      //console.log(data);\n      setDisabled(false);\n      setServerErrors(response.data);\n    }).catch(error => {\n      setDisabled(false);\n      console.log(error); //console.log(error.response.status);\n      //console.log(error.response.headers);\n\n      if (error.response) setServerErrors(error.response.data.error);else setServerErrors(error.Error);\n    });\n  }\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    console.log(inputText);\n    let newData = [...data];\n    if (inputText.length === 0) setSearchData(newData);else {\n      const results = newData.filter(ed => {\n        return ed.employee.armyNo.includes(inputText);\n      });\n      setSearchData(results);\n    }\n  };\n\n  const handleKeyPress = event => {\n    // look for the `Enter` keyCode\n    if (event.keyCode === 13 || event.which === 13) {\n      handleSubmit(event);\n    }\n  };\n\n  const ShowPmCs = () => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-gray-100 text-gray-900\",\n      children: /*#__PURE__*/_jsxDEV(\"main\", {\n        className: \"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 pt-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-2 ml-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"text-xl font-semibold\",\n            children: \"CR Bal Pm/Cs\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 402,\n            columnNumber: 6\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-2 gap-0\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                children: \"Batch No\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 406,\n                columnNumber: 8\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  name: \"pm\",\n                  placeholder: \"batch number\",\n                  onBlur: e => setBatch(e.target.value)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 408,\n                  columnNumber: 8\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 407,\n                columnNumber: 8\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  onClick: pmcs,\n                  className: \" w-36 ml-8 p-0 h-15 \",\n                  children: \"Generate PMCS\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 411,\n                  columnNumber: 7\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 410,\n                columnNumber: 8\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 405,\n              columnNumber: 6\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 403,\n            columnNumber: 6\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 401,\n          columnNumber: 5\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 400,\n        columnNumber: 4\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 399,\n      columnNumber: 3\n    }, this);\n  };\n\n  const ShowPrepareBatch = () => {\n    const columns = useMemo(() => [{\n      Header: \"Month Ending\",\n      accessor: 'monthEnding'\n    }, {\n      Header: \"Employee\",\n      accessor: 'employee.cdaoNo'\n    }, {\n      Header: \"Task\",\n      accessor: 'employee.task'\n    }, {\n      Header: \"Opening Balance\",\n      accessor: 'openingBalance'\n    }, {\n      Header: \"Perm Opening Balance\",\n      accessor: 'openingBalance'\n    }, {\n      Header: \"Cr Bal Amt\",\n      accessor: 'crBalAmount'\n    }, {\n      Header: \"Cr Bal Dt\",\n      accessor: 'crBalDate'\n    }, {\n      Header: \"Record Status\",\n      accessor: 'crBalRecordStatus'\n    }, {\n      Header: \"Reason\",\n      accessor: 'crBalReason'\n    }, {\n      Header: \"Aud Date\",\n      accessor: 'crBalAudDate'\n    }, {\n      Header: \"Aao Date\",\n      accessor: 'crBalAaoDate'\n    }, {\n      Header: \"Ao Date\",\n      accessor: 'crBalAoDate'\n    }\n    /*\n    {\n    \tHeader: \"Login Name\",\n    \taccessor: 'loginName',\n    \tFilter: SelectColumnFilter,  // new\n    \tfilter: 'includes',\n    },\n    */\n    ], [data]);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-green-100 text-gray-700\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-5xl mx-auto px-2 sm:px-6 lg:px-8 pt-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"-mt-2 max-h-1 py-0 ml-0\",\n          children: [/*#__PURE__*/_jsxDEV(TablePage, {\n            columns: columns,\n            data: data,\n            newpage: page,\n            parentCallback: handleCallBack,\n            className: \"table-auto\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 503,\n            columnNumber: 6\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: prepareBatch && data && data.length > 0 && /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: processPrepareBatch,\n              className: \"w-32 m-0 p-0\",\n              children: \"Prepare Batch\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 507,\n              columnNumber: 7\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 505,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 502,\n          columnNumber: 5\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 500,\n        columnNumber: 4\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 499,\n      columnNumber: 3\n    }, this);\n  };\n\n  const ShowCrBalApprovedList = () => {\n    const columns = useMemo(() => [{\n      Header: \"Month Ending\",\n      accessor: 'qe'\n    }, {\n      Header: \"Employee\",\n      accessor: 'employee.armyNo'\n    }, {\n      Header: \"Openeing Balance\",\n      accessor: 'openingBalance'\n    }, {\n      Header: \"Release %\",\n      accessor: 'crBalRate'\n    }, {\n      Header: \"Cr Bal Amt\",\n      accessor: 'crBalAmount'\n    }, {\n      Header: \"Cr Bal Dt\",\n      accessor: 'crBalDate'\n    }, {\n      Header: \"Batch\",\n      accessor: 'crBalBatch'\n    }, {\n      Header: \"Record Status\",\n      accessor: 'crBalRecordStatus'\n    }, {\n      Header: \"Reason\",\n      accessor: 'crBalReason'\n    }, {\n      Header: \"Aud Date\",\n      accessor: 'crBalAudDate'\n    }, {\n      Header: \"Aao Date\",\n      accessor: 'crBalAaoDate'\n    }, {\n      Header: \"Ao Date\",\n      accessor: 'crBalAoDate'\n    }\n    /*\n    {\n    \tHeader: \"Login Name\",\n    \taccessor: 'loginName',\n    \tFilter: SelectColumnFilter,  // new\n    \tfilter: 'includes',\n    },\n    */\n    ], [data]);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-green-100 text-gray-700\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-5xl mx-auto px-2 sm:px-6 lg:px-8 pt-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"-mt-2 max-h-1 py-0 ml-0\",\n          children: /*#__PURE__*/_jsxDEV(TablePage, {\n            columns: columns,\n            data: data,\n            newpage: page,\n            parentCallback: handleCallBack,\n            className: \"table-auto\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 597,\n            columnNumber: 6\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 596,\n          columnNumber: 5\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 594,\n        columnNumber: 4\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 593,\n      columnNumber: 3\n    }, this);\n  };\n\n  const ShowCrBalList = () => {\n    const handleCrBalAmtChange = index => e => {\n      console.log(index + \"--\" + e.target.value);\n      let item = searchData[index];\n      item['crBalAmount'] = e.target.value;\n      let newData = [...searchData];\n      newData[index] = item;\n      setSearchData(newData);\n    };\n\n    const handlePermCrBalAmtChange = index => e => {\n      console.log(index + \"--\" + e.target.value);\n      let item = searchData[index];\n      item['permCrBalAmount'] = e.target.value;\n      let newData = [...searchData];\n      newData[index] = item;\n      setSearchData(newData);\n    };\n\n    const handlePageSize = pp => {\n      console.log(pp);\n      setPageSize(pp);\n    };\n\n    const handleCallBack = pp => {\n      console.log(pp);\n      setPage(pp);\n    };\n\n    const columns = useMemo(() => [{\n      Header: /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"checkbox\",\n        onChange: updateCheckBoxAll,\n        checked: allChecked\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 642,\n        columnNumber: 12\n      }, this),\n      accessor: \"select\",\n      Cell: ({\n        row\n      }) => /*#__PURE__*/_jsxDEV(\"div\", {\n        children: row.original.action !== 'noaction' && /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"checkbox\",\n          onChange: handleCheckBox(row.original.employee.armyNo),\n          checked: row.original.selected\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 647,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 645,\n        columnNumber: 5\n      }, this)\n    }, {\n      Header: \"Month Ending\",\n      accessor: 'monthEnding'\n    }, {\n      Header: \"Officer\",\n      accessor: 'employee.cdaoNo',\n      Cell: ({\n        row\n      }) => /*#__PURE__*/_jsxDEV(\"div\", {\n        children: row.original.employee.officerName\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 666,\n        columnNumber: 5\n      }, this)\n    }, {\n      Header: \"Type\",\n      accessor: 'employee.cdaoNo'\n    }, {\n      Header: \"Openeing Balance\",\n      accessor: 'openingBalance'\n    }, {\n      Header: \"Release Amt\",\n      accessor: 'crBalAmount',\n      Cell: ({\n        row\n      }) => /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"crBalAmt\",\n          onChange: handleCrBalAmtChange,\n          value: row.original.crBalAmount\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 689,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 687,\n        columnNumber: 5\n      }, this)\n    }, {\n      Header: \"Perm Openeing Balance\",\n      accessor: 'permOb'\n    }, {\n      Header: \"Release Amt\",\n      accessor: 'permCrBalAmount',\n      Cell: ({\n        row\n      }) => /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"permcrBalAmt\",\n          onChange: handleCrBalAmtChange,\n          value: row.original.permCrBalAmount\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 705,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 703,\n        columnNumber: 5\n      }, this)\n    }, {\n      Header: \"Cr Bal Dt\",\n      accessor: 'crBalDate'\n    }, {\n      Header: \"Record Status\",\n      accessor: 'crBalRecordStatus'\n    }, {\n      Header: \"Aud Date\",\n      accessor: 'crBalAudDate'\n    }, {\n      Header: \"Aao Date\",\n      accessor: 'crBalAaoDate'\n    }, {\n      Header: \"Ao Date\",\n      accessor: 'crBalAoDate'\n    }\n    /*\n    {\n    \tHeader: \"Login Name\",\n    \taccessor: 'loginName',\n    \tFilter: SelectColumnFilter,  // new\n    \tfilter: 'includes',\n    },\n    */\n    ], [searchData]);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-green-100 text-gray-700\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-8xl mx-auto px-2 sm:px-6 lg:px-8 pt-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"-mt-2 max-h-1 py-0 ml-0\",\n          children: [/*#__PURE__*/_jsxDEV(TablePage, {\n            columns: columns,\n            data: searchData,\n            newpage: page,\n            parentCallback: handleCallBack,\n            newPageSize: pageSize,\n            parentCallbackPageSize: handlePageSize,\n            className: \"table-auto\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 752,\n            columnNumber: 6\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [usrLevel < 30 && searchData && searchData.length > 0 && /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: processCrBal,\n              className: \"w-32 m-0 p-0\",\n              children: \"Process Cr Bal\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 758,\n              columnNumber: 7\n            }, this), usrLevel === 30 && searchData && searchData.length > 0 && /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: submitCrBal,\n              className: \"w-32 m-0 p-0\",\n              children: \"Submit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 761,\n              columnNumber: 7\n            }, this), usrLevel > 30 && searchData && searchData.length > 0 && /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: approveCrBal,\n              className: \"w-32 m-0 p-0\",\n              children: \"Approve\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 764,\n              columnNumber: 7\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 756,\n            columnNumber: 6\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 751,\n          columnNumber: 5\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 749,\n        columnNumber: 4\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 748,\n      columnNumber: 3\n    }, this);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-100 text-gray-700\",\n    children: /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"max-w-8xl mx-auto px-4 sm:px-6 lg:px-8 pt-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-2 ml-4\",\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-xl font-semibold\",\n          children: \"Credit Balance Release\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 782,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 781,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-red-500\",\n        children: serverErrors\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 786,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flexContainer\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"search\",\n            onChange: e => setInputText(e.target.value),\n            placeholder: \"army no\",\n            onKeyPress: handleKeyPress,\n            className: \"pl-2 -ml-2 inputField flex-initial\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 791,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 790,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            onClick: handleSubmit,\n            className: \"w-16 m-0 p-0\",\n            children: \"Search\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 798,\n            columnNumber: 6\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 797,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: handleApprovedList,\n            className: \"w-22 m-0 p-0\",\n            children: \"Approved List\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 803,\n            columnNumber: 6\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 802,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: handlePrepareBatch,\n            className: \"w-22 m-0 p-0\",\n            children: \"Prepare Batch\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 808,\n            columnNumber: 6\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 807,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: handlePreparePm,\n            className: \"w-22 m-0 p-0\",\n            children: \"PM/CS\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 813,\n            columnNumber: 6\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 812,\n          columnNumber: 5\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 788,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [approvedList === false && prepareBatch === false && preparePm === false && /*#__PURE__*/_jsxDEV(ShowCrBalList, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 820,\n          columnNumber: 7\n        }, this), approvedList === true && prepareBatch === false && preparePm === false && /*#__PURE__*/_jsxDEV(ShowCrBalApprovedList, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 824,\n          columnNumber: 7\n        }, this), prepareBatch === true && preparePm === false && /*#__PURE__*/_jsxDEV(ShowPrepareBatch, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 828,\n          columnNumber: 7\n        }, this), preparePm === true && /*#__PURE__*/_jsxDEV(ShowPmCs, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 831,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 818,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 780,\n      columnNumber: 4\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 779,\n    columnNumber: 4\n  }, this);\n};\n\nexport default withRouter(CrBalRelease);","map":{"version":3,"sources":["/home/itsdcsec/falconws/falcon_face/src/components/CrBalRelease.js"],"names":["useState","useEffect","useMemo","withRouter","Link","useForm","axios","TablePage","SelectColumnFilter","CrBalRelease","lightTheme","setLightTheme","disabled","setDisabled","serverErrors","setServerErrors","data","setData","searchData","setSearchData","search","setSearch","process","setProcess","page","setPage","usrLevel","setUsrLevel","allChecked","setAllChecked","inputText","setInputText","approvedList","setApprovedList","prepareBatch","setPrepareBatch","preparePm","setPreparePm","batch","setBatch","pageSize","setPageSize","fetching","fetchData","get","then","response","console","log","action","catch","error","Error","fetchApprovedData","fetchBatchData","fetchUsrLevel","handleInputChange","ano","e","target","value","newData","k","employee","armyNo","includes","crBalRate","handleCheckBox","checked","selected","handleCallBack","pp","processCrBal","post","res","processPrepareBatch","fname","length","url","method","responseType","URL","createObjectURL","Blob","pdfWindow","window","open","location","href","link","setAttribute","click","approveCrBal","submitCrBal","updateCheckBoxAll","count","totalItems","handleApprovedList","event","handlePrepareBatch","handlePreparePm","pmcs","handleSubmit","preventDefault","results","filter","ed","handleKeyPress","keyCode","which","ShowPmCs","ShowPrepareBatch","columns","Header","accessor","ShowCrBalApprovedList","ShowCrBalList","handleCrBalAmtChange","index","item","handlePermCrBalAmtChange","handlePageSize","Cell","row","original","officerName","crBalAmount","permCrBalAmount"],"mappings":";AAAA,SAASA,QAAT,EAAmBC,SAAnB,EAA6BC,OAA7B,QAA4C,OAA5C;AACA,SAASC,UAAT,EAAoBC,IAApB,QAAgC,kBAAhC;AACA,SAASC,OAAT,QAAwB,iBAAxB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,IAAoBC,kBAApB,QAA8C,oBAA9C;;;AAGA,MAAMC,YAAY,GAAG,MAAM;AAG1B,QAAM,CAACC,UAAD,EAAaC,aAAb,IAA8BX,QAAQ,CAAC,IAAD,CAA5C;AACA,QAAM,CAACY,QAAD,EAAUC,WAAV,IAAuBb,QAAQ,CAAC,KAAD,CAArC;AACA,QAAM,CAACc,YAAD,EAAcC,eAAd,IAA+Bf,QAAQ,CAAC,EAAD,CAA7C;AACA,QAAM,CAACgB,IAAD,EAAOC,OAAP,IAAgBjB,QAAQ,CAAC,EAAD,CAA9B;AACA,QAAM,CAACkB,UAAD,EAAYC,aAAZ,IAA2BnB,QAAQ,CAAC,EAAD,CAAzC;AACA,QAAM,CAACoB,MAAD,EAAQC,SAAR,IAAmBrB,QAAQ,CAAC,EAAD,CAAjC;AACA,QAAM,CAACsB,OAAD,EAASC,UAAT,IAAqBvB,QAAQ,CAAC,EAAD,CAAnC;AACA,QAAM,CAACwB,IAAD,EAAMC,OAAN,IAAezB,QAAQ,CAAC,CAAD,CAA7B;AACA,QAAM,CAAC0B,QAAD,EAAUC,WAAV,IAAuB3B,QAAQ,CAAC,CAAD,CAArC;AACA,QAAM,CAAC4B,UAAD,EAAYC,aAAZ,IAA2B7B,QAAQ,CAAC,KAAD,CAAzC;AACA,QAAM,CAAC8B,SAAD,EAAWC,YAAX,IAAyB/B,QAAQ,CAAC,EAAD,CAAvC;AACA,QAAM,CAACgC,YAAD,EAAcC,eAAd,IAA+BjC,QAAQ,CAAC,KAAD,CAA7C;AACA,QAAM,CAACkC,YAAD,EAAcC,eAAd,IAA+BnC,QAAQ,CAAC,KAAD,CAA7C;AACA,QAAM,CAACoC,SAAD,EAAWC,YAAX,IAAyBrC,QAAQ,CAAC,KAAD,CAAvC;AACA,QAAM,CAACsC,KAAD,EAAOC,QAAP,IAAiBvC,QAAQ,CAAC,EAAD,CAA/B;AACC,QAAM,CAACwC,QAAD,EAAWC,WAAX,IAA0BzC,QAAQ,CAAC,CAAD,CAAxC;AAGDC,EAAAA,SAAS,CAAC,MAAM;AACf,QAAIyC,QAAQ,GAAG,KAAf;;AACA,mBAAeC,SAAf,GAA2B;AAC1B,UAAG,CAACD,QAAD,IAAahB,QAAb,IAAyB,CAACM,YAA1B,IAA0C,CAACE,YAA9C,EAA2D;AAC1D,YAAGR,QAAQ,GAAC,EAAZ,EAAe;AAChB,gBAAMpB,KAAK,CAACsC,GAAN,CAAU,qCAAV,EACJC,IADI,CACEC,QAAD,IAAc;AACnBC,YAAAA,OAAO,CAACC,GAAR,CAAYF,QAAQ,CAAC9B,IAAT,CAAc,CAAd,EAAiBiC,MAA7B;AACA,gBAAGH,QAAQ,CAAC9B,IAAT,IAAiB8B,QAAQ,CAAC9B,IAAT,CAAc,CAAd,EAAiBiC,MAArC,EACC1B,UAAU,CAACuB,QAAQ,CAAC9B,IAAT,CAAc,CAAd,EAAiBiC,MAAlB,CAAV;AACDhC,YAAAA,OAAO,CAAC6B,QAAQ,CAAC9B,IAAV,CAAP;AACAG,YAAAA,aAAa,CAAC2B,QAAQ,CAAC9B,IAAV,CAAb;AACA,WAPI,EAQJkC,KARI,CAQGC,KAAD,IAAW;AACjB;AACA;AACA;AACA,gBAAIA,KAAK,CAACL,QAAV,EACC/B,eAAe,CAACoC,KAAK,CAACL,QAAN,CAAe9B,IAAf,CAAoBmC,KAArB,CAAf,CADD,KAGCpC,eAAe,CAACoC,KAAK,CAACC,KAAP,CAAf;AACD,WAhBI,CAAN;AAiBE;;AACD,YAAG1B,QAAQ,IAAE,EAAb,EAAgB;AACjB,gBAAMpB,KAAK,CAACsC,GAAN,CAAU,oDAAV,EACJC,IADI,CACEC,QAAD,IAAc;AACnBC,YAAAA,OAAO,CAACC,GAAR,CAAYF,QAAQ,CAAC9B,IAAT,CAAc,CAAd,EAAiBiC,MAA7B;AACA,gBAAGH,QAAQ,CAAC9B,IAAT,IAAiB8B,QAAQ,CAAC9B,IAAT,CAAc,CAAd,EAAiBiC,MAArC,EACC1B,UAAU,CAACuB,QAAQ,CAAC9B,IAAT,CAAc,CAAd,EAAiBiC,MAAlB,CAAV;AACDhC,YAAAA,OAAO,CAAC6B,QAAQ,CAAC9B,IAAV,CAAP;AACAG,YAAAA,aAAa,CAAC2B,QAAQ,CAAC9B,IAAV,CAAb;AACA,WAPI,EAQJkC,KARI,CAQGC,KAAD,IAAW;AACjB;AACA;AACA;AACA,gBAAIA,KAAK,CAACL,QAAV,EACC/B,eAAe,CAACoC,KAAK,CAACL,QAAN,CAAe9B,IAAf,CAAoBmC,KAArB,CAAf,CADD,KAGCpC,eAAe,CAACoC,KAAK,CAACC,KAAP,CAAf;AACD,WAhBI,CAAN;AAiBE;AACA;AACF;;AACDT,IAAAA,SAAS;AACT,WAAO,MAAM;AAAED,MAAAA,QAAQ,GAAG,IAAX;AAAkB,KAAjC;AAEA,GA/CQ,EA+CN,CAAChB,QAAD,EAAUM,YAAV,EAAuBE,YAAvB,EAAoCE,SAApC,CA/CM,CAAT;AAiDAnC,EAAAA,SAAS,CAAC,MAAM;AACf,QAAIyC,QAAQ,GAAG,KAAf;;AACA,mBAAeW,iBAAf,GAAmC;AAClC,UAAG,CAACX,QAAD,IAAaV,YAAhB,EAA6B;AAC5Be,QAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ;AACD,cAAM1C,KAAK,CAACsC,GAAN,CAAU,6CAAV,EACJC,IADI,CACEC,QAAD,IAAc;AACnBC,UAAAA,OAAO,CAACC,GAAR,CAAYF,QAAQ,CAAC9B,IAAT,CAAc,CAAd,EAAiBiC,MAA7B;AACA,cAAGH,QAAQ,CAAC9B,IAAT,IAAiB8B,QAAQ,CAAC9B,IAAT,CAAc,CAAd,EAAiBiC,MAArC,EACC1B,UAAU,CAACuB,QAAQ,CAAC9B,IAAT,CAAc,CAAd,EAAiBiC,MAAlB,CAAV;AACDhC,UAAAA,OAAO,CAAC6B,QAAQ,CAAC9B,IAAV,CAAP;AAEA,SAPI,EAQJkC,KARI,CAQGC,KAAD,IAAW;AACjB;AACA;AACA;AACA,cAAIA,KAAK,CAACL,QAAV,EACC/B,eAAe,CAACoC,KAAK,CAACL,QAAN,CAAe9B,IAAf,CAAoBmC,KAArB,CAAf,CADD,KAGCpC,eAAe,CAACoC,KAAK,CAACC,KAAP,CAAf;AACD,SAhBI,CAAN;AAmBE;AACF;;AACDC,IAAAA,iBAAiB;AACjB,WAAO,MAAM;AAAEX,MAAAA,QAAQ,GAAG,IAAX;AAAkB,KAAjC;AAEA,GA7BQ,EA6BN,CAACV,YAAD,EAAcE,YAAd,EAA2BE,SAA3B,CA7BM,CAAT;AA+BAnC,EAAAA,SAAS,CAAC,MAAM;AACf,QAAIyC,QAAQ,GAAG,KAAf;;AACA,mBAAeY,cAAf,GAAgC;AAC/B,UAAG,CAACZ,QAAD,IAAaR,YAAhB,EAA6B;AAC5Ba,QAAAA,OAAO,CAACC,GAAR,CAAY,qBAAZ;AACD,cAAM1C,KAAK,CAACsC,GAAN,CAAU,0CAAV,EACJC,IADI,CACEC,QAAD,IAAc;AACnBC,UAAAA,OAAO,CAACC,GAAR,CAAYF,QAAQ,CAAC9B,IAArB;AAEAC,UAAAA,OAAO,CAAC6B,QAAQ,CAAC9B,IAAV,CAAP;AACAG,UAAAA,aAAa,CAAC,EAAD,CAAb;AAEA,SAPI,EAQJ+B,KARI,CAQGC,KAAD,IAAW;AACjB;AACA;AACA;AACA,cAAIA,KAAK,CAACL,QAAV,EACC/B,eAAe,CAACoC,KAAK,CAACL,QAAN,CAAe9B,IAAf,CAAoBmC,KAArB,CAAf,CADD,KAGCpC,eAAe,CAACoC,KAAK,CAACC,KAAP,CAAf;AACD,SAhBI,CAAN;AAmBE;AACF;;AACDE,IAAAA,cAAc;AACd,WAAO,MAAM;AAAEZ,MAAAA,QAAQ,GAAG,IAAX;AAAkB,KAAjC;AAEA,GA7BQ,EA6BN,CAACR,YAAD,EAAcF,YAAd,CA7BM,CAAT;AA+BA/B,EAAAA,SAAS,CAAC,MAAM;AAEd,mBAAesD,aAAf,GAA+B;AAEhC,YAAMjD,KAAK,CAACsC,GAAN,CAAW,iBAAX,EACJC,IADI,CACEC,QAAD,IAAc;AACnB;AACCnB,QAAAA,WAAW,CAACmB,QAAQ,CAAC9B,IAAV,CAAX;AACD,OAJI,EAKJkC,KALI,CAKGC,KAAD,IAAW;AACjBtC,QAAAA,WAAW,CAAC,KAAD,CAAX;AACAkC,QAAAA,OAAO,CAACC,GAAR,CAAYG,KAAZ,EAFiB,CAGjB;AACA;;AACA,YAAIA,KAAK,CAACL,QAAV,EACC/B,eAAe,CAACoC,KAAK,CAACL,QAAN,CAAe9B,IAAf,CAAoBmC,KAArB,CAAf,CADD,KAGCpC,eAAe,CAACoC,KAAK,CAACC,KAAP,CAAf;AACD,OAdI,CAAN;AAeA;;AAECG,IAAAA,aAAa;AAId,GAzBQ,EAyBN,EAzBM,CAAT;;AA2BA,QAAMC,iBAAiB,GAAEC,GAAD,IAASC,CAAD,IAAM;AACrCX,IAAAA,OAAO,CAACC,GAAR,CAAYS,GAAG,GAAC,IAAJ,GAASC,CAAC,CAACC,MAAF,CAASC,KAA9B;AACA,QAAIC,OAAO,GAAC,CAAC,GAAG3C,UAAJ,CAAZ;;AAEE,SAAI,IAAI4C,CAAR,IAAa5C,UAAb,EAAwB;AACtB,UAAG2C,OAAO,CAACC,CAAD,CAAP,CAAWC,QAAX,CAAoBC,MAApB,CAA2BC,QAA3B,CAAoCR,GAApC,CAAH,EACCI,OAAO,CAACC,CAAD,CAAP,CAAWI,SAAX,GAAqBR,CAAC,CAACC,MAAF,CAASC,KAA9B;AACD;;AACJzC,IAAAA,aAAa,CAAC0C,OAAD,CAAb;AAGA,GAXD;;AAeA,QAAMM,cAAc,GAAEV,GAAG,IAAIC,CAAD,IAAM;AAC9BX,IAAAA,OAAO,CAACC,GAAR,CAAYS,GAAG,GAAC,IAAJ,GAASC,CAAC,CAACC,MAAF,CAASS,OAA9B;AACA,QAAIP,OAAO,GAAC,CAAC,GAAG3C,UAAJ,CAAZ;;AAIA,SAAI,IAAI4C,CAAR,IAAa5C,UAAb,EAAwB;AACvB,UAAG2C,OAAO,CAACC,CAAD,CAAP,CAAWC,QAAX,CAAoBC,MAApB,CAA2BC,QAA3B,CAAoCR,GAApC,CAAH,EACCI,OAAO,CAACC,CAAD,CAAP,CAAWO,QAAX,GAAoBX,CAAC,CAACC,MAAF,CAASS,OAA7B;AACD;;AAEJjD,IAAAA,aAAa,CAAC0C,OAAD,CAAb;AAIA,GAfD;;AAiBA,QAAMS,cAAc,GAAIC,EAAD,IAAM;AAC5BxB,IAAAA,OAAO,CAACC,GAAR,CAAYuB,EAAZ;AACA9C,IAAAA,OAAO,CAAC8C,EAAD,CAAP;AACA,GAHD;;AAIA,iBAAeC,YAAf,GAA8B;AAC7B,UAAMlE,KAAK,CAACmE,IAAN,CAAY,0CAAZ,EAAsDvD,UAAtD,EACJ2B,IADI,CACE6B,GAAD,IAAS;AACd;AACC,UAAGA,GAAG,CAAC1D,IAAP,EAAY;AACXC,QAAAA,OAAO,CAACyD,GAAG,CAAC1D,IAAL,CAAP;AACAG,QAAAA,aAAa,CAACuD,GAAG,CAAC1D,IAAL,CAAb;AACA;;AACAa,MAAAA,aAAa,CAAC,KAAD,CAAb;AAEF,KATI,EAUJqB,KAVI,CAUGC,KAAD,IAAW;AACjBJ,MAAAA,OAAO,CAACC,GAAR,CAAYG,KAAZ,EADiB,CAEjB;AACA;;AACA,UAAIA,KAAK,CAACL,QAAV,EACC/B,eAAe,CAACoC,KAAK,CAACL,QAAN,CAAe9B,IAAf,CAAoBmC,KAArB,CAAf,CADD,KAGCpC,eAAe,CAACoC,KAAK,CAACC,KAAP,CAAf;AACD,KAlBI,CAAN;AAmBA;;AAED,iBAAeuB,mBAAf,GAAqC;AACpC9D,IAAAA,WAAW,CAAC,IAAD,CAAX;AACA,UAAMP,KAAK,CAACmE,IAAN,CAAY,uCAAZ,EAAmDzD,IAAnD,EACJ6B,IADI,CACE6B,GAAD,IAAS;AACd;AACC,UAAGA,GAAG,CAAC1D,IAAP,EAAY;AACXC,QAAAA,OAAO,CAACyD,GAAG,CAAC1D,IAAJ,CAAS,CAAT,CAAD,CAAP;AACAG,QAAAA,aAAa,CAACuD,GAAG,CAAC1D,IAAJ,CAAS,CAAT,CAAD,CAAb;AACAH,QAAAA,WAAW,CAAC,KAAD,CAAX;;AACA,YAAG6D,GAAG,CAAC1D,IAAJ,CAAS,CAAT,CAAH,EAAe;AACd,cAAI4D,KAAK,GAACF,GAAG,CAAC1D,IAAJ,CAAS,CAAT,CAAV;;AACA,cAAG4D,KAAK,IAAE,IAAP,IAAeA,KAAK,CAACC,MAAN,GAAa,CAA/B,EAAiC;AACrCvE,YAAAA,KAAK,CAAC;AACNwE,cAAAA,GAAG,EAAG,+CAAD,GAAkDF,KADjD;AAENG,cAAAA,MAAM,EAAE,KAFF;AAGNC,cAAAA,YAAY,EAAE,MAHR,CAGgB;;AAHhB,aAAD,CAAL,CAIEnC,IAJF,CAIQ6B,GAAD,IAAS;AAChB;AACA,oBAAMI,GAAG,GAAEG,GAAG,CAACC,eAAJ,CAAoB,IAAIC,IAAJ,CAAS,CAACT,GAAG,CAAC1D,IAAL,CAAT,CAApB,CAAX;AACA,oBAAMoE,SAAS,GAACC,MAAM,CAACC,IAAP,EAAhB;AACAF,cAAAA,SAAS,CAACG,QAAV,CAAmBC,IAAnB,GAAwBV,GAAxB;AACA,oBAAMW,IAAI,GAACL,SAAS,CAACG,QAAV,CAAmBC,IAA9B,CALgB,CAMhB;AACA;;AACAC,cAAAA,IAAI,CAACC,YAAL,CAAkB,UAAlB,EAA8Bd,KAA9B,EARgB,CAUhB;;AACAa,cAAAA,IAAI,CAACE,KAAL;AACA,aAhBA;AAiBA;AACI;AACD;;AACA9D,MAAAA,aAAa,CAAC,KAAD,CAAb;AAEF,KAhCI,EAiCJqB,KAjCI,CAiCGC,KAAD,IAAW;AACjBJ,MAAAA,OAAO,CAACC,GAAR,CAAYG,KAAZ,EADiB,CAEjB;AACA;;AACA,UAAIA,KAAK,CAACL,QAAV,EACC/B,eAAe,CAACoC,KAAK,CAACL,QAAN,CAAe9B,IAAf,CAAoBmC,KAArB,CAAf,CADD,KAGCpC,eAAe,CAACoC,KAAK,CAACC,KAAP,CAAf;AACD,KAzCI,CAAN;AA0CA;;AAED,iBAAewC,YAAf,GAA8B;AAC7B,UAAMtF,KAAK,CAACmE,IAAN,CAAY,mCAAZ,EAA+CvD,UAA/C,EACJ2B,IADI,CACE6B,GAAD,IAAS;AACd;AACC,UAAGA,GAAG,CAAC1D,IAAP,EAAY;AACXC,QAAAA,OAAO,CAACyD,GAAG,CAAC1D,IAAL,CAAP;AACAG,QAAAA,aAAa,CAACuD,GAAG,CAAC1D,IAAL,CAAb;AACA;;AACAa,MAAAA,aAAa,CAAC,KAAD,CAAb;AAEF,KATI,EAUJqB,KAVI,CAUGC,KAAD,IAAW;AACjBJ,MAAAA,OAAO,CAACC,GAAR,CAAYG,KAAZ,EADiB,CAEjB;AACA;;AACA,UAAIA,KAAK,CAACL,QAAV,EACC/B,eAAe,CAACoC,KAAK,CAACL,QAAN,CAAe9B,IAAf,CAAoBmC,KAArB,CAAf,CADD,KAGCpC,eAAe,CAACoC,KAAK,CAACC,KAAP,CAAf;AACD,KAlBI,CAAN;AAmBA;;AACD,iBAAeyC,WAAf,GAA6B;AAC5B,UAAMvF,KAAK,CAACmE,IAAN,CAAY,kCAAZ,EAA8CvD,UAA9C,EACJ2B,IADI,CACE6B,GAAD,IAAS;AACd;AACC,UAAGA,GAAG,CAAC1D,IAAP,EAAY;AACXC,QAAAA,OAAO,CAACyD,GAAG,CAAC1D,IAAL,CAAP;AACAG,QAAAA,aAAa,CAACuD,GAAG,CAAC1D,IAAL,CAAb;AACA;;AACAa,MAAAA,aAAa,CAAC,KAAD,CAAb;AAEF,KATI,EAUJqB,KAVI,CAUGC,KAAD,IAAW;AACjBJ,MAAAA,OAAO,CAACC,GAAR,CAAYG,KAAZ,EADiB,CAEjB;AACA;;AACA,UAAIA,KAAK,CAACL,QAAV,EACC/B,eAAe,CAACoC,KAAK,CAACL,QAAN,CAAe9B,IAAf,CAAoBmC,KAArB,CAAf,CADD,KAGCpC,eAAe,CAACoC,KAAK,CAACC,KAAP,CAAf;AACD,KAlBI,CAAN;AAmBA;;AACD,QAAM0C,iBAAiB,GAAIpC,CAAD,IAAM;AAE5B,QAAGA,CAAC,CAACC,MAAF,CAASS,OAAZ,EACEvC,aAAa,CAAC,IAAD,CAAb,CADF,KAGEA,aAAa,CAAC,KAAD,CAAb;AAGF,QAAIgC,OAAO,GAAC,CAAC,GAAG7C,IAAJ,CAAZ;AACA,QAAI+E,KAAK,GAAC,CAAV;;AACF,SAAI,IAAIjC,CAAR,IAAaD,OAAb,EAAqB;AACpBA,MAAAA,OAAO,CAACC,CAAD,CAAP,CAAWO,QAAX,GAAoBX,CAAC,CAACC,MAAF,CAASS,OAA7B;AACA,UAAGV,CAAC,CAACC,MAAF,CAASS,OAAZ,EACA2B,KAAK,GAACA,KAAK,GAAClC,OAAO,CAACC,CAAD,CAAP,CAAWkC,UAAvB;AACA;;AACD/E,IAAAA,OAAO,CAAC4C,OAAD,CAAP;AAID,GAnBD;;AAqBA,QAAMoC,kBAAkB,GAAEC,KAAD,IAAS;AACjCnD,IAAAA,OAAO,CAACC,GAAR,CAAYhB,YAAZ;AACAC,IAAAA,eAAe,CAAC,IAAD,CAAf;AACAI,IAAAA,YAAY,CAAC,KAAD,CAAZ;AACAF,IAAAA,eAAe,CAAC,KAAD,CAAf;AACA,GALD;;AAOA,QAAMgE,kBAAkB,GAAED,KAAD,IAAS;AACjCnD,IAAAA,OAAO,CAACC,GAAR,CAAYhB,YAAZ;AACAG,IAAAA,eAAe,CAAC,IAAD,CAAf;AACAE,IAAAA,YAAY,CAAC,KAAD,CAAZ;AACAJ,IAAAA,eAAe,CAAC,KAAD,CAAf;AACA,GALD;;AAOA,QAAMmE,eAAe,GAAEF,KAAD,IAAS;AAC9BnD,IAAAA,OAAO,CAACC,GAAR,CAAYZ,SAAZ;AACAC,IAAAA,YAAY,CAAC,IAAD,CAAZ;AACA,GAHD;;AAKA,iBAAegE,IAAf,GAAsB;AACrBxF,IAAAA,WAAW,CAAC,IAAD,CAAX;AACA,UAAMP,KAAK,CAACmE,IAAN,CAAY,0CAAyCnC,KAAM,EAA3D,EACJO,IADI,CACEC,QAAD,IAAc;AACnB;AACCjC,MAAAA,WAAW,CAAC,KAAD,CAAX;AACAE,MAAAA,eAAe,CAAC+B,QAAQ,CAAC9B,IAAV,CAAf;AACD,KALI,EAMJkC,KANI,CAMGC,KAAD,IAAW;AACjBtC,MAAAA,WAAW,CAAC,KAAD,CAAX;AACAkC,MAAAA,OAAO,CAACC,GAAR,CAAYG,KAAZ,EAFiB,CAGjB;AACA;;AACA,UAAIA,KAAK,CAACL,QAAV,EACC/B,eAAe,CAACoC,KAAK,CAACL,QAAN,CAAe9B,IAAf,CAAoBmC,KAArB,CAAf,CADD,KAGCpC,eAAe,CAACoC,KAAK,CAACC,KAAP,CAAf;AACD,KAfI,CAAN;AAgBA;;AACD,QAAMkD,YAAY,GAAIJ,KAAD,IAAW;AAC/BA,IAAAA,KAAK,CAACK,cAAN;AACAxD,IAAAA,OAAO,CAACC,GAAR,CAAYlB,SAAZ;AACA,QAAI+B,OAAO,GAAC,CAAC,GAAG7C,IAAJ,CAAZ;AACA,QAAGc,SAAS,CAAC+C,MAAV,KAAmB,CAAtB,EACC1D,aAAa,CAAC0C,OAAD,CAAb,CADD,KAEI;AAEH,YAAM2C,OAAO,GAAC3C,OAAO,CAAC4C,MAAR,CAAgBC,EAAD,IAAM;AAClC,eAAOA,EAAE,CAAC3C,QAAH,CAAYC,MAAZ,CAAmBC,QAAnB,CAA4BnC,SAA5B,CAAP;AACA,OAFa,CAAd;AAGAX,MAAAA,aAAa,CAACqF,OAAD,CAAb;AAGC;AACF,GAfD;;AAiBA,QAAMG,cAAc,GAAIT,KAAD,IAAW;AACjC;AACA,QAAIA,KAAK,CAACU,OAAN,KAAkB,EAAlB,IAAwBV,KAAK,CAACW,KAAN,KAAgB,EAA5C,EAAgD;AAC/CP,MAAAA,YAAY,CAACJ,KAAD,CAAZ;AACA;AACD,GALD;;AAQA,QAAMY,QAAQ,GAAC,MAAI;AAClB,wBACA;AAAK,MAAA,SAAS,EAAC,wCAAf;AAAA,6BACC;AAAM,QAAA,SAAS,EAAC,6CAAhB;AAAA,+BACC;AAAK,UAAA,SAAS,EAAC,WAAf;AAAA,kCACC;AAAI,YAAA,SAAS,EAAC,uBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADD,eAEC;AAAK,YAAA,SAAS,EAAC,wBAAf;AAAA,mCAEA;AAAA,sCACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,eAEE;AAAA,uCACA;AAAO,kBAAA,IAAI,EAAC,MAAZ;AAAmB,kBAAA,IAAI,EAAC,IAAxB;AAA6B,kBAAA,WAAW,EAAC,cAAzC;AAAwD,kBAAA,MAAM,EAAEpD,CAAC,IAAInB,QAAQ,CAACmB,CAAC,CAACC,MAAF,CAASC,KAAV;AAA7E;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA,sBAFF,eAKE;AAAA,uCACD;AAAQ,kBAAA,IAAI,EAAC,QAAb;AAAsB,kBAAA,OAAO,EAAEyC,IAA/B;AAAsC,kBAAA,SAAS,EAAC,sBAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADC;AAAA;AAAA;AAAA;AAAA,sBALF;AAAA;AAAA;AAAA;AAAA;AAAA;AAFA;AAAA;AAAA;AAAA;AAAA,kBAFD;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,YADA;AA4BA,GA7BD;;AA+BA,QAAMU,gBAAgB,GAAC,MAAK;AAC3B,UAAMC,OAAO,GAAG9G,OAAO,CAAC,MAAM,CAI9B;AACC+G,MAAAA,MAAM,EAAE,cADT;AAECC,MAAAA,QAAQ,EAAE;AAFX,KAJ8B,EAS9B;AACCD,MAAAA,MAAM,EAAE,UADT;AAECC,MAAAA,QAAQ,EAAE;AAFX,KAT8B,EAa9B;AACCD,MAAAA,MAAM,EAAE,MADT;AAECC,MAAAA,QAAQ,EAAE;AAFX,KAb8B,EAiB9B;AACCD,MAAAA,MAAM,EAAE,iBADT;AAECC,MAAAA,QAAQ,EAAE;AAFX,KAjB8B,EAqB9B;AACCD,MAAAA,MAAM,EAAE,sBADT;AAECC,MAAAA,QAAQ,EAAE;AAFX,KArB8B,EA0B9B;AACCD,MAAAA,MAAM,EAAE,YADT;AAECC,MAAAA,QAAQ,EAAE;AAFX,KA1B8B,EA8B9B;AACCD,MAAAA,MAAM,EAAE,WADT;AAECC,MAAAA,QAAQ,EAAE;AAFX,KA9B8B,EAkC9B;AACCD,MAAAA,MAAM,EAAE,eADT;AAECC,MAAAA,QAAQ,EAAE;AAFX,KAlC8B,EAsC9B;AACCD,MAAAA,MAAM,EAAE,QADT;AAECC,MAAAA,QAAQ,EAAE;AAFX,KAtC8B,EA2C3B;AACFD,MAAAA,MAAM,EAAE,UADN;AAEFC,MAAAA,QAAQ,EAAE;AAFR,KA3C2B,EAgD9B;AACCD,MAAAA,MAAM,EAAE,UADT;AAECC,MAAAA,QAAQ,EAAE;AAFX,KAhD8B,EAoD9B;AACCD,MAAAA,MAAM,EAAE,SADT;AAECC,MAAAA,QAAQ,EAAE;AAFX;AAMA;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AAjEgC,KAAP,EAkErB,CAAClG,IAAD,CAlEqB,CAAvB;AAqED,wBACC;AAAK,MAAA,SAAS,EAAC,yCAAf;AAAA,6BACC;AAAK,QAAA,SAAS,EAAC,6CAAf;AAAA,+BAEC;AAAK,UAAA,SAAS,EAAC,yBAAf;AAAA,kCACC,QAAC,SAAD;AAAW,YAAA,OAAO,EAAEgG,OAApB;AAA6B,YAAA,IAAI,EAAEhG,IAAnC;AAAyC,YAAA,OAAO,EAAEQ,IAAlD;AAAwD,YAAA,cAAc,EAAE8C,cAAxE;AAAwF,YAAA,SAAS,EAAC;AAAlG;AAAA;AAAA;AAAA;AAAA,kBADD,eAGE;AAAA,sBACCpC,YAAY,IAAIlB,IAAhB,IAAwBA,IAAI,CAAC6D,MAAL,GAAY,CAApC,iBACD;AAAQ,cAAA,IAAI,EAAC,QAAb;AAAsB,cAAA,OAAO,EAAEF,mBAA/B;AAAoD,cAAA,SAAS,EAAC,cAA9D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAFA;AAAA;AAAA;AAAA;AAAA,kBAHF;AAAA;AAAA;AAAA;AAAA;AAAA;AAFD;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,YADD;AAmBC,GAzFD;;AA0FC,QAAMwC,qBAAqB,GAAC,MAAK;AAKjC,UAAMH,OAAO,GAAG9G,OAAO,CAAC,MAAM,CAI9B;AACC+G,MAAAA,MAAM,EAAE,cADT;AAECC,MAAAA,QAAQ,EAAE;AAFX,KAJ8B,EAS9B;AACCD,MAAAA,MAAM,EAAE,UADT;AAECC,MAAAA,QAAQ,EAAE;AAFX,KAT8B,EAa9B;AACCD,MAAAA,MAAM,EAAE,kBADT;AAECC,MAAAA,QAAQ,EAAE;AAFX,KAb8B,EAiB9B;AACCD,MAAAA,MAAM,EAAE,WADT;AAECC,MAAAA,QAAQ,EAAE;AAFX,KAjB8B,EAsB9B;AACCD,MAAAA,MAAM,EAAE,YADT;AAECC,MAAAA,QAAQ,EAAE;AAFX,KAtB8B,EA0B9B;AACCD,MAAAA,MAAM,EAAE,WADT;AAECC,MAAAA,QAAQ,EAAE;AAFX,KA1B8B,EA8B9B;AACCD,MAAAA,MAAM,EAAE,OADT;AAECC,MAAAA,QAAQ,EAAE;AAFX,KA9B8B,EAkC9B;AACCD,MAAAA,MAAM,EAAE,eADT;AAECC,MAAAA,QAAQ,EAAE;AAFX,KAlC8B,EAsC9B;AACCD,MAAAA,MAAM,EAAE,QADT;AAECC,MAAAA,QAAQ,EAAE;AAFX,KAtC8B,EA2C3B;AACFD,MAAAA,MAAM,EAAE,UADN;AAEFC,MAAAA,QAAQ,EAAE;AAFR,KA3C2B,EAgD9B;AACCD,MAAAA,MAAM,EAAE,UADT;AAECC,MAAAA,QAAQ,EAAE;AAFX,KAhD8B,EAoD9B;AACCD,MAAAA,MAAM,EAAE,SADT;AAECC,MAAAA,QAAQ,EAAE;AAFX;AAMA;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AAjEgC,KAAP,EAkErB,CAAClG,IAAD,CAlEqB,CAAvB;AAqED,wBACC;AAAK,MAAA,SAAS,EAAC,yCAAf;AAAA,6BACC;AAAK,QAAA,SAAS,EAAC,6CAAf;AAAA,+BAEC;AAAK,UAAA,SAAS,EAAC,yBAAf;AAAA,iCACC,QAAC,SAAD;AAAW,YAAA,OAAO,EAAEgG,OAApB;AAA6B,YAAA,IAAI,EAAEhG,IAAnC;AAAyC,YAAA,OAAO,EAAEQ,IAAlD;AAAwD,YAAA,cAAc,EAAE8C,cAAxE;AAAwF,YAAA,SAAS,EAAC;AAAlG;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA;AAFD;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,YADD;AAgBI,GA1FH;;AA2FA,QAAM8C,aAAa,GAAC,MAAK;AAE1B,UAAMC,oBAAoB,GAAEC,KAAD,IAAW5D,CAAD,IAAM;AACzCX,MAAAA,OAAO,CAACC,GAAR,CAAYsE,KAAK,GAAG,IAAR,GAAe5D,CAAC,CAACC,MAAF,CAASC,KAApC;AACD,UAAI2D,IAAI,GAAGrG,UAAU,CAACoG,KAAD,CAArB;AAEAC,MAAAA,IAAI,CAAC,aAAD,CAAJ,GAAsB7D,CAAC,CAACC,MAAF,CAASC,KAA/B;AACA,UAAIC,OAAO,GAAG,CAAC,GAAG3C,UAAJ,CAAd;AACA2C,MAAAA,OAAO,CAACyD,KAAD,CAAP,GAAiBC,IAAjB;AACApG,MAAAA,aAAa,CAAC0C,OAAD,CAAb;AAEA,KATD;;AAUA,UAAM2D,wBAAwB,GAAEF,KAAD,IAAW5D,CAAD,IAAM;AAC7CX,MAAAA,OAAO,CAACC,GAAR,CAAYsE,KAAK,GAAG,IAAR,GAAe5D,CAAC,CAACC,MAAF,CAASC,KAApC;AACD,UAAI2D,IAAI,GAAGrG,UAAU,CAACoG,KAAD,CAArB;AAEAC,MAAAA,IAAI,CAAC,iBAAD,CAAJ,GAA0B7D,CAAC,CAACC,MAAF,CAASC,KAAnC;AACA,UAAIC,OAAO,GAAG,CAAC,GAAG3C,UAAJ,CAAd;AACA2C,MAAAA,OAAO,CAACyD,KAAD,CAAP,GAAiBC,IAAjB;AACApG,MAAAA,aAAa,CAAC0C,OAAD,CAAb;AAEA,KATD;;AAWC,UAAM4D,cAAc,GAAIlD,EAAD,IAAQ;AAC3BxB,MAAAA,OAAO,CAACC,GAAR,CAAYuB,EAAZ;AACA9B,MAAAA,WAAW,CAAC8B,EAAD,CAAX;AACD,KAHH;;AAIA,UAAMD,cAAc,GAAIC,EAAD,IAAM;AAC7BxB,MAAAA,OAAO,CAACC,GAAR,CAAYuB,EAAZ;AACA9C,MAAAA,OAAO,CAAC8C,EAAD,CAAP;AACA,KAHA;;AAIA,UAAMyC,OAAO,GAAG9G,OAAO,CAAC,MAAM,CAC9B;AACC+G,MAAAA,MAAM,eAAE;AAAO,QAAA,IAAI,EAAC,UAAZ;AAAuB,QAAA,QAAQ,EAAEnB,iBAAjC;AAAoD,QAAA,OAAO,EAAElE;AAA7D;AAAA;AAAA;AAAA;AAAA,cADT;AAECsF,MAAAA,QAAQ,EAAG,QAFZ;AAGCQ,MAAAA,IAAI,EAAE,CAAC;AAAEC,QAAAA;AAAF,OAAD,kBACL;AAAA,kBACGA,GAAG,CAACC,QAAJ,CAAa3E,MAAb,KAAsB,UAAtB,iBACD;AAAO,UAAA,IAAI,EAAC,UAAZ;AAAuB,UAAA,QAAQ,EAAEkB,cAAc,CAACwD,GAAG,CAACC,QAAJ,CAAa7D,QAAb,CAAsBC,MAAvB,CAA/C;AAAgF,UAAA,OAAO,EAAE2D,GAAG,CAACC,QAAJ,CAAavD;AAAtG;AAAA;AAAA;AAAA;AAAA;AAFF;AAAA;AAAA;AAAA;AAAA;AAJF,KAD8B,EAiB9B;AACC4C,MAAAA,MAAM,EAAE,cADT;AAECC,MAAAA,QAAQ,EAAE;AAFX,KAjB8B,EAsB9B;AACCD,MAAAA,MAAM,EAAE,SADT;AAECC,MAAAA,QAAQ,EAAE,iBAFX;AAGCQ,MAAAA,IAAI,EAAE,CAAC;AAAEC,QAAAA;AAAF,OAAD,kBACL;AAAA,kBAECA,GAAG,CAACC,QAAJ,CAAa7D,QAAb,CAAsB8D;AAFvB;AAAA;AAAA;AAAA;AAAA;AAJF,KAtB8B,EAkC9B;AACCZ,MAAAA,MAAM,EAAE,MADT;AAECC,MAAAA,QAAQ,EAAE;AAFX,KAlC8B,EAsC9B;AACCD,MAAAA,MAAM,EAAE,kBADT;AAECC,MAAAA,QAAQ,EAAE;AAFX,KAtC8B,EA2C9B;AACCD,MAAAA,MAAM,EAAE,aADT;AAECC,MAAAA,QAAQ,EAAE,aAFX;AAGCQ,MAAAA,IAAI,EAAE,CAAC;AAAEC,QAAAA;AAAF,OAAD,kBACL;AAAA,+BAEC;AAAO,UAAA,IAAI,EAAC,MAAZ;AAAmB,UAAA,IAAI,EAAC,UAAxB;AAAoC,UAAA,QAAQ,EAAEN,oBAA9C;AAAoE,UAAA,KAAK,EAAEM,GAAG,CAACC,QAAJ,CAAaE;AAAxF;AAAA;AAAA;AAAA;AAAA;AAFD;AAAA;AAAA;AAAA;AAAA;AAJF,KA3C8B,EAuD9B;AACCb,MAAAA,MAAM,EAAE,uBADT;AAECC,MAAAA,QAAQ,EAAE;AAFX,KAvD8B,EA2D9B;AACCD,MAAAA,MAAM,EAAE,aADT;AAECC,MAAAA,QAAQ,EAAE,iBAFX;AAGCQ,MAAAA,IAAI,EAAE,CAAC;AAAEC,QAAAA;AAAF,OAAD,kBACL;AAAA,+BAEC;AAAO,UAAA,IAAI,EAAC,MAAZ;AAAmB,UAAA,IAAI,EAAC,cAAxB;AAAuC,UAAA,QAAQ,EAAEN,oBAAjD;AAAuE,UAAA,KAAK,EAAEM,GAAG,CAACC,QAAJ,CAAaG;AAA3F;AAAA;AAAA;AAAA;AAAA;AAFD;AAAA;AAAA;AAAA;AAAA;AAJF,KA3D8B,EAwE9B;AACCd,MAAAA,MAAM,EAAE,WADT;AAECC,MAAAA,QAAQ,EAAE;AAFX,KAxE8B,EA4E9B;AACCD,MAAAA,MAAM,EAAE,eADT;AAECC,MAAAA,QAAQ,EAAE;AAFX,KA5E8B,EAiF3B;AACFD,MAAAA,MAAM,EAAE,UADN;AAEFC,MAAAA,QAAQ,EAAE;AAFR,KAjF2B,EAsF9B;AACCD,MAAAA,MAAM,EAAE,UADT;AAECC,MAAAA,QAAQ,EAAE;AAFX,KAtF8B,EA0F9B;AACCD,MAAAA,MAAM,EAAE,SADT;AAECC,MAAAA,QAAQ,EAAE;AAFX;AAMA;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AAvGgC,KAAP,EAwGrB,CAAChG,UAAD,CAxGqB,CAAvB;AA2GD,wBACC;AAAK,MAAA,SAAS,EAAC,yCAAf;AAAA,6BACC;AAAK,QAAA,SAAS,EAAC,6CAAf;AAAA,+BAEC;AAAK,UAAA,SAAS,EAAC,yBAAf;AAAA,kCACC,QAAC,SAAD;AAAW,YAAA,OAAO,EAAE8F,OAApB;AAA6B,YAAA,IAAI,EAAE9F,UAAnC;AAA+C,YAAA,OAAO,EAAEM,IAAxD;AAA8D,YAAA,cAAc,EAAE8C,cAA9E;AACA,YAAA,WAAW,EAAE9B,QADb;AAES,YAAA,sBAAsB,EAAEiF,cAFjC;AAEiD,YAAA,SAAS,EAAC;AAF3D;AAAA;AAAA;AAAA;AAAA,kBADD,eAKC;AAAA,uBACC/F,QAAQ,GAAC,EAAT,IAAeR,UAAf,IAA8BA,UAAU,CAAC2D,MAAX,GAAkB,CAAhD,iBACA;AAAQ,cAAA,IAAI,EAAC,QAAb;AAAsB,cAAA,OAAO,EAAEL,YAA/B;AAA6C,cAAA,SAAS,EAAC,cAAvD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAFD,EAIC9C,QAAQ,KAAG,EAAX,IAAiBR,UAAjB,IAA+BA,UAAU,CAAC2D,MAAX,GAAkB,CAAjD,iBACA;AAAQ,cAAA,IAAI,EAAC,QAAb;AAAsB,cAAA,OAAO,EAAEgB,WAA/B;AAA4C,cAAA,SAAS,EAAC,cAAtD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBALD,EAOCnE,QAAQ,GAAC,EAAT,IAAeR,UAAf,IAA6BA,UAAU,CAAC2D,MAAX,GAAkB,CAA/C,iBACA;AAAQ,cAAA,IAAI,EAAC,QAAb;AAAsB,cAAA,OAAO,EAAEe,YAA/B;AAA6C,cAAA,SAAS,EAAC,cAAvD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBARD;AAAA;AAAA;AAAA;AAAA;AAAA,kBALD;AAAA;AAAA;AAAA;AAAA;AAAA;AAFD;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,YADD;AA4BI,GAtKH;;AAyKD,sBACE;AAAK,IAAA,SAAS,EAAC,wCAAf;AAAA,2BACA;AAAM,MAAA,SAAS,EAAC,6CAAhB;AAAA,8BACC;AAAK,QAAA,SAAS,EAAC,WAAf;AAAA,+BACC;AAAI,UAAA,SAAS,EAAC,uBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,cADD,eAMC;AAAK,QAAA,SAAS,EAAC,cAAf;AAAA,kBAA+B9E;AAA/B;AAAA;AAAA;AAAA;AAAA,cAND,eAQC;AAAK,QAAA,SAAS,EAAC,eAAf;AAAA,gCAEC;AAAA,iCACC;AAAO,YAAA,IAAI,EAAC,MAAZ;AAAmB,YAAA,IAAI,EAAC,QAAxB;AACA,YAAA,QAAQ,EAAE4C,CAAC,IAAI3B,YAAY,CAAC2B,CAAC,CAACC,MAAF,CAASC,KAAV,CAD3B;AAC6C,YAAA,WAAW,EAAC,SADzD;AAEC,YAAA,UAAU,EAAE+C,cAFb;AAGC,YAAA,SAAS,EAAC;AAHX;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,gBAFD,eASC;AAAA,iCACA;AAAQ,YAAA,IAAI,EAAC,QAAb;AAAsB,YAAA,OAAO,EAAEL,YAA/B;AAA6C,YAAA,SAAS,EAAC,cAAvD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA,gBATD,eAcA;AAAA,iCACC;AAAQ,YAAA,IAAI,EAAC,QAAb;AAAsB,YAAA,OAAO,EAAEL,kBAA/B;AAAmD,YAAA,SAAS,EAAC,cAA7D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,gBAdA,eAmBA;AAAA,iCACC;AAAQ,YAAA,IAAI,EAAC,QAAb;AAAsB,YAAA,OAAO,EAAEE,kBAA/B;AAAmD,YAAA,SAAS,EAAC,cAA7D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,gBAnBA,eAwBA;AAAA,iCACC;AAAQ,YAAA,IAAI,EAAC,QAAb;AAAsB,YAAA,OAAO,EAAEC,eAA/B;AAAgD,YAAA,SAAS,EAAC,cAA1D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,gBAxBA;AAAA;AAAA;AAAA;AAAA;AAAA,cARD,eAsCG;AAAA,mBACCpE,YAAY,KAAG,KAAf,IAAwBE,YAAY,KAAG,KAAvC,IAAgDE,SAAS,KAAG,KAA5D,iBACD,QAAC,aAAD;AAAA;AAAA;AAAA;AAAA,gBAFA,EAKCJ,YAAY,KAAG,IAAf,IAAuBE,YAAY,KAAG,KAAtC,IAA+CE,SAAS,KAAG,KAA3D,iBACD,QAAC,qBAAD;AAAA;AAAA;AAAA;AAAA,gBANA,EASEF,YAAY,KAAG,IAAf,IAAuBE,SAAS,KAAG,KAAnC,iBACF,QAAC,gBAAD;AAAA;AAAA;AAAA;AAAA,gBAVA,EAYEA,SAAS,KAAG,IAAZ,iBACF,QAAC,QAAD;AAAA;AAAA;AAAA;AAAA,gBAbA;AAAA;AAAA;AAAA;AAAA;AAAA,cAtCH;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA,UADF;AAmEA,CAr0BD;;AAu0BA,eAAejC,UAAU,CAACM,YAAD,CAAzB","sourcesContent":["import { useState, useEffect,useMemo } from \"react\";\nimport { withRouter,Link } from \"react-router-dom\";\nimport { useForm } from \"react-hook-form\";\nimport axios from 'axios';\nimport TablePage, { SelectColumnFilter } from '../utils/TablePage' \n\n\nconst CrBalRelease = () => {\n\n\t \n\tconst [lightTheme, setLightTheme] = useState(true);\n\tconst [disabled,setDisabled]=useState(false);\n\tconst [serverErrors,setServerErrors]=useState([]);\n\tconst [data, setData]=useState([]);\n\tconst [searchData,setSearchData]=useState([]);\n\tconst [search,setSearch]=useState('');\n\tconst [process,setProcess]=useState('');\n\tconst [page,setPage]=useState(0);\n\tconst [usrLevel,setUsrLevel]=useState(0);\n\tconst [allChecked,setAllChecked]=useState(false);\n\tconst [inputText,setInputText]=useState('');\n\tconst [approvedList,setApprovedList]=useState(false);\n\tconst [prepareBatch,setPrepareBatch]=useState(false);\n\tconst [preparePm,setPreparePm]=useState(false);\n\tconst [batch,setBatch]=useState('');\n\t const [pageSize, setPageSize] = useState(0);\n\t \n\t\n\tuseEffect(() => {\n\t\tlet fetching = false;\n\t\tasync function fetchData() {\n\t\t\tif(!fetching && usrLevel && !approvedList && !prepareBatch){\n\t\t\t\tif(usrLevel<30){\n\t\t\tawait axios.get('/paySummarys/crbalRelease/fetchList')\n\t\t\t\t.then((response) => {\n\t\t\t\t\tconsole.log(response.data[0].action);\n\t\t\t\t\tif(response.data && response.data[0].action)\n\t\t\t\t\t\tsetProcess(response.data[0].action)\n\t\t\t\t\tsetData(response.data);\n\t\t\t\t\tsetSearchData(response.data);\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\t//console.log(error);\n\t\t\t\t\t//console.log(error.response.status);\n\t\t\t\t\t//console.log(error.response.headers);\n\t\t\t\t\tif (error.response)\n\t\t\t\t\t\tsetServerErrors(error.response.data.error);\n\t\t\t\t\telse\n\t\t\t\t\t\tsetServerErrors(error.Error);\n\t\t\t\t})\n\t\t\t\t}\n\t\t\t\tif(usrLevel>=30){\n\t\t\tawait axios.get('/paySummarys/crbalRelease/fetchPendingApprovalList')\n\t\t\t\t.then((response) => {\n\t\t\t\t\tconsole.log(response.data[0].action);\n\t\t\t\t\tif(response.data && response.data[0].action)\n\t\t\t\t\t\tsetProcess(response.data[0].action)\n\t\t\t\t\tsetData(response.data);\n\t\t\t\t\tsetSearchData(response.data);\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\t//console.log(error);\n\t\t\t\t\t//console.log(error.response.status);\n\t\t\t\t\t//console.log(error.response.headers);\n\t\t\t\t\tif (error.response)\n\t\t\t\t\t\tsetServerErrors(error.response.data.error);\n\t\t\t\t\telse\n\t\t\t\t\t\tsetServerErrors(error.Error);\n\t\t\t\t})\n\t\t\t\t}\n\t\t\t\t}\n\t\t}\n\t\tfetchData();\n\t\treturn () => { fetching = true; }\n\n\t}, [usrLevel,approvedList,prepareBatch,preparePm]);\n\t\n\tuseEffect(() => {\n\t\tlet fetching = false;\n\t\tasync function fetchApprovedData() {\n\t\t\tif(!fetching && approvedList){\n\t\t\t console.log('fetch approved')\n\t\t\tawait axios.get('/paySummarys/crbalRelease/fetchApprovedList')\n\t\t\t\t.then((response) => {\n\t\t\t\t\tconsole.log(response.data[0].action);\n\t\t\t\t\tif(response.data && response.data[0].action)\n\t\t\t\t\t\tsetProcess(response.data[0].action)\n\t\t\t\t\tsetData(response.data);\n\t\t\t\t\t \n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\t//console.log(error);\n\t\t\t\t\t//console.log(error.response.status);\n\t\t\t\t\t//console.log(error.response.headers);\n\t\t\t\t\tif (error.response)\n\t\t\t\t\t\tsetServerErrors(error.response.data.error);\n\t\t\t\t\telse\n\t\t\t\t\t\tsetServerErrors(error.Error);\n\t\t\t\t})\n\t\t\t\t\n\t\t\t\t \n\t\t\t\t}\n\t\t}\n\t\tfetchApprovedData();\n\t\treturn () => { fetching = true; }\n\n\t}, [approvedList,prepareBatch,preparePm]);\n\t\n\tuseEffect(() => {\n\t\tlet fetching = false;\n\t\tasync function fetchBatchData() {\n\t\t\tif(!fetching && prepareBatch){\n\t\t\t console.log('fetch prepare batch')\n\t\t\tawait axios.get('/paySummarys/crbalRelease/fetchBatchList')\n\t\t\t\t.then((response) => {\n\t\t\t\t\tconsole.log(response.data);\n\t\t\t\t\t \n\t\t\t\t\tsetData(response.data);\n\t\t\t\t\tsetSearchData([]);\n\t\t\t\t\t \n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\t//console.log(error);\n\t\t\t\t\t//console.log(error.response.status);\n\t\t\t\t\t//console.log(error.response.headers);\n\t\t\t\t\tif (error.response)\n\t\t\t\t\t\tsetServerErrors(error.response.data.error);\n\t\t\t\t\telse\n\t\t\t\t\t\tsetServerErrors(error.Error);\n\t\t\t\t})\n\t\t\t\t\n\t\t\t\t \n\t\t\t\t}\n\t\t}\n\t\tfetchBatchData();\n\t\treturn () => { fetching = true; }\n\n\t}, [prepareBatch,approvedList]);\n\t\n\tuseEffect(() => {\n\t \n\t\t async function fetchUsrLevel() {\n\t \n\t\tawait axios.get(`/miscs/usrLevel`)\n\t\t\t.then((response) => {\n\t\t\t\t//console.log(data);\n\t\t\t\t setUsrLevel(response.data);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tsetDisabled(false);\n\t\t\t\tconsole.log(error);\n\t\t\t\t//console.log(error.response.status);\n\t\t\t\t//console.log(error.response.headers);\n\t\t\t\tif (error.response)\n\t\t\t\t\tsetServerErrors(error.response.data.error);\n\t\t\t\telse\n\t\t\t\t\tsetServerErrors(error.Error);\n\t\t\t});\n\t}\n\n\t\t\tfetchUsrLevel();\n\t\t\t \n\t\t\n\n\t}, []);\n\n\tconst handleInputChange=(ano) =>(e) =>{\n\t\tconsole.log(ano+\"--\"+e.target.value);\n\t\tlet newData=[...searchData];\n\t\t \n\t\t  for(var k in searchData){\n\t\t\t   if(newData[k].employee.armyNo.includes(ano))\n\t\t\t   \tnewData[k].crBalRate=e.target.value;\n\t\t   }\n\t\tsetSearchData(newData);\n\t\t\n\t\t \n\t}\n\t\n\t\n\t\n\tconst handleCheckBox =ano=> (e) =>{\n\t\t   console.log(ano+'--'+e.target.checked);\n\t\t   let newData=[...searchData];\n\t\t     \n\t\t     \n       \n\t\t   for(var k in searchData){\n\t\t\t   if(newData[k].employee.armyNo.includes(ano))\n\t\t\t   \tnewData[k].selected=e.target.checked;\n\t\t   }\n\t\t   \n\t\tsetSearchData(newData);\n\t\t\t\n\t\t \n\t\t \n\t}\n\t\n\tconst handleCallBack = (pp)=>{\n\t\tconsole.log(pp); \n\t\tsetPage(pp);\n\t}\n\tasync function processCrBal() {\n\t\tawait axios.post(`/employeeDeductions/crbalRelease/process`,searchData)\n\t\t\t.then((res) => {\n\t\t\t\t//console.log(data);\n\t\t\t\t if(res.data){\n\t\t\t\t \tsetData(res.data);\n\t\t\t\t \tsetSearchData(res.data);\n\t\t\t\t }\n\t\t\t\t \tsetAllChecked(false);\n\t\t\t\t \n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tconsole.log(error);\n\t\t\t\t//console.log(error.response.status);\n\t\t\t\t//console.log(error.response.headers);\n\t\t\t\tif (error.response)\n\t\t\t\t\tsetServerErrors(error.response.data.error);\n\t\t\t\telse\n\t\t\t\t\tsetServerErrors(error.Error);\n\t\t\t});\n\t}\n\t\n\tasync function processPrepareBatch() {\n\t\tsetDisabled(true);\n\t\tawait axios.post(`/paySummarys/crbalRelease/preparePmCs`,data)\n\t\t\t.then((res) => {\n\t\t\t\t//console.log(data);\n\t\t\t\t if(res.data){\n\t\t\t\t \tsetData(res.data[0]);\n\t\t\t\t \tsetSearchData(res.data[0]);\n\t\t\t\t \tsetDisabled(false);\n\t\t\t\t \tif(res.data[1]){\n\t\t\t\t\t\t let fname=res.data[1];\n\t\t\t\t\t\t if(fname!=null && fname.length>0){\n\t\t\taxios({\n\t\t\turl: `/employeeDeductions/neftBatchReport/download/` + fname, \n\t\t\tmethod: 'GET',\n\t\t\tresponseType: 'blob', // important\n\t\t}).then((res) => {\n\t\t\t//console.log(response.data);\n\t\t\tconst url =URL.createObjectURL(new Blob([res.data]));\n\t\t\tconst pdfWindow=window.open();\n\t\t\tpdfWindow.location.href=url;\n\t\t\tconst link=pdfWindow.location.href;\n\t\t\t//const link = document.createElement('a');\n\t\t\t//link.href = url;\n\t\t\tlink.setAttribute('download', fname);\n\t\t \n\t\t\t//document.body.appendChild(link);\n\t\t\tlink.click();\n\t\t});\n\t\t}\n\t\t\t\t\t }\n\t\t\t\t }\n\t\t\t\t \tsetAllChecked(false);\n\t\t\t\t \n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tconsole.log(error);\n\t\t\t\t//console.log(error.response.status);\n\t\t\t\t//console.log(error.response.headers);\n\t\t\t\tif (error.response)\n\t\t\t\t\tsetServerErrors(error.response.data.error);\n\t\t\t\telse\n\t\t\t\t\tsetServerErrors(error.Error);\n\t\t\t});\n\t}\n \n async function approveCrBal() {\n\t\tawait axios.post(`/paySummarys/crbalRelease/approve`,searchData)\n\t\t\t.then((res) => {\n\t\t\t\t//console.log(data);\n\t\t\t\t if(res.data){\n\t\t\t\t \tsetData(res.data);\n\t\t\t\t \tsetSearchData(res.data);\n\t\t\t\t }\n\t\t\t\t \tsetAllChecked(false);\n\t\t\t\t \n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tconsole.log(error);\n\t\t\t\t//console.log(error.response.status);\n\t\t\t\t//console.log(error.response.headers);\n\t\t\t\tif (error.response)\n\t\t\t\t\tsetServerErrors(error.response.data.error);\n\t\t\t\telse\n\t\t\t\t\tsetServerErrors(error.Error);\n\t\t\t});\n\t}\n async function submitCrBal() {\n\t\tawait axios.post(`/paySummarys/crbalRelease/submit`,searchData)\n\t\t\t.then((res) => {\n\t\t\t\t//console.log(data);\n\t\t\t\t if(res.data){\n\t\t\t\t \tsetData(res.data);\n\t\t\t\t \tsetSearchData(res.data);\n\t\t\t\t }\n\t\t\t\t \tsetAllChecked(false);\n\t\t\t\t \n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tconsole.log(error);\n\t\t\t\t//console.log(error.response.status);\n\t\t\t\t//console.log(error.response.headers);\n\t\t\t\tif (error.response)\n\t\t\t\t\tsetServerErrors(error.response.data.error);\n\t\t\t\telse\n\t\t\t\t\tsetServerErrors(error.Error);\n\t\t\t});\n\t}\n\tconst updateCheckBoxAll = (e) =>{\n\t\t   \n\t\t   if(e.target.checked)\n\t\t   \t\tsetAllChecked(true);\n\t\t   \telse\n\t\t   \t\tsetAllChecked(false);\n\t\t   \t\n\t\t   \n\t\t\t  let newData=[...data];\n\t\t\t  let count=0;\n\t\t\tfor(var k in newData){\n\t\t\t\tnewData[k].selected=e.target.checked;\n\t\t\t\tif(e.target.checked)\n\t\t\t\tcount=count+newData[k].totalItems;\n\t\t\t}\n\t\t\tsetData(newData);\n\t\t\t \n\t\t \n\t\t \n\t}\n\t\n\tconst handleApprovedList=(event)=>{\n\t\tconsole.log(approvedList);\n\t\tsetApprovedList(true);\n\t\tsetPreparePm(false);\n\t\tsetPrepareBatch(false);\n\t}\n\t\n\tconst handlePrepareBatch=(event)=>{\n\t\tconsole.log(approvedList);\n\t\tsetPrepareBatch(true);\n\t\tsetPreparePm(false);\n\t\tsetApprovedList(false);\n\t}\n\t\n\tconst handlePreparePm=(event)=>{\n\t\tconsole.log(preparePm);\n\t\tsetPreparePm(true);\n\t}\n\t\n\tasync function pmcs() {\n\t\tsetDisabled(true);\n\t\tawait axios.post(`/employeeDeductions/crbalPmCs/generate/${batch}`)\n\t\t\t.then((response) => {\n\t\t\t\t//console.log(data);\n\t\t\t\t setDisabled(false);\n\t\t\t\t setServerErrors(response.data);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tsetDisabled(false);\n\t\t\t\tconsole.log(error);\n\t\t\t\t//console.log(error.response.status);\n\t\t\t\t//console.log(error.response.headers);\n\t\t\t\tif (error.response)\n\t\t\t\t\tsetServerErrors(error.response.data.error);\n\t\t\t\telse\n\t\t\t\t\tsetServerErrors(error.Error);\n\t\t\t});\n\t}\n\tconst handleSubmit = (event) => {\n\t\tevent.preventDefault();\n\t\tconsole.log(inputText);\n\t\tlet newData=[...data];\n\t\tif(inputText.length===0)\n\t\t\tsetSearchData(newData);\n\t\telse{\n\t\t\t\n\t\t\tconst results=newData.filter((ed)=>{\n\t\t\t\treturn ed.employee.armyNo.includes(inputText);\n\t\t\t});\n\t\t\tsetSearchData(results);\n\t\t\t\n\t\t \n\t\t }\n\t}\t\n\t\n\tconst handleKeyPress = (event) => {\n\t\t// look for the `Enter` keyCode\n\t\tif (event.keyCode === 13 || event.which === 13) {\n\t\t\thandleSubmit(event)\n\t\t}\n\t}\n\t\n\t\n\tconst ShowPmCs=()=>{\n\t\treturn (\n\t\t<div className=\"min-h-screen bg-gray-100 text-gray-900\">\n\t\t\t<main className=\"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 pt-4\">\n\t\t\t\t<div className=\"mt-2 ml-4\">\n\t\t\t\t\t<h1 className=\"text-xl font-semibold\">CR Bal Pm/Cs</h1>\n\t\t\t\t\t<div className=\"grid grid-cols-2 gap-0\">\n\t\t\t\t\t\n\t\t\t\t\t<div >\n\t\t\t\t\t\t\t<b>Batch No</b>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<input type=\"text\" name=\"pm\" placeholder=\"batch number\" onBlur={e => setBatch(e.target.value)} />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t<button type=\"button\" onClick={pmcs}  className=\" w-36 ml-8 p-0 h-15 \" >Generate PMCS</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\t\t\n\t\t\t\t\t \n\t\t\t\t\t\t\t \n\t\t\t\t\t\t\t\n\t\t\t\t\t\t \t\t\t\t\t\n\t\t\t\t\t</div>\t\t\n\t\t\t\t\t \n\n\n\t\t\t\t</div>\n\t\t\t</main>\n\t\t</div>\n\t);\n\t}\n\t\n\tconst ShowPrepareBatch=() =>{\n\t\tconst columns = useMemo(() => [\n\t\t \n\t\t \n\t\t \n\t\t{\n\t\t\tHeader: \"Month Ending\",\n\t\t\taccessor: 'monthEnding',\n\t\t},\n\t\t\n\t\t{\n\t\t\tHeader: \"Employee\",\n\t\t\taccessor: 'employee.cdaoNo',\n\t\t},\n\t\t{\n\t\t\tHeader: \"Task\",\n\t\t\taccessor: 'employee.task',\n\t\t},\n\t\t{\n\t\t\tHeader: \"Opening Balance\",\n\t\t\taccessor: 'openingBalance',\n\t\t},\n\t\t{\n\t\t\tHeader: \"Perm Opening Balance\",\n\t\t\taccessor: 'openingBalance',\n\t\t},\n\t\t \n\t\t{\n\t\t\tHeader: \"Cr Bal Amt\",\n\t\t\taccessor: 'crBalAmount',\n\t\t},\n\t\t{\n\t\t\tHeader: \"Cr Bal Dt\",\n\t\t\taccessor: 'crBalDate',\n\t\t},\n\t\t{\n\t\t\tHeader: \"Record Status\",\n\t\t\taccessor: 'crBalRecordStatus',\n\t\t},\n\t\t{\n\t\t\tHeader: \"Reason\",\n\t\t\taccessor: 'crBalReason',\n\t\t},\n\t\t \n\t\t   {\n\t\t\tHeader: \"Aud Date\",\n\t\t\taccessor: 'crBalAudDate',\n\t\t},\n\t\t\n\t\t{\n\t\t\tHeader: \"Aao Date\",\n\t\t\taccessor: 'crBalAaoDate',\n\t\t},\n\t\t{\n\t\t\tHeader: \"Ao Date\",\n\t\t\taccessor: 'crBalAoDate',\n\t\t},\n\t\t\n\t\t\n\t\t/*\n\t\t{\n\t\t\tHeader: \"Login Name\",\n\t\t\taccessor: 'loginName',\n\t\t\tFilter: SelectColumnFilter,  // new\n\t\t\tfilter: 'includes',\n\t\t},\n\t\t*/\n\t], [data])\n\t \n\t\n\treturn (\n\t\t<div className=\"min-h-screen bg-green-100 text-gray-700\">\n\t\t\t<div className=\"max-w-5xl mx-auto px-2 sm:px-6 lg:px-8 pt-4\">\n\t\t\t\t \n\t\t\t\t<div className=\"-mt-2 max-h-1 py-0 ml-0\">\n\t\t\t\t\t<TablePage columns={columns} data={data} newpage={page} parentCallback={handleCallBack} className=\"table-auto\" />\n\t\t\t\t\n\t\t\t\t\t <div>\n\t\t\t\t\t {prepareBatch && data && data.length>0 &&\n\t\t\t\t\t\t<button type=\"button\" onClick={processPrepareBatch} className=\"w-32 m-0 p-0\">Prepare Batch</button>\n\t\t\t\t\t}\n\t\t\t\t\t </div>\n\t\t\t\t \n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t</div>\n\n\t\t</div>\n\t);\n\t}\n\t const ShowCrBalApprovedList=() =>{\n\t\n\t\n\t\n\t\t \n\t const columns = useMemo(() => [\n\t\t \n\t\t \n\t\t \n\t\t{\n\t\t\tHeader: \"Month Ending\",\n\t\t\taccessor: 'qe',\n\t\t},\n\t\t\n\t\t{\n\t\t\tHeader: \"Employee\",\n\t\t\taccessor: 'employee.armyNo',\n\t\t},\n\t\t{\n\t\t\tHeader: \"Openeing Balance\",\n\t\t\taccessor: 'openingBalance',\n\t\t},\n\t\t{\n\t\t\tHeader: \"Release %\",\n\t\t\taccessor: 'crBalRate',\n\t\t},\n\t\t \n\t\t{\n\t\t\tHeader: \"Cr Bal Amt\",\n\t\t\taccessor: 'crBalAmount',\n\t\t},\n\t\t{\n\t\t\tHeader: \"Cr Bal Dt\",\n\t\t\taccessor: 'crBalDate',\n\t\t},\n\t\t{\n\t\t\tHeader: \"Batch\",\n\t\t\taccessor: 'crBalBatch',\n\t\t},\n\t\t{\n\t\t\tHeader: \"Record Status\",\n\t\t\taccessor: 'crBalRecordStatus',\n\t\t},\n\t\t{\n\t\t\tHeader: \"Reason\",\n\t\t\taccessor: 'crBalReason',\n\t\t},\n\t\t \n\t\t   {\n\t\t\tHeader: \"Aud Date\",\n\t\t\taccessor: 'crBalAudDate',\n\t\t},\n\t\t\n\t\t{\n\t\t\tHeader: \"Aao Date\",\n\t\t\taccessor: 'crBalAaoDate',\n\t\t},\n\t\t{\n\t\t\tHeader: \"Ao Date\",\n\t\t\taccessor: 'crBalAoDate',\n\t\t},\n\t\t\n\t\t\n\t\t/*\n\t\t{\n\t\t\tHeader: \"Login Name\",\n\t\t\taccessor: 'loginName',\n\t\t\tFilter: SelectColumnFilter,  // new\n\t\t\tfilter: 'includes',\n\t\t},\n\t\t*/\n\t], [data])\n\t \n\t\n\treturn (\n\t\t<div className=\"min-h-screen bg-green-100 text-gray-700\">\n\t\t\t<div className=\"max-w-5xl mx-auto px-2 sm:px-6 lg:px-8 pt-4\">\n\t\t\t\t \n\t\t\t\t<div className=\"-mt-2 max-h-1 py-0 ml-0\">\n\t\t\t\t\t<TablePage columns={columns} data={data} newpage={page} parentCallback={handleCallBack} className=\"table-auto\" />\n\t\t\t\t\n\t\t\t\t\t \n\t\t\t\t \n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t</div>\n\n\t\t</div>\n\t);\n\t\t \n\t   }\n\t const ShowCrBalList=() =>{\n\t\n\tconst handleCrBalAmtChange=(index) =>(e) =>{\n\t\t console.log(index + \"--\" + e.target.value);\n\t\tlet item = searchData[index];\n\n\t\titem['crBalAmount'] = e.target.value;\n\t\tlet newData = [...searchData];\n\t\tnewData[index] = item;\n\t\tsetSearchData(newData);\n\t\t \n\t}\n\tconst handlePermCrBalAmtChange=(index) =>(e) =>{\n\t\t console.log(index + \"--\" + e.target.value);\n\t\tlet item = searchData[index];\n\n\t\titem['permCrBalAmount'] = e.target.value;\n\t\tlet newData = [...searchData];\n\t\tnewData[index] = item;\n\t\tsetSearchData(newData);\n\t\t \n\t}\n\t\n\t const handlePageSize = (pp) => {\n      console.log(pp);\n      setPageSize(pp);\n    };\n\t\tconst handleCallBack = (pp)=>{\n\t\tconsole.log(pp); \n\t\tsetPage(pp);\n\t}\n\t const columns = useMemo(() => [\n\t\t{\n\t\t\tHeader: <input type=\"checkbox\" onChange={updateCheckBoxAll} checked={allChecked} />,\n\t\t\taccessor : \"select\",\n\t\t\tCell: ({ row }) => (\n\t\t\t\t<div>\n\t\t\t\t\t {row.original.action!=='noaction' &&\n\t\t\t\t\t\t<input type=\"checkbox\" onChange={handleCheckBox(row.original.employee.armyNo)}  checked={row.original.selected}  />\n\t\t\t\t\t\t }\n\t\t\t\t\t \n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t)\n\t\t\t \n\t\t},\n\t\t \n\t\t \n\t\t{\n\t\t\tHeader: \"Month Ending\",\n\t\t\taccessor: 'monthEnding',\n\t\t},\n\t\t\n\t\t{\n\t\t\tHeader: \"Officer\",\n\t\t\taccessor: 'employee.cdaoNo',\n\t\t\tCell: ({ row }) => (\n\t\t\t\t<div>\n\t\t\t\t  \n\t\t\t\t{row.original.employee.officerName}\n\t\t\t\t \t\t\t\t   \n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t)\n\t\t},\n\t\t{\n\t\t\tHeader: \"Type\",\n\t\t\taccessor: 'employee.cdaoNo',\n\t\t},\n\t\t{\n\t\t\tHeader: \"Openeing Balance\",\n\t\t\taccessor: 'openingBalance',\n\t\t},\n\t\t\n\t\t{\n\t\t\tHeader: \"Release Amt\",\n\t\t\taccessor: 'crBalAmount',\n\t\t\tCell: ({ row }) => (\n\t\t\t\t<div>\n\t\t\t\t  \n\t\t\t\t <input type=\"text\" name=\"crBalAmt\"  onChange={handleCrBalAmtChange} value={row.original.crBalAmount}/>\n\t\t\t\t \t\t\t\t   \n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t)\n\t\t},\n\t\t{\n\t\t\tHeader: \"Perm Openeing Balance\",\n\t\t\taccessor: 'permOb',\n\t\t},\n\t\t{\n\t\t\tHeader: \"Release Amt\",\n\t\t\taccessor: 'permCrBalAmount',\n\t\t\tCell: ({ row }) => (\n\t\t\t\t<div>\n\t\t\t\t  \n\t\t\t\t <input type=\"text\" name=\"permcrBalAmt\" onChange={handleCrBalAmtChange} value={row.original.permCrBalAmount}    />\n\t\t\t\t \t\t\t\t   \n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t)\n\t\t},\n\t \n\t\t{\n\t\t\tHeader: \"Cr Bal Dt\",\n\t\t\taccessor: 'crBalDate',\n\t\t},\n\t\t{\n\t\t\tHeader: \"Record Status\",\n\t\t\taccessor: 'crBalRecordStatus',\n\t\t},\n\t\t \n\t\t   {\n\t\t\tHeader: \"Aud Date\",\n\t\t\taccessor: 'crBalAudDate',\n\t\t},\n\t\t\n\t\t{\n\t\t\tHeader: \"Aao Date\",\n\t\t\taccessor: 'crBalAaoDate',\n\t\t},\n\t\t{\n\t\t\tHeader: \"Ao Date\",\n\t\t\taccessor: 'crBalAoDate',\n\t\t},\n\t\t\n\t\t\n\t\t/*\n\t\t{\n\t\t\tHeader: \"Login Name\",\n\t\t\taccessor: 'loginName',\n\t\t\tFilter: SelectColumnFilter,  // new\n\t\t\tfilter: 'includes',\n\t\t},\n\t\t*/\n\t], [searchData])\n\t \n\t\n\treturn (\n\t\t<div className=\"min-h-screen bg-green-100 text-gray-700\">\n\t\t\t<div className=\"max-w-8xl mx-auto px-2 sm:px-6 lg:px-8 pt-4\">\n\t\t\t\t \n\t\t\t\t<div className=\"-mt-2 max-h-1 py-0 ml-0\">\n\t\t\t\t\t<TablePage columns={columns} data={searchData} newpage={page} parentCallback={handleCallBack} \n\t\t\t\t\tnewPageSize={pageSize}\n              parentCallbackPageSize={handlePageSize} className=\"table-auto\" />\n\t\t\t\t\n\t\t\t\t\t<div>\n\t\t\t\t\t{usrLevel<30 && searchData &&  searchData.length>0 &&\n\t\t\t\t\t\t<button type=\"button\" onClick={processCrBal} className=\"w-32 m-0 p-0\">Process Cr Bal</button>\n\t\t\t\t\t}\t\n\t\t\t\t\t{usrLevel===30 && searchData && searchData.length>0 &&\n\t\t\t\t\t\t<button type=\"button\" onClick={submitCrBal} className=\"w-32 m-0 p-0\">Submit</button>\n\t\t\t\t\t}\n\t\t\t\t\t{usrLevel>30 && searchData && searchData.length>0 &&\n\t\t\t\t\t\t<button type=\"button\" onClick={approveCrBal} className=\"w-32 m-0 p-0\">Approve</button>\n\t\t\t\t\t}\n\t\t\t\t\t</div>\n\t\t\t\t \n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t</div>\n\n\t\t</div>\n\t);\n\t\t \n\t   }\n\n\t\n\treturn(\n\t\t\t<div className=\"min-h-screen bg-gray-100 text-gray-700\">\n\t\t\t<main className=\"max-w-8xl mx-auto px-4 sm:px-6 lg:px-8 pt-4\">\n\t\t\t\t<div className=\"mt-2 ml-4\">\n\t\t\t\t\t<h1 className=\"text-xl font-semibold\">Credit Balance Release</h1>\n\t\t\t\t\t\n\t\t\t\t\t \t\t\t\t\n\t\t\t\t</div>\n\t\t\t\t<div className=\"text-red-500\">{serverErrors}</div>\n\t\t\t\t\n\t\t\t\t<div className=\"flexContainer\">\n\t\t\t\t \n\t\t\t\t\t<div>\n\t\t\t\t\t\t<input type=\"text\" name=\"search\" \n\t\t\t\t\t\tonChange={e => setInputText(e.target.value)} placeholder=\"army no\"\n\t\t\t\t\t\t\tonKeyPress={handleKeyPress}\n\t\t\t\t\t\t\tclassName=\"pl-2 -ml-2 inputField flex-initial\" />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t \n\t\t\t\t\t<div>\n\t\t\t\t\t<button type=\"submit\" onClick={handleSubmit} className=\"w-16 m-0 p-0\">Search</button>\n\t\t\t\t\t\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t<div>\n\t\t\t\t\t<button type=\"button\" onClick={handleApprovedList} className=\"w-22 m-0 p-0\">Approved List</button>\n\t\t\t\t\t\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t<div>\n\t\t\t\t\t<button type=\"button\" onClick={handlePrepareBatch} className=\"w-22 m-0 p-0\">Prepare Batch</button>\n\t\t\t\t\t\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t<div>\n\t\t\t\t\t<button type=\"button\" onClick={handlePreparePm} className=\"w-22 m-0 p-0\">PM/CS</button>\n\t\t\t\t\t\n\t\t\t\t</div>\n\t\t\t\t \n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t  {approvedList===false && prepareBatch===false && preparePm===false &&\n\t\t\t\t\t <ShowCrBalList/>\n\t\t\t\t\t }\n\t\t\t\t\t \n\t\t\t\t\t {approvedList===true && prepareBatch===false && preparePm===false &&\n\t\t\t\t\t <ShowCrBalApprovedList/>\n\t\t\t\t\t }\n\t\t\t\t\t \n\t\t\t\t\t  {prepareBatch===true && preparePm===false &&\n\t\t\t\t\t <ShowPrepareBatch/>\n\t\t\t\t\t }\n\t\t\t\t\t  {preparePm===true   &&\n\t\t\t\t\t <ShowPmCs/>\n\t\t\t\t\t }\n\t\t\t\t  \n\t\t\t\t\t\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t</main>\n\t\t\t\n\t\t</div>\n\t\t\n\t\t\n\t);\n\t\n\n};\n\nexport default withRouter(CrBalRelease);"]},"metadata":{},"sourceType":"module"}