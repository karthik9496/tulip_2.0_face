{"ast":null,"code":"var _jsxFileName = \"/home/pcdaopune/ITSDC/falcon_face/src/components/ManualDtsSettlementOption.js\",\n    _s = $RefreshSig$();\n\n/**\n * Code generated using Python\n * @author Raja Reddy\n * Date : 17 Oct 2021\n *\n * Modified By :\n */\nimport { useState, useEffect, useRef } from \"react\";\nimport { withRouter, useParams, useHistory } from \"react-router-dom\";\nimport { useForm } from \"react-hook-form\";\nimport axios from \"axios\";\nimport * as yup from \"yup\";\nimport { yupResolver } from \"@hookform/resolvers/yup\";\nimport LiveSearch from \"../utils/LiveSearch\";\nimport DatePicker from \"react-datepicker\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport addDays from \"date-fns/addDays\";\nimport Tabs from \"react-bootstrap/Tabs\";\nimport Tab from \"react-bootstrap/Tab\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst schema = yup.object({\n  employee: yup.object().required(\"Required\") //\tdemandDate:yup.date().required('Required'),\n\n});\n\nconst ManualDtsSettlementOption = () => {\n  _s();\n\n  const {\n    register,\n    handleSubmit,\n    formState: {\n      errors\n    },\n    clearErrors\n  } = useForm({\n    resolver: yupResolver(schema)\n  });\n  let {\n    id\n  } = useParams();\n  console.log(\">>>>>>>>>>Dts Reference Id---:\" + id);\n  let history = useHistory();\n  const [serverErrors, setServerErrors] = useState([]);\n  const [entity, setEntity] = useState({});\n  const [state, setState] = useState({});\n  const [loading, setLoading] = useState(true);\n  const [value, setValue] = useState(\"\");\n  const [action, setAction] = useState(\"\");\n  const [dtsData, setDtsData] = useState([]);\n  const [dts, setDts] = useState(false);\n  const [status, setStatus] = useState(\"\");\n  const [refId, setRefId] = useState(0);\n  const [option, setOption] = useState(\"\");\n  useEffect(() => {\n    let isCancelled = false;\n    let fetching = false;\n    let unmounted = false;\n\n    async function fetchData() {\n      let record = \"\";\n      console.log(\">>>>>>>>>>Dts Reference Id before call ---:\" + id);\n      await axios.get(`/demandRegisters/manualDtsSettlementOption/${id}`).then(response => {\n        console.log(\">>>>> Data DTS----:\" + response.data[0].status);\n        console.log(\">>>>> Data DTS-Id For Ref---:\" + response.data[0].dtsIdForReference);\n        setRefId(response.data[0].dtsIdForReference);\n        setStatus(response.data[0].status);\n        setDtsData(response.data);\n      }).catch(error => {\n        //console.log(error);\n        //console.log(error.response.status);\n        //console.log(error.response.headers);\n        if (error.response) setServerErrors(error.response.data.error);else setServerErrors(error.Error);\n      });\n      const fields = [\"dtsLossToGovt\", \"dtsRecoveryFromPay\"];\n      fields.forEach(field => setValue(field, record[field]));\n\n      if (!isCancelled) {\n        setEntity(record);\n        setState(prev => ({ ...prev,\n          state: record\n        }));\n      }\n    }\n\n    fetchData();\n    return () => {\n      fetching = true;\n      unmounted = true;\n    };\n  }, [id]);\n\n  const onSubmit = (data, event) => {\n    event.preventDefault();\n    console.log(\"777777777:\" + data);\n\n    if (data.id) {\n      axios.put(\"/demandRegisters/manualDtsSettle/\" + data.id, data).then(response => {\n        history.push(\"/manualDtsSettlement\");\n      }).catch(error => {\n        //console.log(error.response.data);\n        //console.log(\"response--------\"+error.response.status);\n        setServerErrors(error.response.data[\"reason\"]);\n      });\n    }\n  };\n\n  const onError = (errors, e) => console.log(errors, e);\n\n  const errorCallback = err => {\n    //console.log(err);\n    setServerErrors(err);\n  };\n\n  const handleLossChange = event => {\n    console.log(\">>>>>>>Loss to Govt----:\" + event.target.value);\n    setDts(event.target.value);\n    if (event.target.value === \"loss\") setValue(\"dtsLossToGovt\", true);\n    setOption(\"loss\");\n  };\n\n  const handleRecoverChange = event => {\n    setDts(event.target.value);\n    setValue(\"dtsRecoveryFromPay\", event.target.value);\n    setOption(\"recover\");\n  };\n\n  const resetRadioState = () => {\n    setDts(\"\");\n  };\n\n  async function submitManDts(refId) {\n    console.log(\">>>>>>Option id is---:\" + refId);\n    await axios.put(`/demandRegisters/submitDts/${refId}/${option}/manualDtsSettle`).then(response => {\n      console.log(\"response from controller\"); //let updatedRecords = [...data].filter((i) => i.id !== id);\n      //\tconsole.log(updatedRecords);\n      //setData(updatedRecords);\n      //setUpdate(!update);\n\n      history.push(\"/manualDtsSettlement\"); //history.push(\"/cbillTadaLtcs\");\n    }).catch(error => {\n      console.log(error); //console.log(error.response.status);\n      //console.log(error.response.headers);\n\n      if (error.response) setServerErrors(error.response.data.error);else setServerErrors(error.Error);\n    });\n  }\n  /*\tasync function approveManDts(id) {\n  await axios.put(`/demandRegisters/${id}/approveManualDts`)\n  \t.then((response) => {\n  \t\t//console.log(data);\n  \t\t//let updatedRecords = [...data].filter((i) => i.id !== id);\n  \t\t//console.log(updatedRecords);\n  \t\t//setData(updatedRecords);\n  \t\t//setUpdate(!update);\n  \t\thistory.push({ pathname: '/manualDtsSettlement', state: response.data });\n  \t})\n  \t.catch((error) => {\n  \t\tconsole.log(error);\n  \t\t//console.log(error.response.status);\n  \t\t//console.log(error.response.headers);\n  \t\tif (error.response)\n  \t\t\tsetServerErrors(error.response.data.error);\n  \t\telse\n  \t\t\tsetServerErrors(error.Error);\n  \t});\n  }*/\n\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-100 text-gray-900\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-10xl mx-auto px-4 sm:px-6 lg:px-8 pt-4\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit(onSubmit, onError),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            class: \"text-blue-600\",\n            align: \"center\",\n            children: [\"Transaction ID Details for corresponding Reference ID\", \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n            className: \"table table-striped table-bordered\",\n            children: /*#__PURE__*/_jsxDEV(\"thead\", {\n              children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"CDAO_No\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 198,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Advance_Type\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 199,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Amount\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 200,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Journey_Start_Date\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 201,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Journey_End_Date\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 202,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Journey_Station_From\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 203,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Journey_Station_To\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 204,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Transaction_Id\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 205,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 197,\n                columnNumber: 17\n              }, this), dtsData && dtsData.map(tt => /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  children: tt.cdaoNo\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 210,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: tt.demandType\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 211,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: tt.transAmount\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 212,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: tt.journeyFromDate\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 213,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: tt.journeyToDate\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 214,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: tt.journeyStationFrom\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 215,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: tt.journeyStationTo\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 216,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: tt.transactionId\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 217,\n                  columnNumber: 23\n                }, this)]\n              }, tt.cdaoNo, true, {\n                fileName: _jsxFileName,\n                lineNumber: 209,\n                columnNumber: 21\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 222,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            class: \"text-blue-600\",\n            align: \"center\",\n            children: [\"Reference ID Details for the Cancelled Transaction\", \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n            class: \"table-bordered w-full\",\n            children: /*#__PURE__*/_jsxDEV(\"thead\", {\n              children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"CDAO_No\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 233,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Advance_Type\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 234,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Amount\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 235,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Journey_Start_Date\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 236,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Journey_End_Date\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 237,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Journey_Station_From\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 238,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Journey_Station_To\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 239,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Reference_Id/Reference_Amount\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 240,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Cancellation_charges/Cancellation_ground/Cancellation_remarks\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 241,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 232,\n                columnNumber: 17\n              }, this), dtsData && dtsData.map(tr => /*#__PURE__*/_jsxDEV(\"tr\", {\n                class: \"bg-green-50 border text-left\",\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  children: tr.cdaoNo\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 248,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: tr.demandType\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 249,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: tr.refAmount\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 250,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: tr.journeyFromDate\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 251,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: tr.journeyToDate\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 252,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: tr.journeyStationFrom\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 253,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: tr.journeyStationTo\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 254,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: [\"Reference_Id:\", tr.referenceId, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 257,\n                    columnNumber: 25\n                  }, this), \"Reference_Amount:\", tr.referenceAmount]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 255,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: [\"Cancellation_charges:\", tr.cancellationCharges, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 262,\n                    columnNumber: 25\n                  }, this), \"Cancellation_ground:\", \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"font-extrabold text-blue-600\",\n                    children: tr.cancellationGround\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 264,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 267,\n                    columnNumber: 25\n                  }, this), \"Cancellation_remarks:\", tr.cancellationRemarks, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 269,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 270,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-blue-600\",\n                    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \" Select Mode Of Recovery:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 272,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 273,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 274,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: tr.cancellationGround === \"Official\" && /*#__PURE__*/_jsxDEV(\"label\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                          type: \"radio\",\n                          value: \"loss\",\n                          checked: dts === \"loss\",\n                          onChange: handleLossChange\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 278,\n                          columnNumber: 33\n                        }, this), \" \", \"Loss To Government Exchequer\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 277,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 275,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 288,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 289,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: /*#__PURE__*/_jsxDEV(\"label\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                          type: \"radio\",\n                          value: \"recover\",\n                          checked: dts === \"recover\",\n                          onChange: handleRecoverChange\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 293,\n                          columnNumber: 31\n                        }, this), \" \", \"Recovery From Pay Of The Officer\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 292,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 291,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 271,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 260,\n                  columnNumber: 23\n                }, this)]\n              }, tr.cdaoNo, true, {\n                fileName: _jsxFileName,\n                lineNumber: 247,\n                columnNumber: 21\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 231,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 310,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 311,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"reset\",\n              onClick: resetRadioState\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 343,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 342,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 312,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          align: \"center\",\n          children: [\" \", status != null && status.includes(\"audSubmit\") && /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"w-16 m-0 p-0 bg-red-500 hover:bg-red-700 \",\n            onClick: () => submitManDts(refId),\n            children: [\" \", \"Submit\", \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 349,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 346,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 188,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ManualDtsSettlementOption, \"MWVrlq9+CWhhLg7Xl9Rk1xiuUAQ=\", false, function () {\n  return [useForm, useParams, useHistory];\n});\n\n_c = ManualDtsSettlementOption;\nexport default _c2 = withRouter(ManualDtsSettlementOption);\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"ManualDtsSettlementOption\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"sources":["/home/pcdaopune/ITSDC/falcon_face/src/components/ManualDtsSettlementOption.js"],"names":["useState","useEffect","useRef","withRouter","useParams","useHistory","useForm","axios","yup","yupResolver","LiveSearch","DatePicker","addDays","Tabs","Tab","schema","object","employee","required","ManualDtsSettlementOption","register","handleSubmit","formState","errors","clearErrors","resolver","id","console","log","history","serverErrors","setServerErrors","entity","setEntity","state","setState","loading","setLoading","value","setValue","action","setAction","dtsData","setDtsData","dts","setDts","status","setStatus","refId","setRefId","option","setOption","isCancelled","fetching","unmounted","fetchData","record","get","then","response","data","dtsIdForReference","catch","error","Error","fields","forEach","field","prev","onSubmit","event","preventDefault","put","push","onError","e","errorCallback","err","handleLossChange","target","handleRecoverChange","resetRadioState","submitManDts","map","tt","cdaoNo","demandType","transAmount","journeyFromDate","journeyToDate","journeyStationFrom","journeyStationTo","transactionId","tr","refAmount","referenceId","referenceAmount","cancellationCharges","cancellationGround","cancellationRemarks","includes"],"mappings":";;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,SAASA,QAAT,EAAmBC,SAAnB,EAA8BC,MAA9B,QAA4C,OAA5C;AACA,SAASC,UAAT,EAAqBC,SAArB,EAAgCC,UAAhC,QAAkD,kBAAlD;AACA,SAASC,OAAT,QAAwB,iBAAxB;AAEA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAO,KAAKC,GAAZ,MAAqB,KAArB;AAEA,SAASC,WAAT,QAA4B,yBAA5B;AACA,OAAOC,UAAP,MAAuB,qBAAvB;AAEA,OAAOC,UAAP,MAAuB,kBAAvB;AACA,OAAO,4CAAP;AACA,OAAOC,OAAP,MAAoB,kBAApB;AAEA,OAAOC,IAAP,MAAiB,sBAAjB;AACA,OAAOC,GAAP,MAAgB,qBAAhB;;AAEA,MAAMC,MAAM,GAAGP,GAAG,CAACQ,MAAJ,CAAW;AACxBC,EAAAA,QAAQ,EAAET,GAAG,CAACQ,MAAJ,GAAaE,QAAb,CAAsB,UAAtB,CADc,CAExB;;AAFwB,CAAX,CAAf;;AAKA,MAAMC,yBAAyB,GAAG,MAAM;AAAA;;AACtC,QAAM;AACJC,IAAAA,QADI;AAEJC,IAAAA,YAFI;AAGJC,IAAAA,SAAS,EAAE;AAAEC,MAAAA;AAAF,KAHP;AAIJC,IAAAA;AAJI,MAKFlB,OAAO,CAAC;AACVmB,IAAAA,QAAQ,EAAEhB,WAAW,CAACM,MAAD;AADX,GAAD,CALX;AASA,MAAI;AAAEW,IAAAA;AAAF,MAAStB,SAAS,EAAtB;AACAuB,EAAAA,OAAO,CAACC,GAAR,CAAY,mCAAmCF,EAA/C;AAEA,MAAIG,OAAO,GAAGxB,UAAU,EAAxB;AAEA,QAAM,CAACyB,YAAD,EAAeC,eAAf,IAAkC/B,QAAQ,CAAC,EAAD,CAAhD;AACA,QAAM,CAACgC,MAAD,EAASC,SAAT,IAAsBjC,QAAQ,CAAC,EAAD,CAApC;AACA,QAAM,CAACkC,KAAD,EAAQC,QAAR,IAAoBnC,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM,CAACoC,OAAD,EAAUC,UAAV,IAAwBrC,QAAQ,CAAC,IAAD,CAAtC;AACA,QAAM,CAACsC,KAAD,EAAQC,QAAR,IAAoBvC,QAAQ,CAAC,EAAD,CAAlC;AAEA,QAAM,CAACwC,MAAD,EAASC,SAAT,IAAsBzC,QAAQ,CAAC,EAAD,CAApC;AACA,QAAM,CAAC0C,OAAD,EAAUC,UAAV,IAAwB3C,QAAQ,CAAC,EAAD,CAAtC;AACA,QAAM,CAAC4C,GAAD,EAAMC,MAAN,IAAgB7C,QAAQ,CAAC,KAAD,CAA9B;AACA,QAAM,CAAC8C,MAAD,EAASC,SAAT,IAAsB/C,QAAQ,CAAC,EAAD,CAApC;AACA,QAAM,CAACgD,KAAD,EAAQC,QAAR,IAAoBjD,QAAQ,CAAC,CAAD,CAAlC;AACA,QAAM,CAACkD,MAAD,EAASC,SAAT,IAAsBnD,QAAQ,CAAC,EAAD,CAApC;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACd,QAAImD,WAAW,GAAG,KAAlB;AACA,QAAIC,QAAQ,GAAG,KAAf;AACA,QAAIC,SAAS,GAAG,KAAhB;;AACA,mBAAeC,SAAf,GAA2B;AACzB,UAAIC,MAAM,GAAG,EAAb;AACA7B,MAAAA,OAAO,CAACC,GAAR,CAAY,gDAAgDF,EAA5D;AAEA,YAAMnB,KAAK,CACRkD,GADG,CACE,8CAA6C/B,EAAG,EADlD,EAEHgC,IAFG,CAEGC,QAAD,IAAc;AAClBhC,QAAAA,OAAO,CAACC,GAAR,CAAY,wBAAwB+B,QAAQ,CAACC,IAAT,CAAc,CAAd,EAAiBd,MAArD;AACAnB,QAAAA,OAAO,CAACC,GAAR,CACE,kCAAkC+B,QAAQ,CAACC,IAAT,CAAc,CAAd,EAAiBC,iBADrD;AAGAZ,QAAAA,QAAQ,CAACU,QAAQ,CAACC,IAAT,CAAc,CAAd,EAAiBC,iBAAlB,CAAR;AACAd,QAAAA,SAAS,CAACY,QAAQ,CAACC,IAAT,CAAc,CAAd,EAAiBd,MAAlB,CAAT;AACAH,QAAAA,UAAU,CAACgB,QAAQ,CAACC,IAAV,CAAV;AACD,OAVG,EAWHE,KAXG,CAWIC,KAAD,IAAW;AAChB;AACA;AACA;AACA,YAAIA,KAAK,CAACJ,QAAV,EAAoB5B,eAAe,CAACgC,KAAK,CAACJ,QAAN,CAAeC,IAAf,CAAoBG,KAArB,CAAf,CAApB,KACKhC,eAAe,CAACgC,KAAK,CAACC,KAAP,CAAf;AACN,OAjBG,CAAN;AAmBA,YAAMC,MAAM,GAAG,CAAC,eAAD,EAAkB,oBAAlB,CAAf;AACAA,MAAAA,MAAM,CAACC,OAAP,CAAgBC,KAAD,IAAW5B,QAAQ,CAAC4B,KAAD,EAAQX,MAAM,CAACW,KAAD,CAAd,CAAlC;;AACA,UAAI,CAACf,WAAL,EAAkB;AAChBnB,QAAAA,SAAS,CAACuB,MAAD,CAAT;AAEArB,QAAAA,QAAQ,CAAEiC,IAAD,KAAW,EAAE,GAAGA,IAAL;AAAWlC,UAAAA,KAAK,EAAEsB;AAAlB,SAAX,CAAD,CAAR;AACD;AACF;;AAEDD,IAAAA,SAAS;AACT,WAAO,MAAM;AACXF,MAAAA,QAAQ,GAAG,IAAX;AACAC,MAAAA,SAAS,GAAG,IAAZ;AACD,KAHD;AAID,GAzCQ,EAyCN,CAAC5B,EAAD,CAzCM,CAAT;;AA2CA,QAAM2C,QAAQ,GAAG,CAACT,IAAD,EAAOU,KAAP,KAAiB;AAChCA,IAAAA,KAAK,CAACC,cAAN;AACA5C,IAAAA,OAAO,CAACC,GAAR,CAAY,eAAegC,IAA3B;;AACA,QAAIA,IAAI,CAAClC,EAAT,EAAa;AACXnB,MAAAA,KAAK,CACFiE,GADH,CACO,sCAAsCZ,IAAI,CAAClC,EADlD,EACsDkC,IADtD,EAEGF,IAFH,CAESC,QAAD,IAAc;AAClB9B,QAAAA,OAAO,CAAC4C,IAAR,CAAa,sBAAb;AACD,OAJH,EAKGX,KALH,CAKUC,KAAD,IAAW;AAChB;AACA;AAEAhC,QAAAA,eAAe,CAACgC,KAAK,CAACJ,QAAN,CAAeC,IAAf,CAAoB,QAApB,CAAD,CAAf;AACD,OAVH;AAWD;AACF,GAhBD;;AAkBA,QAAMc,OAAO,GAAG,CAACnD,MAAD,EAASoD,CAAT,KAAehD,OAAO,CAACC,GAAR,CAAYL,MAAZ,EAAoBoD,CAApB,CAA/B;;AAEA,QAAMC,aAAa,GAAIC,GAAD,IAAS;AAC7B;AACA9C,IAAAA,eAAe,CAAC8C,GAAD,CAAf;AACD,GAHD;;AAKA,QAAMC,gBAAgB,GAAIR,KAAD,IAAW;AAClC3C,IAAAA,OAAO,CAACC,GAAR,CAAY,6BAA6B0C,KAAK,CAACS,MAAN,CAAazC,KAAtD;AACAO,IAAAA,MAAM,CAACyB,KAAK,CAACS,MAAN,CAAazC,KAAd,CAAN;AACA,QAAIgC,KAAK,CAACS,MAAN,CAAazC,KAAb,KAAuB,MAA3B,EAAmCC,QAAQ,CAAC,eAAD,EAAkB,IAAlB,CAAR;AACnCY,IAAAA,SAAS,CAAC,MAAD,CAAT;AACD,GALD;;AAOA,QAAM6B,mBAAmB,GAAIV,KAAD,IAAW;AACrCzB,IAAAA,MAAM,CAACyB,KAAK,CAACS,MAAN,CAAazC,KAAd,CAAN;AACAC,IAAAA,QAAQ,CAAC,oBAAD,EAAuB+B,KAAK,CAACS,MAAN,CAAazC,KAApC,CAAR;AACAa,IAAAA,SAAS,CAAC,SAAD,CAAT;AACD,GAJD;;AAMA,QAAM8B,eAAe,GAAG,MAAM;AAC5BpC,IAAAA,MAAM,CAAC,EAAD,CAAN;AACD,GAFD;;AAIA,iBAAeqC,YAAf,CAA4BlC,KAA5B,EAAmC;AACjCrB,IAAAA,OAAO,CAACC,GAAR,CAAY,2BAA2BoB,KAAvC;AACA,UAAMzC,KAAK,CACRiE,GADG,CACE,8BAA6BxB,KAAM,IAAGE,MAAO,kBAD/C,EAGHQ,IAHG,CAGGC,QAAD,IAAc;AAClBhC,MAAAA,OAAO,CAACC,GAAR,CAAY,0BAAZ,EADkB,CAElB;AACA;AACA;AACA;;AACAC,MAAAA,OAAO,CAAC4C,IAAR,CAAa,sBAAb,EANkB,CAOlB;AACD,KAXG,EAYHX,KAZG,CAYIC,KAAD,IAAW;AAChBpC,MAAAA,OAAO,CAACC,GAAR,CAAYmC,KAAZ,EADgB,CAEhB;AACA;;AACA,UAAIA,KAAK,CAACJ,QAAV,EAAoB5B,eAAe,CAACgC,KAAK,CAACJ,QAAN,CAAeC,IAAf,CAAoBG,KAArB,CAAf,CAApB,KACKhC,eAAe,CAACgC,KAAK,CAACC,KAAP,CAAf;AACN,KAlBG,CAAN;AAmBD;AACD;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEE,sBACE;AAAK,IAAA,SAAS,EAAC,wCAAf;AAAA,2BACE;AAAK,MAAA,SAAS,EAAC,8CAAf;AAAA,6BACE;AAAM,QAAA,QAAQ,EAAE3C,YAAY,CAACgD,QAAD,EAAWK,OAAX,CAA5B;AAAA,gCACE;AAAK,UAAA,SAAS,EAAC,WAAf;AAAA,kCACE;AAAI,YAAA,KAAK,EAAC,eAAV;AAA0B,YAAA,KAAK,EAAC,QAAhC;AAAA,gFACwD,GADxD;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eAIE;AAAO,YAAA,SAAS,EAAC,oCAAjB;AAAA,mCACE;AAAA,sCACE;AAAA,wCACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAFF,eAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAHF,eAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAJF,eAKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBALF,eAME;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBANF,eAOE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAPF,eAQE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBARF;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,EAWGhC,OAAO,IACNA,OAAO,CAACyC,GAAR,CAAaC,EAAD,iBACV;AAAA,wCACE;AAAA,4BAAKA,EAAE,CAACC;AAAR;AAAA;AAAA;AAAA;AAAA,wBADF,eAEE;AAAA,4BAAKD,EAAE,CAACE;AAAR;AAAA;AAAA;AAAA;AAAA,wBAFF,eAGE;AAAA,4BAAKF,EAAE,CAACG;AAAR;AAAA;AAAA;AAAA;AAAA,wBAHF,eAIE;AAAA,4BAAKH,EAAE,CAACI;AAAR;AAAA;AAAA;AAAA;AAAA,wBAJF,eAKE;AAAA,4BAAKJ,EAAE,CAACK;AAAR;AAAA;AAAA;AAAA;AAAA,wBALF,eAME;AAAA,4BAAKL,EAAE,CAACM;AAAR;AAAA;AAAA;AAAA;AAAA,wBANF,eAOE;AAAA,4BAAKN,EAAE,CAACO;AAAR;AAAA;AAAA;AAAA;AAAA,wBAPF,eAQE;AAAA,4BAAKP,EAAE,CAACQ;AAAR;AAAA;AAAA;AAAA;AAAA,wBARF;AAAA,iBAASR,EAAE,CAACC,MAAZ;AAAA;AAAA;AAAA;AAAA,sBADF,CAZJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBAJF,eA+BE;AAAA;AAAA;AAAA;AAAA,kBA/BF;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAmCE;AAAK,UAAA,SAAS,EAAC,WAAf;AAAA,kCACE;AAAI,YAAA,KAAK,EAAC,eAAV;AAA0B,YAAA,KAAK,EAAC,QAAhC;AAAA,6EACqD,GADrD;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eAKE;AAAO,YAAA,KAAK,EAAC,uBAAb;AAAA,mCACE;AAAA,sCACE;AAAA,wCACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAFF,eAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAHF,eAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAJF,eAKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBALF,eAME;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBANF,eAOE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAPF,eAQE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBARF,eASE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBATF;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,EAcG3C,OAAO,IACNA,OAAO,CAACyC,GAAR,CAAaU,EAAD,iBACV;AAAoB,gBAAA,KAAK,EAAC,8BAA1B;AAAA,wCACE;AAAA,4BAAKA,EAAE,CAACR;AAAR;AAAA;AAAA;AAAA;AAAA,wBADF,eAEE;AAAA,4BAAKQ,EAAE,CAACP;AAAR;AAAA;AAAA;AAAA;AAAA,wBAFF,eAGE;AAAA,4BAAKO,EAAE,CAACC;AAAR;AAAA;AAAA;AAAA;AAAA,wBAHF,eAIE;AAAA,4BAAKD,EAAE,CAACL;AAAR;AAAA;AAAA;AAAA;AAAA,wBAJF,eAKE;AAAA,4BAAKK,EAAE,CAACJ;AAAR;AAAA;AAAA;AAAA;AAAA,wBALF,eAME;AAAA,4BAAKI,EAAE,CAACH;AAAR;AAAA;AAAA;AAAA;AAAA,wBANF,eAOE;AAAA,4BAAKG,EAAE,CAACF;AAAR;AAAA;AAAA;AAAA;AAAA,wBAPF,eAQE;AAAA,8CACgBE,EAAE,CAACE,WADnB,eAEE;AAAA;AAAA;AAAA;AAAA,0BAFF,uBAGoBF,EAAE,CAACG,eAHvB;AAAA;AAAA;AAAA;AAAA;AAAA,wBARF,eAaE;AAAA,sDACwBH,EAAE,CAACI,mBAD3B,eAEE;AAAA;AAAA;AAAA;AAAA,0BAFF,0BAGuB,GAHvB,eAIE;AAAM,oBAAA,SAAS,EAAC,8BAAhB;AAAA,8BACGJ,EAAE,CAACK;AADN;AAAA;AAAA;AAAA;AAAA,0BAJF,eAOE;AAAA;AAAA;AAAA;AAAA,0BAPF,2BAQwBL,EAAE,CAACM,mBAR3B,eASE;AAAA;AAAA;AAAA;AAAA,0BATF,eAUE;AAAA;AAAA;AAAA;AAAA,0BAVF,eAWE;AAAK,oBAAA,SAAS,EAAC,eAAf;AAAA,4CACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BADF,eAEE;AAAA;AAAA;AAAA;AAAA,4BAFF,eAGE;AAAA;AAAA;AAAA;AAAA,4BAHF,eAIE;AAAA,gCACGN,EAAE,CAACK,kBAAH,KAA0B,UAA1B,iBACC;AAAA,gDACE;AACE,0BAAA,IAAI,EAAC,OADP;AAEE,0BAAA,KAAK,EAAC,MAFR;AAGE,0BAAA,OAAO,EAAEtD,GAAG,KAAK,MAHnB;AAIE,0BAAA,QAAQ,EAAEkC;AAJZ;AAAA;AAAA;AAAA;AAAA,gCADF,EAMK,GANL;AAAA;AAAA;AAAA;AAAA;AAAA;AAFJ;AAAA;AAAA;AAAA;AAAA,4BAJF,eAiBE;AAAA;AAAA;AAAA;AAAA,4BAjBF,eAkBE;AAAA;AAAA;AAAA;AAAA,4BAlBF,eAoBE;AAAA,6CACE;AAAA,gDACE;AACE,0BAAA,IAAI,EAAC,OADP;AAEE,0BAAA,KAAK,EAAC,SAFR;AAGE,0BAAA,OAAO,EAAElC,GAAG,KAAK,SAHnB;AAIE,0BAAA,QAAQ,EAAEoC;AAJZ;AAAA;AAAA;AAAA;AAAA,gCADF,EAMK,GANL;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,4BApBF;AAAA;AAAA;AAAA;AAAA;AAAA,0BAXF;AAAA;AAAA;AAAA;AAAA;AAAA,wBAbF;AAAA,iBAASa,EAAE,CAACR,MAAZ;AAAA;AAAA;AAAA;AAAA,sBADF,CAfJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBALF;AAAA;AAAA;AAAA;AAAA;AAAA,gBAnCF,eAwHE;AAAA;AAAA;AAAA;AAAA,gBAxHF,eAyHE;AAAA;AAAA;AAAA;AAAA,gBAzHF,eA0HE;AAAA,iCA8BE;AAAA,mCACE;AAAQ,cAAA,IAAI,EAAC,OAAb;AAAqB,cAAA,OAAO,EAAEJ;AAA9B;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AA9BF;AAAA;AAAA;AAAA;AAAA,gBA1HF,eA4JE;AAAK,UAAA,KAAK,EAAC,QAAX;AAAA,qBACG,GADH,EAEGnC,MAAM,IAAI,IAAV,IAAkBA,MAAM,CAACsD,QAAP,CAAgB,WAAhB,CAAlB,iBACC;AACE,YAAA,SAAS,EAAC,2CADZ;AAEE,YAAA,OAAO,EAAE,MAAMlB,YAAY,CAAClC,KAAD,CAF7B;AAAA,uBAIG,GAJH,YAKS,GALT;AAAA;AAAA;AAAA;AAAA;AAAA,kBAHJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBA5JF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,UADF;AA+KD,CA3UD;;GAAM7B,yB;UAMAb,O,EAISF,S,EAGCC,U;;;KAbVc,yB;AA6UN,qBAAehB,UAAU,CAACgB,yBAAD,CAAzB","sourcesContent":["/**\n * Code generated using Python\n * @author Raja Reddy\n * Date : 17 Oct 2021\n *\n * Modified By :\n */\n\nimport { useState, useEffect, useRef } from \"react\";\nimport { withRouter, useParams, useHistory } from \"react-router-dom\";\nimport { useForm } from \"react-hook-form\";\n\nimport axios from \"axios\";\nimport * as yup from \"yup\";\n\nimport { yupResolver } from \"@hookform/resolvers/yup\";\nimport LiveSearch from \"../utils/LiveSearch\";\n\nimport DatePicker from \"react-datepicker\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport addDays from \"date-fns/addDays\";\n\nimport Tabs from \"react-bootstrap/Tabs\";\nimport Tab from \"react-bootstrap/Tab\";\n\nconst schema = yup.object({\n  employee: yup.object().required(\"Required\"),\n  //\tdemandDate:yup.date().required('Required'),\n});\n\nconst ManualDtsSettlementOption = () => {\n  const {\n    register,\n    handleSubmit,\n    formState: { errors },\n    clearErrors,\n  } = useForm({\n    resolver: yupResolver(schema),\n  });\n\n  let { id } = useParams();\n  console.log(\">>>>>>>>>>Dts Reference Id---:\" + id);\n\n  let history = useHistory();\n\n  const [serverErrors, setServerErrors] = useState([]);\n  const [entity, setEntity] = useState({});\n  const [state, setState] = useState({});\n  const [loading, setLoading] = useState(true);\n  const [value, setValue] = useState(\"\");\n\n  const [action, setAction] = useState(\"\");\n  const [dtsData, setDtsData] = useState([]);\n  const [dts, setDts] = useState(false);\n  const [status, setStatus] = useState(\"\");\n  const [refId, setRefId] = useState(0);\n  const [option, setOption] = useState(\"\");\n\n  useEffect(() => {\n    let isCancelled = false;\n    let fetching = false;\n    let unmounted = false;\n    async function fetchData() {\n      let record = \"\";\n      console.log(\">>>>>>>>>>Dts Reference Id before call ---:\" + id);\n\n      await axios\n        .get(`/demandRegisters/manualDtsSettlementOption/${id}`)\n        .then((response) => {\n          console.log(\">>>>> Data DTS----:\" + response.data[0].status);\n          console.log(\n            \">>>>> Data DTS-Id For Ref---:\" + response.data[0].dtsIdForReference\n          );\n          setRefId(response.data[0].dtsIdForReference);\n          setStatus(response.data[0].status);\n          setDtsData(response.data);\n        })\n        .catch((error) => {\n          //console.log(error);\n          //console.log(error.response.status);\n          //console.log(error.response.headers);\n          if (error.response) setServerErrors(error.response.data.error);\n          else setServerErrors(error.Error);\n        });\n\n      const fields = [\"dtsLossToGovt\", \"dtsRecoveryFromPay\"];\n      fields.forEach((field) => setValue(field, record[field]));\n      if (!isCancelled) {\n        setEntity(record);\n\n        setState((prev) => ({ ...prev, state: record }));\n      }\n    }\n\n    fetchData();\n    return () => {\n      fetching = true;\n      unmounted = true;\n    };\n  }, [id]);\n\n  const onSubmit = (data, event) => {\n    event.preventDefault();\n    console.log(\"777777777:\" + data);\n    if (data.id) {\n      axios\n        .put(\"/demandRegisters/manualDtsSettle/\" + data.id, data)\n        .then((response) => {\n          history.push(\"/manualDtsSettlement\");\n        })\n        .catch((error) => {\n          //console.log(error.response.data);\n          //console.log(\"response--------\"+error.response.status);\n\n          setServerErrors(error.response.data[\"reason\"]);\n        });\n    }\n  };\n\n  const onError = (errors, e) => console.log(errors, e);\n\n  const errorCallback = (err) => {\n    //console.log(err);\n    setServerErrors(err);\n  };\n\n  const handleLossChange = (event) => {\n    console.log(\">>>>>>>Loss to Govt----:\" + event.target.value);\n    setDts(event.target.value);\n    if (event.target.value === \"loss\") setValue(\"dtsLossToGovt\", true);\n    setOption(\"loss\");\n  };\n\n  const handleRecoverChange = (event) => {\n    setDts(event.target.value);\n    setValue(\"dtsRecoveryFromPay\", event.target.value);\n    setOption(\"recover\");\n  };\n\n  const resetRadioState = () => {\n    setDts(\"\");\n  };\n\n  async function submitManDts(refId) {\n    console.log(\">>>>>>Option id is---:\" + refId);\n    await axios\n      .put(`/demandRegisters/submitDts/${refId}/${option}/manualDtsSettle`)\n\n      .then((response) => {\n        console.log(\"response from controller\");\n        //let updatedRecords = [...data].filter((i) => i.id !== id);\n        //\tconsole.log(updatedRecords);\n        //setData(updatedRecords);\n        //setUpdate(!update);\n        history.push(\"/manualDtsSettlement\");\n        //history.push(\"/cbillTadaLtcs\");\n      })\n      .catch((error) => {\n        console.log(error);\n        //console.log(error.response.status);\n        //console.log(error.response.headers);\n        if (error.response) setServerErrors(error.response.data.error);\n        else setServerErrors(error.Error);\n      });\n  }\n  /*\tasync function approveManDts(id) {\n\t\tawait axios.put(`/demandRegisters/${id}/approveManualDts`)\n\t\t\t.then((response) => {\n\t\t\t\t//console.log(data);\n\t\t\t\t//let updatedRecords = [...data].filter((i) => i.id !== id);\n\t\t\t\t//console.log(updatedRecords);\n\t\t\t\t//setData(updatedRecords);\n\t\t\t\t//setUpdate(!update);\n\t\t\t\thistory.push({ pathname: '/manualDtsSettlement', state: response.data });\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tconsole.log(error);\n\t\t\t\t//console.log(error.response.status);\n\t\t\t\t//console.log(error.response.headers);\n\t\t\t\tif (error.response)\n\t\t\t\t\tsetServerErrors(error.response.data.error);\n\t\t\t\telse\n\t\t\t\t\tsetServerErrors(error.Error);\n\t\t\t});\n\t}*/\n\n  return (\n    <div className=\"min-h-screen bg-gray-100 text-gray-900\">\n      <div className=\"max-w-10xl mx-auto px-4 sm:px-6 lg:px-8 pt-4\">\n        <form onSubmit={handleSubmit(onSubmit, onError)}>\n          <div className=\"container\">\n            <h1 class=\"text-blue-600\" align=\"center\">\n              Transaction ID Details for corresponding Reference ID{\" \"}\n            </h1>\n            <table className=\"table table-striped table-bordered\">\n              <thead>\n                <tr>\n                  <th>CDAO_No</th>\n                  <th>Advance_Type</th>\n                  <th>Amount</th>\n                  <th>Journey_Start_Date</th>\n                  <th>Journey_End_Date</th>\n                  <th>Journey_Station_From</th>\n                  <th>Journey_Station_To</th>\n                  <th>Transaction_Id</th>\n                </tr>\n                {dtsData &&\n                  dtsData.map((tt) => (\n                    <tr key={tt.cdaoNo}>\n                      <td>{tt.cdaoNo}</td>\n                      <td>{tt.demandType}</td>\n                      <td>{tt.transAmount}</td>\n                      <td>{tt.journeyFromDate}</td>\n                      <td>{tt.journeyToDate}</td>\n                      <td>{tt.journeyStationFrom}</td>\n                      <td>{tt.journeyStationTo}</td>\n                      <td>{tt.transactionId}</td>\n                    </tr>\n                  ))}\n              </thead>\n            </table>\n            <br />\n          </div>\n\n          <div className=\"container\">\n            <h1 class=\"text-blue-600\" align=\"center\">\n              Reference ID Details for the Cancelled Transaction{\" \"}\n            </h1>\n\n            <table class=\"table-bordered w-full\">\n              <thead>\n                <tr>\n                  <th>CDAO_No</th>\n                  <th>Advance_Type</th>\n                  <th>Amount</th>\n                  <th>Journey_Start_Date</th>\n                  <th>Journey_End_Date</th>\n                  <th>Journey_Station_From</th>\n                  <th>Journey_Station_To</th>\n                  <th>Reference_Id/Reference_Amount</th>\n                  <th>\n                    Cancellation_charges/Cancellation_ground/Cancellation_remarks\n                  </th>\n                </tr>\n                {dtsData &&\n                  dtsData.map((tr) => (\n                    <tr key={tr.cdaoNo} class=\"bg-green-50 border text-left\">\n                      <td>{tr.cdaoNo}</td>\n                      <td>{tr.demandType}</td>\n                      <td>{tr.refAmount}</td>\n                      <td>{tr.journeyFromDate}</td>\n                      <td>{tr.journeyToDate}</td>\n                      <td>{tr.journeyStationFrom}</td>\n                      <td>{tr.journeyStationTo}</td>\n                      <td>\n                        Reference_Id:{tr.referenceId}\n                        <br />\n                        Reference_Amount:{tr.referenceAmount}\n                      </td>\n                      <td>\n                        Cancellation_charges:{tr.cancellationCharges}\n                        <br />\n                        Cancellation_ground:{\" \"}\n                        <span className=\"font-extrabold text-blue-600\">\n                          {tr.cancellationGround}\n                        </span>\n                        <br />\n                        Cancellation_remarks:{tr.cancellationRemarks}\n                        <br />\n                        <br />\n                        <div className=\"text-blue-600\">\n                          <strong> Select Mode Of Recovery:</strong>\n                          <br />\n                          <br />\n                          <div>\n                            {tr.cancellationGround === \"Official\" && (\n                              <label>\n                                <input\n                                  type=\"radio\"\n                                  value=\"loss\"\n                                  checked={dts === \"loss\"}\n                                  onChange={handleLossChange}\n                                />{\" \"}\n                                Loss To Government Exchequer\n                              </label>\n                            )}\n                          </div>\n                          <br />\n                          <br />\n\n                          <div>\n                            <label>\n                              <input\n                                type=\"radio\"\n                                value=\"recover\"\n                                checked={dts === \"recover\"}\n                                onChange={handleRecoverChange}\n                              />{\" \"}\n                              Recovery From Pay Of The Officer\n                            </label>\n                          </div>\n                        </div>\n                      </td>\n                    </tr>\n                  ))}\n              </thead>\n            </table>\n          </div>\n\n          <br />\n          <br />\n          <div>\n            {/* <strong> Select Mode Of Recovery:</strong>\n            <br />\n            <br />\n            <div>\n              <label>\n                <input\n                  type=\"radio\"\n                  value=\"loss\"\n                  checked={dts === \"loss\"}\n                  onChange={handleLossChange}\n                />{\" \"}\n                Loss To Government Exchequer\n              </label>\n            </div>\n            <br />\n            <br />\n\n            <div>\n              <label>\n                <input\n                  type=\"radio\"\n                  value=\"recover\"\n                  checked={dts === \"recover\"}\n                  onChange={handleRecoverChange}\n                />{\" \"}\n                Recovery From Pay Of The Officer\n              </label>\n            </div> */}\n\n            <div>\n              <button type=\"reset\" onClick={resetRadioState} />\n            </div>\n          </div>\n          <div align=\"center\">\n            {\" \"}\n            {status != null && status.includes(\"audSubmit\") && (\n              <button\n                className=\"w-16 m-0 p-0 bg-red-500 hover:bg-red-700 \"\n                onClick={() => submitManDts(refId)}\n              >\n                {\" \"}\n                Submit{\" \"}\n              </button>\n            )}\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default withRouter(ManualDtsSettlementOption);\n"]},"metadata":{},"sourceType":"module"}