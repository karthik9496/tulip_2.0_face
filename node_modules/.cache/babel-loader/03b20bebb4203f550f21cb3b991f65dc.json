{"ast":null,"code":"import _regeneratorRuntime from\"/home/itsdcsec/falconws/falcon_face/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/itsdcsec/falconws/falcon_face/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/itsdcsec/falconws/falcon_face/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";/**\n * Code generated using Python\n * @author Raja Reddy\n * Date : 17 Oct 2021\n *\n * Modified By :\n */import{useState,useEffect,useMemo}from\"react\";import{withRouter,useParams,useHistory,Link}from\"react-router-dom\";import{useForm}from\"react-hook-form\";import axios from\"axios\";import Table,{SelectColumnFilter}from\"../utils/Table\";//\nimport*as yup from\"yup\";import{yupResolver}from\"@hookform/resolvers/yup\";import addDays from\"date-fns/addDays\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var schema=yup.object({});var ClaimRejectionDetailCsv=function ClaimRejectionDetailCsv(){var _useForm=useForm({resolver:yupResolver(schema)}),register=_useForm.register,handleSubmit=_useForm.handleSubmit,setValue=_useForm.setValue,errors=_useForm.formState.errors,clearErrors=_useForm.clearErrors;var _useParams=useParams(),id=_useParams.id;//console.log(id);\nvar history=useHistory();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),serverErrors=_useState4[0],setServerErrors=_useState4[1];var _useState5=useState({}),_useState6=_slicedToArray(_useState5,2),entity=_useState6[0],setEntity=_useState6[1];var _useState7=useState({}),_useState8=_slicedToArray(_useState7,2),state=_useState8[0],setState=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),me=_useState10[0],setMe=_useState10[1];var _useState11=useState(true),_useState12=_slicedToArray(_useState11,2),loading=_useState12[0],setLoading=_useState12[1];var _useState13=useState(\"\"),_useState14=_slicedToArray(_useState13,2),fileName=_useState14[0],setFileName=_useState14[1];var _useState15=useState(new Date()),_useState16=_slicedToArray(_useState15,2),fromDate=_useState16[0],setFromDate=_useState16[1];var _useState17=useState(new Date()),_useState18=_slicedToArray(_useState17,2),toDate=_useState18[0],setToDate=_useState18[1];var _useState19=useState(\"\"),_useState20=_slicedToArray(_useState19,2),fromDateStr=_useState20[0],setFromDateStr=_useState20[1];var _useState21=useState(\"\"),_useState22=_slicedToArray(_useState21,2),toDateStr=_useState22[0],setToDateStr=_useState22[1];var _useState23=useState(true),_useState24=_slicedToArray(_useState23,2),lightTheme=_useState24[0],setLightTheme=_useState24[1];var _useState25=useState(false),_useState26=_slicedToArray(_useState25,2),disabled=_useState26[0],setDisabled=_useState26[1];var onError=function onError(errors,e){return console.log(errors,e);};//All foreign keys.\n// XXXXXX Add search fields and adjust the values as necessary\nvar errorCallback=function errorCallback(err){//console.log(err);\nsetServerErrors(err);};var handleInputFromDateChange=function handleInputFromDateChange(e){console.log(e.target.value);//setFromDate(e.target.value);\nsetFromDateStr(e.target.value);};var handleInputToDateChange=function handleInputToDateChange(e){console.log(e.target.value);//setToDate(e.target.value);\nsetToDateStr(e.target.value);};var generateCsv=function generateCsv(){setDisabled(true);var saving=false;//console.log(\">>>>>>From Date--:\" + fromDate);\n//\tconsole.log(\">>>>>>To Date--:\" + toDate);\nfunction csvFile(){return _csvFile.apply(this,arguments);}function _csvFile(){_csvFile=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!saving)console.log(\">>>>>>From Date--:\"+fromDate);console.log(\">>>>>>To Date--:\"+toDate);axios.get(\"/reports/dak/\".concat(fromDateStr,\"/\").concat(toDateStr,\"/fetchClaimRejectionDetail\")).then(function(response){console.log(response.data);var url=window.open(\"\".concat(process.env.REACT_APP_BASE_URL,\"/files/\").concat(response.data));setDisabled(false);}).catch(function(error){setDisabled(false);//console.log(error);\n//console.log(error.response.status);\n//console.log(error.response.headers);\nif(error.response)setServerErrors(error.response.data.error);else setServerErrors(error.Error);});case 3:case\"end\":return _context.stop();}}},_callee);}));return _csvFile.apply(this,arguments);}csvFile();return function(){saving=true;};};return/*#__PURE__*/_jsx(\"div\",{className:lightTheme?\"theme-light\":\"theme-dark\",style:disabled?{pointerEvents:\"none\",opacity:\"0.4\"}:{},children:/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-100 text-gray-900\",children:/*#__PURE__*/_jsx(\"main\",{className:\"max-w-xl mx-auto px-4 sm:px-6 lg:px-8 pt-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\" \",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-xl font-semibold ml-4\",children:\"Claim Rejection Detail CSV\"}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"FromDate\",placeholder:\"dd-mm-yyyy\",onChange:function onChange(e){return handleInputFromDateChange(e);},className:\"form-control py-0\"})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"ToDate\",placeholder:\"dd-mm-yyyy\",onChange:function onChange(e){return handleInputToDateChange(e);},className:\"form-control py-0\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"pl-1 -ml-2 inputField flex-initial\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",onClick:generateCsv,className:\"w-32 m-0 p-0\",children:\"Generate CSV\"})]})})})});};export default withRouter(ClaimRejectionDetailCsv);","map":{"version":3,"sources":["/home/itsdcsec/falconws/falcon_face/src/components/ClaimRejectionDetailCsv.js"],"names":["useState","useEffect","useMemo","withRouter","useParams","useHistory","Link","useForm","axios","Table","SelectColumnFilter","yup","yupResolver","addDays","schema","object","ClaimRejectionDetailCsv","resolver","register","handleSubmit","setValue","errors","formState","clearErrors","id","history","data","setData","serverErrors","setServerErrors","entity","setEntity","state","setState","me","setMe","loading","setLoading","fileName","setFileName","Date","fromDate","setFromDate","toDate","setToDate","fromDateStr","setFromDateStr","toDateStr","setToDateStr","lightTheme","setLightTheme","disabled","setDisabled","onError","e","console","log","errorCallback","err","handleInputFromDateChange","target","value","handleInputToDateChange","generateCsv","saving","csvFile","get","then","response","url","window","open","process","env","REACT_APP_BASE_URL","catch","error","Error","pointerEvents","opacity"],"mappings":"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","sourcesContent":["/**\n * Code generated using Python\n * @author Raja Reddy\n * Date : 17 Oct 2021\n *\n * Modified By :\n */\n\nimport { useState, useEffect, useMemo } from \"react\";\nimport { withRouter, useParams, useHistory, Link } from \"react-router-dom\";\nimport { useForm } from \"react-hook-form\";\nimport axios from \"axios\";\nimport Table, { SelectColumnFilter } from \"../utils/Table\"; //\n\nimport * as yup from \"yup\";\n\nimport { yupResolver } from \"@hookform/resolvers/yup\";\n\nimport addDays from \"date-fns/addDays\";\n\nconst schema = yup.object({});\n\nconst ClaimRejectionDetailCsv = () => {\n  const {\n    register,\n    handleSubmit,\n    setValue,\n    formState: { errors },\n    clearErrors,\n  } = useForm({\n    resolver: yupResolver(schema),\n  });\n\n  let { id } = useParams();\n  //console.log(id);\n\n  let history = useHistory();\n\n  const [data, setData] = useState([]);\n  const [serverErrors, setServerErrors] = useState([]);\n  const [entity, setEntity] = useState({});\n  const [state, setState] = useState({});\n\n  const [me, setMe] = useState(\"\");\n\n  const [loading, setLoading] = useState(true);\n  const [fileName, setFileName] = useState(\"\");\n  const [fromDate, setFromDate] = useState(new Date());\n  const [toDate, setToDate] = useState(new Date());\n  const [fromDateStr, setFromDateStr] = useState(\"\");\n  const [toDateStr, setToDateStr] = useState(\"\");\n  const [lightTheme, setLightTheme] = useState(true);\n  const [disabled, setDisabled] = useState(false);\n\n  const onError = (errors, e) => console.log(errors, e);\n\n  //All foreign keys.\n  // XXXXXX Add search fields and adjust the values as necessary\n\n  const errorCallback = (err) => {\n    //console.log(err);\n    setServerErrors(err);\n  };\n\n  const handleInputFromDateChange = (e) => {\n    console.log(e.target.value);\n    //setFromDate(e.target.value);\n    setFromDateStr(e.target.value);\n  };\n\n  const handleInputToDateChange = (e) => {\n    console.log(e.target.value);\n    //setToDate(e.target.value);\n    setToDateStr(e.target.value);\n  };\n\n  const generateCsv = () => {\n    setDisabled(true);\n\n    let saving = false;\n    //console.log(\">>>>>>From Date--:\" + fromDate);\n    //\tconsole.log(\">>>>>>To Date--:\" + toDate);\n    async function csvFile() {\n      if (!saving) console.log(\">>>>>>From Date--:\" + fromDate);\n      console.log(\">>>>>>To Date--:\" + toDate);\n      axios\n        .get(`/reports/dak/${fromDateStr}/${toDateStr}/fetchClaimRejectionDetail`)\n        .then((response) => {\n          console.log(response.data);\n          const url = window.open(\n            `${process.env.REACT_APP_BASE_URL}/files/${response.data}`\n          );\n          setDisabled(false);\n        })\n        .catch((error) => {\n          setDisabled(false);\n          //console.log(error);\n          //console.log(error.response.status);\n          //console.log(error.response.headers);\n          if (error.response) setServerErrors(error.response.data.error);\n          else setServerErrors(error.Error);\n        });\n    }\n    csvFile();\n\n    return () => {\n      saving = true;\n    };\n  };\n\n  return (\n    <div\n      className={lightTheme ? \"theme-light\" : \"theme-dark\"}\n      style={disabled ? { pointerEvents: \"none\", opacity: \"0.4\" } : {}}\n    >\n      <div className=\"min-h-screen bg-gray-100 text-gray-900\">\n        <main className=\"max-w-xl mx-auto px-4 sm:px-6 lg:px-8 pt-4\">\n          <div className=\" \">\n            <h1 className=\"text-xl font-semibold ml-4\">Claim Rejection Detail CSV</h1>\n\n            <div>\n              <input\n                type=\"date\"\n                name=\"FromDate\"\n                placeholder=\"dd-mm-yyyy\"\n                onChange={(e) => handleInputFromDateChange(e)}\n                className=\"form-control py-0\"\n              />\n            </div>\n\n            <div>\n              <input\n                type=\"date\"\n                name=\"ToDate\"\n                placeholder=\"dd-mm-yyyy\"\n                onChange={(e) => handleInputToDateChange(e)}\n                className=\"form-control py-0\"\n              />\n            </div>\n\n            <div className=\"pl-1 -ml-2 inputField flex-initial\" />\n            <button\n              type=\"submit\"\n              onClick={generateCsv}\n              className=\"w-32 m-0 p-0\"\n            >\n              Generate CSV\n            </button>\n          </div>\n        </main>\n      </div>\n    </div>\n  );\n};\n\nexport default withRouter(ClaimRejectionDetailCsv);\n"]},"metadata":{},"sourceType":"module"}