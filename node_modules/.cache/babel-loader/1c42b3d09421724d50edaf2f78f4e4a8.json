{"ast":null,"code":"var _jsxFileName = \"/home/itsdc3/Imp Tulip files/falconws160424/falconws/falcon_face/src/components/LicStatusUpdate.js\";\n\n/**\n * Code generated using Python\n * @author Raja Reddy\n * Date : 17 Oct 2021\n *\n * Modified By : \n */\nimport { useState, useEffect } from \"react\";\nimport { withRouter, useParams, useHistory } from \"react-router-dom\";\nimport { useForm } from \"react-hook-form\";\nimport axios from 'axios';\nimport * as yup from \"yup\";\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport LiveSearch from '../utils/LiveSearch'; //import DatePicker  from 'react-datepicker';\n//import \"react-datepicker/dist/react-datepicker.css\";\n//import addDays from 'date-fns/addDays'\n\nimport Tabs from 'react-bootstrap/Tabs';\nimport Tab from 'react-bootstrap/Tab';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst schema = yup.object({});\n\nconst LicStatusUpdate = () => {\n  var _errors$policyNo, _errors$policyAmount, _errors$policyStatus, _errors$reason;\n\n  const {\n    register,\n    handleSubmit,\n    setValue,\n    formState: {\n      errors\n    },\n    clearErrors\n  } = useForm({\n    resolver: yupResolver(schema)\n  });\n  let {\n    id\n  } = useParams();\n  let history = useHistory();\n  const [serverErrors, setServerErrors] = useState([]);\n  const [entity, setEntity] = useState({});\n  const [state, setState] = useState({});\n  const [key, setKey] = useState('page1');\n  const [dakId, setDakId] = useState(0);\n  const [mesg, setMesg] = useState('');\n  const [me, setMe] = useState('');\n  const [dakidNo, setDakidNo] = useState('');\n  const [polStatus, setPolStatus] = useState('');\n  const [polNo, setPolNo] = useState('');\n  const [empNo, setEmpNo] = useState('');\n  const [empName, setEmpName] = useState('');\n  const [empRank, setEmpRank] = useState('');\n  useEffect(() => {\n    let isCancelled = false;\n    console.log(id);\n\n    if (id !== 'new') {\n      async function fetchData() {\n        let record = '';\n        await axios.get('/lics/' + id).then(response => {\n          console.log(response.data);\n          record = response.data;\n\n          if (record.policyNo !== null) {\n            setPolNo(record.policyNo);\n            console.log(\"--------------policy No----------:\" + polNo);\n          }\n        }).catch(error => {\n          //console.log(error);\n          //console.log(error.response.status);\n          //console.log(error.response.headers);\n          if (error.response) setServerErrors(error.response.data.error);else setServerErrors(error.Error);\n        });\n        const fields = ['id', 'dak', 'employee', 'cdaoNo', 'checkDigit', 'policyNo', 'policyAmount', 'premiumAmount', 'premiumDueMe', 'policyCommencementDate', 'policyMaturityDate', 'monthEnding', 'auditor', 'aao', 'ao', 'auditorDate', 'aaoDate', 'aoDate', 'policyStatus', 'approved'];\n        fields.forEach(field => setValue(field, record[field]));\n\n        if (!isCancelled) {\n          setEntity(record);\n          setState(prev => ({ ...prev,\n            state: record\n          }));\n        }\n      }\n\n      fetchData();\n      return () => {\n        isCancelled = true;\n      };\n    }\n  }, []);\n  useEffect(() => {\n    let fetching = false;\n    let unmounted = false;\n\n    async function fetchMe() {\n      if (!fetching) await axios.get(`/licMaturityTransactions/licDemand/getCurrentMe`).then(response => {\n        setMe(response.data);\n      }).catch(error => {\n        //console.log(error);\n        //console.log(error.response.status);\n        //console.log(error.response.headers);\n        if (error.response) setServerErrors(error.response.data.error);else setServerErrors(error.Error);\n      });\n    }\n\n    fetchMe();\n    return () => {\n      fetching = true;\n      unmounted = true;\n    }; // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  useEffect(() => {\n    let fetching = false;\n    let unmounted = false;\n\n    async function fetchEmployeeFromPolicyNo() {\n      if (!fetching) await axios.get(`/lics/policyNo/${polNo}`).then(response => {\n        console.log(response.data[0] + \"----\" + response.data[1] + \"---\" + response.data[2]);\n        setEmpNo(response.data[0]);\n        setEmpName(response.data[1]);\n        setEmpRank(response.data[2]);\n      }).catch(error => {\n        //console.log(error);\n        //console.log(error.response.status);\n        //console.log(error.response.headers);\n        if (error.response) setServerErrors(error.response.data.error);else setServerErrors(error.Error);\n      });\n    }\n\n    fetchEmployeeFromPolicyNo();\n    return () => {\n      fetching = true;\n      unmounted = true;\n    }; // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [polNo]);\n\n  const onSubmit = (data, event) => {\n    event.preventDefault();\n    console.log(data);\n\n    if (data.id) {\n      axios.put(\"/lics/\" + data.id, data).then(response => {\n        setMesg(response.data['remarks']);\n      }).catch(error => {\n        console.log(error); //\tconsole.log(error.response.status);\n        //\tconsole.log(error.response.headers);\n\n        if (error.response) setServerErrors(error.response.data.error);else setServerErrors(error.Error);\n      });\n    }\n  };\n\n  const onError = (errors, e) => console.log(errors, e); //All foreign keys. \n  // XXXXXX Add search fields and adjust the values as necessary\n\n\n  const parentData = {\n    dak: {\n      title: \"Dak\",\n      url: \"daks\",\n      searchList: ['id'],\n      //XXXXXXXXX Add search fields\n      fkEntity: \"dak\",\n      preload: false //XXXXXX Set this to true for small tables like designations\n\n    },\n    employee: {\n      title: \"Employee\",\n      url: \"employees/all/effective\",\n      searchList: ['cdaoNo', 'checkDigit', 'officerName'],\n      //XXXXXXXXX Add search fields\n      fkEntity: \"employee\",\n      preload: false //XXXXXX Set this to true for small tables like designations\n\n    }\n  }; //Callback for child components (Foreign Keys)\n\n  const callback = childData => {\n    //console.log(\"Parent Callback\");\n    setEntity(prev => ({ ...prev,\n      [childData.fk]: childData.entity\n    }));\n    setValue(childData.fk, childData.entity); //console.log(errors);\n\n    console.log(\">>>\" + childData.fk);\n    clearErrors(childData.fk);\n  };\n\n  const errorCallback = err => {\n    //console.log(err);\n    setServerErrors(err);\n  };\n\n  const handleInputChange = e => {//console.log(e.target.value);\n  };\n\n  const handleButtonClick = e => {\n    history.push(\"/lics\");\n  };\n\n  const handlePolicyStatusChange = e => {\n    console.log(e.target.value);\n    setValue('PolicyStatus', e.target.value);\n  };\n\n  const handlePolNoChange = e => {\n    console.log(e.target.value);\n    setPolNo(e.target.value);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-100 text-gray-900\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8 pt-4\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit(onSubmit, onError),\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: [id === 'new' ? 'Add' : 'Edit', \" Lic Policy Status \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-red-500\",\n          children: mesg\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(Tabs, {\n          id: \"Lic\",\n          activeKey: key,\n          onSelect: k => setKey(k),\n          className: \"mb-3\",\n          children: /*#__PURE__*/_jsxDEV(Tab, {\n            eventKey: \"page1\",\n            title: \"Lic Policy Status\",\n            className: \"h-120\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-2 gap-0\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Month\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 277,\n                  columnNumber: 10\n                }, this), me]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 276,\n                columnNumber: 8\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Policy Number\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 285,\n                  columnNumber: 10\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  name: \"policyNo\",\n                  ...register(\"policyNo\"),\n                  onChange: handlePolNoChange,\n                  className: \"form-control py-0\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 286,\n                  columnNumber: 10\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-red-500\",\n                  children: (_errors$policyNo = errors.policyNo) === null || _errors$policyNo === void 0 ? void 0 : _errors$policyNo.message\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 289,\n                  columnNumber: 10\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 284,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: /*#__PURE__*/_jsxDEV(\"label\", {\n                  children: [\" \", empNo, \" \", \" \", empName, \" \", \" \", empRank]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 292,\n                  columnNumber: 9\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 291,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Policy Amount\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 299,\n                  columnNumber: 10\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  name: \"policyAmount\",\n                  ...register(\"policyAmount\"),\n                  className: \"form-control py-0\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 300,\n                  columnNumber: 10\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-red-500\",\n                  children: (_errors$policyAmount = errors.policyAmount) === null || _errors$policyAmount === void 0 ? void 0 : _errors$policyAmount.message\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 303,\n                  columnNumber: 10\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 298,\n                columnNumber: 8\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Policy Status\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 307,\n                  columnNumber: 10\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  name: \"policyStatus\",\n                  ...register(\"policyStatus\"),\n                  readOnly: true,\n                  className: \"form-control py-0\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 308,\n                  columnNumber: 10\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-red-500\",\n                  children: (_errors$policyStatus = errors.policyStatus) === null || _errors$policyStatus === void 0 ? void 0 : _errors$policyStatus.message\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 311,\n                  columnNumber: 10\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 306,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Policy Status To Be Updated\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 315,\n                  columnNumber: 10\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  name: \"policyStatus\",\n                  ...register(\"policyStatus\"),\n                  className: \"form-control py-0\",\n                  onChange: handlePolicyStatusChange,\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"select\",\n                    children: \"--Select--\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 318,\n                    columnNumber: 10\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"SURRENDER\",\n                    children: \"Surrender Of Policy\"\n                  }, \"surrender\", false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 319,\n                    columnNumber: 10\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"PAID UP\",\n                    children: \"Paid Up Condition\"\n                  }, \"paid\", false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 320,\n                    columnNumber: 10\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"DISCONTINUE\",\n                    children: \"Discontinue\"\n                  }, \"dis\", false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 321,\n                    columnNumber: 10\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"MATxURE\",\n                    children: \"Mature\"\n                  }, \"mat\", false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 322,\n                    columnNumber: 10\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"RETIRED\",\n                    children: \"Retired\"\n                  }, \"ret\", false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 323,\n                    columnNumber: 10\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"DEATH\",\n                    children: \"Death\"\n                  }, \"dth\", false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 324,\n                    columnNumber: 10\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"PREMATURE\",\n                    children: \"Premature\"\n                  }, \"pre\", false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 325,\n                    columnNumber: 10\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"ACTIVE\",\n                    children: \"Active\"\n                  }, \"active\", false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 326,\n                    columnNumber: 10\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 316,\n                  columnNumber: 10\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 314,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Remarks\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 333,\n                  columnNumber: 10\n                }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                  type: \"text\",\n                  name: \"reason\",\n                  ...register(\"reason\"),\n                  className: \"form-control py-0\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 334,\n                  columnNumber: 10\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-red-500\",\n                  children: (_errors$reason = errors.reason) === null || _errors$reason === void 0 ? void 0 : _errors$reason.message\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 337,\n                  columnNumber: 10\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 332,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 340,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"px-2\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"submit\",\n                  children: \"Save\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 345,\n                  columnNumber: 7\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 344,\n                columnNumber: 6\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"px-2\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  onClick: handleButtonClick,\n                  children: \"Cancel\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 348,\n                  columnNumber: 6\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 347,\n                columnNumber: 6\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 274,\n              columnNumber: 6\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 273,\n            columnNumber: 6\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 267,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 4\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 259,\n    columnNumber: 3\n  }, this);\n};\n\nexport default withRouter(LicStatusUpdate);","map":{"version":3,"sources":["/home/itsdc3/Imp Tulip files/falconws160424/falconws/falcon_face/src/components/LicStatusUpdate.js"],"names":["useState","useEffect","withRouter","useParams","useHistory","useForm","axios","yup","yupResolver","LiveSearch","Tabs","Tab","schema","object","LicStatusUpdate","register","handleSubmit","setValue","formState","errors","clearErrors","resolver","id","history","serverErrors","setServerErrors","entity","setEntity","state","setState","key","setKey","dakId","setDakId","mesg","setMesg","me","setMe","dakidNo","setDakidNo","polStatus","setPolStatus","polNo","setPolNo","empNo","setEmpNo","empName","setEmpName","empRank","setEmpRank","isCancelled","console","log","fetchData","record","get","then","response","data","policyNo","catch","error","Error","fields","forEach","field","prev","fetching","unmounted","fetchMe","fetchEmployeeFromPolicyNo","onSubmit","event","preventDefault","put","onError","e","parentData","dak","title","url","searchList","fkEntity","preload","employee","callback","childData","fk","errorCallback","err","handleInputChange","handleButtonClick","push","handlePolicyStatusChange","target","value","handlePolNoChange","k","message","policyAmount","policyStatus","reason"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,SAASC,UAAT,EAAqBC,SAArB,EAAgCC,UAAhC,QAAkD,kBAAlD;AACA,SAASC,OAAT,QAAwB,iBAAxB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAO,KAAKC,GAAZ,MAAqB,KAArB;AAEA,SAASC,WAAT,QAA4B,yBAA5B;AACA,OAAOC,UAAP,MAAuB,qBAAvB,C,CAEA;AACA;AACA;;AAEA,OAAOC,IAAP,MAAiB,sBAAjB;AACA,OAAOC,GAAP,MAAgB,qBAAhB;;AAEA,MAAMC,MAAM,GAAGL,GAAG,CAACM,MAAJ,CAAW,EAAX,CAAf;;AAOA,MAAMC,eAAe,GAAG,MAAM;AAAA;;AAC7B,QAAM;AAAEC,IAAAA,QAAF;AAAYC,IAAAA,YAAZ;AAA0BC,IAAAA,QAA1B;AAAoCC,IAAAA,SAAS,EAAE;AAAEC,MAAAA;AAAF,KAA/C;AAA2DC,IAAAA;AAA3D,MAA2Ef,OAAO,CAAC;AACxFgB,IAAAA,QAAQ,EAAEb,WAAW,CAACI,MAAD;AADmE,GAAD,CAAxF;AAIA,MAAI;AAAEU,IAAAA;AAAF,MAASnB,SAAS,EAAtB;AAEA,MAAIoB,OAAO,GAAGnB,UAAU,EAAxB;AACA,QAAM,CAACoB,YAAD,EAAeC,eAAf,IAAkCzB,QAAQ,CAAC,EAAD,CAAhD;AACA,QAAM,CAAC0B,MAAD,EAASC,SAAT,IAAsB3B,QAAQ,CAAC,EAAD,CAApC;AACA,QAAM,CAAC4B,KAAD,EAAQC,QAAR,IAAoB7B,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM,CAAC8B,GAAD,EAAMC,MAAN,IAAgB/B,QAAQ,CAAC,OAAD,CAA9B;AAEA,QAAM,CAACgC,KAAD,EAAQC,QAAR,IAAoBjC,QAAQ,CAAC,CAAD,CAAlC;AAEA,QAAM,CAACkC,IAAD,EAAMC,OAAN,IAAenC,QAAQ,CAAC,EAAD,CAA7B;AACA,QAAM,CAACoC,EAAD,EAAIC,KAAJ,IAAWrC,QAAQ,CAAC,EAAD,CAAzB;AACA,QAAM,CAACsC,OAAD,EAASC,UAAT,IAAqBvC,QAAQ,CAAC,EAAD,CAAnC;AACA,QAAM,CAACwC,SAAD,EAAWC,YAAX,IAAyBzC,QAAQ,CAAC,EAAD,CAAvC;AACA,QAAM,CAAC0C,KAAD,EAAOC,QAAP,IAAiB3C,QAAQ,CAAC,EAAD,CAA/B;AACA,QAAM,CAAC4C,KAAD,EAAOC,QAAP,IAAiB7C,QAAQ,CAAC,EAAD,CAA/B;AACA,QAAM,CAAC8C,OAAD,EAASC,UAAT,IAAqB/C,QAAQ,CAAC,EAAD,CAAnC;AACA,QAAM,CAACgD,OAAD,EAASC,UAAT,IAAqBjD,QAAQ,CAAC,EAAD,CAAnC;AAKAC,EAAAA,SAAS,CAAC,MAAM;AACf,QAAIiD,WAAW,GAAG,KAAlB;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAY9B,EAAZ;;AACA,QAAIA,EAAE,KAAK,KAAX,EAAkB;AACjB,qBAAe+B,SAAf,GAA2B;AAC1B,YAAIC,MAAM,GAAG,EAAb;AACA,cAAMhD,KAAK,CAACiD,GAAN,CAAU,WAAWjC,EAArB,EACJkC,IADI,CACEC,QAAD,IAAc;AACnBN,UAAAA,OAAO,CAACC,GAAR,CAAYK,QAAQ,CAACC,IAArB;AACAJ,UAAAA,MAAM,GAAGG,QAAQ,CAACC,IAAlB;;AACA,cAAGJ,MAAM,CAACK,QAAP,KAAkB,IAArB,EAA0B;AACzBhB,YAAAA,QAAQ,CAACW,MAAM,CAACK,QAAR,CAAR;AACAR,YAAAA,OAAO,CAACC,GAAR,CAAY,uCAAuCV,KAAnD;AACA;AAIA,SAXG,EAaJkB,KAbI,CAaGC,KAAD,IAAW;AACjB;AACA;AACA;AACA,cAAIA,KAAK,CAACJ,QAAV,EACChC,eAAe,CAACoC,KAAK,CAACJ,QAAN,CAAeC,IAAf,CAAoBG,KAArB,CAAf,CADD,KAGCpC,eAAe,CAACoC,KAAK,CAACC,KAAP,CAAf;AACD,SArBI,CAAN;AAuBE,cAAMC,MAAM,GAAG,CACd,IADc,EACR,KADQ,EACD,UADC,EACW,QADX,EACqB,YADrB,EACmC,UADnC,EAC8C,cAD9C,EAEd,eAFc,EAEG,cAFH,EAEmB,wBAFnB,EAE4C,oBAF5C,EAEiE,aAFjE,EAGd,SAHc,EAGH,KAHG,EAGG,IAHH,EAGQ,aAHR,EAGuB,SAHvB,EAGkC,QAHlC,EAG4C,cAH5C,EAG2D,UAH3D,CAAf;AAMAA,QAAAA,MAAM,CAACC,OAAP,CAAeC,KAAK,IAAIhD,QAAQ,CAACgD,KAAD,EAAQX,MAAM,CAACW,KAAD,CAAd,CAAhC;;AAKF,YAAI,CAACf,WAAL,EAAkB;AACjBvB,UAAAA,SAAS,CAAC2B,MAAD,CAAT;AACAzB,UAAAA,QAAQ,CAACqC,IAAI,KAAK,EAAE,GAAGA,IAAL;AAAWtC,YAAAA,KAAK,EAAE0B;AAAlB,WAAL,CAAL,CAAR;AACA;AACD;;AAEDD,MAAAA,SAAS;AACT,aAAO,MAAM;AACZH,QAAAA,WAAW,GAAG,IAAd;AACA,OAFD;AAGA;AAED,GApDQ,EAoDN,EApDM,CAAT;AAsDCjD,EAAAA,SAAS,CAAC,MAAM;AAChB,QAAIkE,QAAQ,GAAG,KAAf;AACA,QAAIC,SAAS,GAAG,KAAhB;;AACA,mBAAeC,OAAf,GAAyB;AAGvB,UAAI,CAACF,QAAL,EACC,MAAM7D,KAAK,CAACiD,GAAN,CAAW,iDAAX,EACJC,IADI,CACEC,QAAD,IAAc;AACnBpB,QAAAA,KAAK,CAACoB,QAAQ,CAACC,IAAV,CAAL;AAEA,OAJI,EAKJE,KALI,CAKGC,KAAD,IAAW;AACjB;AACA;AACA;AACA,YAAIA,KAAK,CAACJ,QAAV,EACChC,eAAe,CAACoC,KAAK,CAACJ,QAAN,CAAeC,IAAf,CAAoBG,KAArB,CAAf,CADD,KAGCpC,eAAe,CAACoC,KAAK,CAACC,KAAP,CAAf;AACD,OAbI,CAAN;AAcF;;AACDO,IAAAA,OAAO;AAEP,WAAO,MAAM;AAAEF,MAAAA,QAAQ,GAAG,IAAX;AAAiBC,MAAAA,SAAS,GAAG,IAAZ;AAAmB,KAAnD,CAxBgB,CAyBhB;AACA,GA1BS,EA0BP,EA1BO,CAAT;AA4BDnE,EAAAA,SAAS,CAAC,MAAM;AACf,QAAIkE,QAAQ,GAAG,KAAf;AACA,QAAIC,SAAS,GAAG,KAAhB;;AACA,mBAAeE,yBAAf,GAA2C;AAGzC,UAAI,CAACH,QAAL,EACC,MAAM7D,KAAK,CAACiD,GAAN,CAAW,kBAAiBb,KAAM,EAAlC,EACJc,IADI,CACEC,QAAD,IAAc;AACnBN,QAAAA,OAAO,CAACC,GAAR,CAAYK,QAAQ,CAACC,IAAT,CAAc,CAAd,IAAiB,MAAjB,GAAwBD,QAAQ,CAACC,IAAT,CAAc,CAAd,CAAxB,GAAyC,KAAzC,GAA+CD,QAAQ,CAACC,IAAT,CAAc,CAAd,CAA3D;AACAb,QAAAA,QAAQ,CAACY,QAAQ,CAACC,IAAT,CAAc,CAAd,CAAD,CAAR;AACAX,QAAAA,UAAU,CAACU,QAAQ,CAACC,IAAT,CAAc,CAAd,CAAD,CAAV;AACAT,QAAAA,UAAU,CAACQ,QAAQ,CAACC,IAAT,CAAc,CAAd,CAAD,CAAV;AAGA,OARI,EASJE,KATI,CASGC,KAAD,IAAW;AACjB;AACA;AACA;AACA,YAAIA,KAAK,CAACJ,QAAV,EACChC,eAAe,CAACoC,KAAK,CAACJ,QAAN,CAAeC,IAAf,CAAoBG,KAArB,CAAf,CADD,KAGCpC,eAAe,CAACoC,KAAK,CAACC,KAAP,CAAf;AACD,OAjBI,CAAN;AAkBF;;AACDQ,IAAAA,yBAAyB;AAEzB,WAAO,MAAM;AAAEH,MAAAA,QAAQ,GAAG,IAAX;AAAiBC,MAAAA,SAAS,GAAG,IAAZ;AAAmB,KAAnD,CA5Be,CA6Bf;AACA,GA9BQ,EA8BN,CAAC1B,KAAD,CA9BM,CAAT;;AAiCA,QAAM6B,QAAQ,GAAG,CAACb,IAAD,EAAOc,KAAP,KAAiB;AACjCA,IAAAA,KAAK,CAACC,cAAN;AACAtB,IAAAA,OAAO,CAACC,GAAR,CAAYM,IAAZ;;AACA,QAAIA,IAAI,CAACpC,EAAT,EAAa;AACZhB,MAAAA,KAAK,CAACoE,GAAN,CAAU,WAAWhB,IAAI,CAACpC,EAA1B,EAA8BoC,IAA9B,EACEF,IADF,CACQC,QAAD,IAAc;AACnBtB,QAAAA,OAAO,CAACsB,QAAQ,CAACC,IAAT,CAAc,SAAd,CAAD,CAAP;AAEA,OAJF,EAKEE,KALF,CAKSC,KAAD,IAAW;AACjBV,QAAAA,OAAO,CAACC,GAAR,CAAYS,KAAZ,EADiB,CAEjB;AACA;;AACA,YAAIA,KAAK,CAACJ,QAAV,EACChC,eAAe,CAACoC,KAAK,CAACJ,QAAN,CAAeC,IAAf,CAAoBG,KAArB,CAAf,CADD,KAGCpC,eAAe,CAACoC,KAAK,CAACC,KAAP,CAAf;AACD,OAbF;AAcA;AAGD,GArBD;;AAuBA,QAAMa,OAAO,GAAG,CAACxD,MAAD,EAASyD,CAAT,KAAezB,OAAO,CAACC,GAAR,CAAYjC,MAAZ,EAAoByD,CAApB,CAA/B,CArK6B,CAuK7B;AACA;;;AACA,QAAMC,UAAU,GAAG;AAElBC,IAAAA,GAAG,EAAE;AACJC,MAAAA,KAAK,EAAE,KADH;AAEJC,MAAAA,GAAG,EAAG,MAFF;AAGJC,MAAAA,UAAU,EAAG,CAAC,IAAD,CAHT;AAGiB;AACrBC,MAAAA,QAAQ,EAAE,KAJN;AAKJC,MAAAA,OAAO,EAAE,KALL,CAKY;;AALZ,KAFa;AASjBC,IAAAA,QAAQ,EAAE;AACVL,MAAAA,KAAK,EAAE,UADG;AAEVC,MAAAA,GAAG,EAAE,yBAFK;AAGVC,MAAAA,UAAU,EAAE,CAAC,QAAD,EAAW,YAAX,EAAyB,aAAzB,CAHF;AAG2C;AACrDC,MAAAA,QAAQ,EAAE,UAJA;AAKVC,MAAAA,OAAO,EAAE,KALC,CAKM;;AALN;AATO,GAAnB,CAzK6B,CA4L7B;;AACA,QAAME,QAAQ,GAAIC,SAAD,IAAe;AAC/B;AACA3D,IAAAA,SAAS,CAACuC,IAAI,KAAK,EAAE,GAAGA,IAAL;AAAW,OAACoB,SAAS,CAACC,EAAX,GAAgBD,SAAS,CAAC5D;AAArC,KAAL,CAAL,CAAT;AACAT,IAAAA,QAAQ,CAACqE,SAAS,CAACC,EAAX,EAAeD,SAAS,CAAC5D,MAAzB,CAAR,CAH+B,CAI/B;;AACAyB,IAAAA,OAAO,CAACC,GAAR,CAAY,QAAMkC,SAAS,CAACC,EAA5B;AAEAnE,IAAAA,WAAW,CAACkE,SAAS,CAACC,EAAX,CAAX;AACA,GARD;;AAUA,QAAMC,aAAa,GAAIC,GAAD,IAAS;AAC9B;AACAhE,IAAAA,eAAe,CAACgE,GAAD,CAAf;AACA,GAHD;;AAKA,QAAMC,iBAAiB,GAAId,CAAD,IAAO,CAChC;AACA,GAFD;;AAKA,QAAMe,iBAAiB,GAAIf,CAAD,IAAM;AAC/BrD,IAAAA,OAAO,CAACqE,IAAR,CAAa,OAAb;AACA,GAFD;;AAIA,QAAMC,wBAAwB,GAAIjB,CAAD,IAAO;AACvCzB,IAAAA,OAAO,CAACC,GAAR,CAAYwB,CAAC,CAACkB,MAAF,CAASC,KAArB;AACA9E,IAAAA,QAAQ,CAAC,cAAD,EAAgB2D,CAAC,CAACkB,MAAF,CAASC,KAAzB,CAAR;AAGA,GALD;;AAMA,QAAMC,iBAAiB,GAAIpB,CAAD,IAAO;AAChCzB,IAAAA,OAAO,CAACC,GAAR,CAAYwB,CAAC,CAACkB,MAAF,CAASC,KAArB;AACApD,IAAAA,QAAQ,CAACiC,CAAC,CAACkB,MAAF,CAASC,KAAV,CAAR;AAGA,GALD;;AAOA,sBACC;AAAK,IAAA,SAAS,EAAC,wCAAf;AAAA,2BACC;AAAK,MAAA,SAAS,EAAC,6CAAf;AAAA,6BAEC;AAAM,QAAA,QAAQ,EAAE/E,YAAY,CAACuD,QAAD,EAAWI,OAAX,CAA5B;AAAA,gCACC;AAAA,qBAAMrD,EAAE,KAAK,KAAP,GAAe,KAAf,GAAuB,MAA7B;AAAA;AAAA;AAAA;AAAA;AAAA,gBADD,eAGC;AAAK,UAAA,SAAS,EAAC,cAAf;AAAA,oBAA+BY;AAA/B;AAAA;AAAA;AAAA;AAAA,gBAHD,eAKC,QAAC,IAAD;AACC,UAAA,EAAE,EAAC,KADJ;AAEC,UAAA,SAAS,EAAEJ,GAFZ;AAGC,UAAA,QAAQ,EAAGmE,CAAD,IAAOlE,MAAM,CAACkE,CAAD,CAHxB;AAIC,UAAA,SAAS,EAAC,MAJX;AAAA,iCAMA,QAAC,GAAD;AAAK,YAAA,QAAQ,EAAC,OAAd;AAAsB,YAAA,KAAK,EAAC,mBAA5B;AAAgD,YAAA,SAAS,EAAC,OAA1D;AAAA,mCACA;AAAK,cAAA,SAAS,EAAC,wBAAf;AAAA,sCAEE;AAAA,wCACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,EAEI7D,EAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,sBAFF,eAUG;AAAA,wCACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADD,eAEC;AAAO,kBAAA,IAAI,EAAC,MAAZ;AAAmB,kBAAA,IAAI,EAAC,UAAxB;AAAA,qBAAuCrB,QAAQ,CAAC,UAAD,CAA/C;AAA8D,kBAAA,QAAQ,EAAEiF,iBAAxE;AACC,kBAAA,SAAS,EAAC;AADX;AAAA;AAAA;AAAA;AAAA,wBAFD,eAKC;AAAK,kBAAA,SAAS,EAAC,cAAf;AAAA,gDAA+B7E,MAAM,CAACwC,QAAtC,qDAA+B,iBAAiBuC;AAAhD;AAAA;AAAA;AAAA;AAAA,wBALD;AAAA;AAAA;AAAA;AAAA;AAAA,sBAVH,eAiBG;AAAA,uCACA;AAAA,kCAAStD,KAAT,YAAsBE,OAAtB,YAAqCE,OAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA,sBAjBH,eAwBE;AAAA,wCACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,eAEE;AAAO,kBAAA,IAAI,EAAC,MAAZ;AAAmB,kBAAA,IAAI,EAAC,cAAxB;AAAA,qBAA2CjC,QAAQ,CAAC,cAAD,CAAnD;AACC,kBAAA,SAAS,EAAC;AADX;AAAA;AAAA;AAAA;AAAA,wBAFF,eAKE;AAAK,kBAAA,SAAS,EAAC,cAAf;AAAA,oDAA+BI,MAAM,CAACgF,YAAtC,yDAA+B,qBAAqBD;AAApD;AAAA;AAAA;AAAA;AAAA,wBALF;AAAA;AAAA;AAAA;AAAA;AAAA,sBAxBF,eAgCG;AAAA,wCACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADD,eAEC;AAAO,kBAAA,IAAI,EAAC,MAAZ;AAAmB,kBAAA,IAAI,EAAC,cAAxB;AAAA,qBAA2CnF,QAAQ,CAAC,cAAD,CAAnD;AAAqE,kBAAA,QAAQ,MAA7E;AACC,kBAAA,SAAS,EAAC;AADX;AAAA;AAAA;AAAA;AAAA,wBAFD,eAKC;AAAK,kBAAA,SAAS,EAAC,cAAf;AAAA,oDAA+BI,MAAM,CAACiF,YAAtC,yDAA+B,qBAAqBF;AAApD;AAAA;AAAA;AAAA;AAAA,wBALD;AAAA;AAAA;AAAA;AAAA;AAAA,sBAhCH,eAwCG;AAAA,wCACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADD,eAEC;AAAQ,kBAAA,IAAI,EAAC,cAAb;AAAA,qBAAgCnF,QAAQ,CAAC,cAAD,CAAxC;AAA0D,kBAAA,SAAS,EAAC,mBAApE;AACD,kBAAA,QAAQ,EAAE8E,wBADT;AAAA,0CAEA;AAAQ,oBAAA,KAAK,EAAC,QAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAFA,eAGA;AAAwB,oBAAA,KAAK,EAAC,WAA9B;AAAA;AAAA,qBAAY,WAAZ;AAAA;AAAA;AAAA;AAAA,0BAHA,eAIA;AAAmB,oBAAA,KAAK,EAAC,SAAzB;AAAA;AAAA,qBAAY,MAAZ;AAAA;AAAA;AAAA;AAAA,0BAJA,eAKA;AAAkB,oBAAA,KAAK,EAAC,aAAxB;AAAA;AAAA,qBAAY,KAAZ;AAAA;AAAA;AAAA;AAAA,0BALA,eAMA;AAAkB,oBAAA,KAAK,EAAC,SAAxB;AAAA;AAAA,qBAAY,KAAZ;AAAA;AAAA;AAAA;AAAA,0BANA,eAOA;AAAkB,oBAAA,KAAK,EAAC,SAAxB;AAAA;AAAA,qBAAY,KAAZ;AAAA;AAAA;AAAA;AAAA,0BAPA,eAQA;AAAkB,oBAAA,KAAK,EAAC,OAAxB;AAAA;AAAA,qBAAY,KAAZ;AAAA;AAAA;AAAA;AAAA,0BARA,eASA;AAAkB,oBAAA,KAAK,EAAC,WAAxB;AAAA;AAAA,qBAAY,KAAZ;AAAA;AAAA;AAAA;AAAA,0BATA,eAUA;AAAqB,oBAAA,KAAK,EAAC,QAA3B;AAAA;AAAA,qBAAY,QAAZ;AAAA;AAAA;AAAA;AAAA,0BAVA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAFD;AAAA;AAAA;AAAA;AAAA;AAAA,sBAxCH,eA0DG;AAAA,wCACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADD,eAEC;AAAU,kBAAA,IAAI,EAAC,MAAf;AAAsB,kBAAA,IAAI,EAAC,QAA3B;AAAA,qBAAwC9E,QAAQ,CAAC,QAAD,CAAhD;AACC,kBAAA,SAAS,EAAC;AADX;AAAA;AAAA;AAAA;AAAA,wBAFD,eAKC;AAAK,kBAAA,SAAS,EAAC,cAAf;AAAA,8CAA+BI,MAAM,CAACkF,MAAtC,mDAA+B,eAAeH;AAA9C;AAAA;AAAA;AAAA;AAAA,wBALD;AAAA;AAAA;AAAA;AAAA;AAAA,sBA1DH,eAkEG;AAAA;AAAA;AAAA;AAAA,sBAlEH,eAsEA;AAAK,gBAAA,SAAS,EAAC,MAAf;AAAA,uCACC;AAAQ,kBAAA,IAAI,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,sBAtEA,eAyEA;AAAK,gBAAA,SAAS,EAAC,MAAf;AAAA,uCACA;AAAQ,kBAAA,IAAI,EAAC,QAAb;AAAsB,kBAAA,OAAO,EAAEP,iBAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA,sBAzEA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA;AANA;AAAA;AAAA;AAAA;AAAA,gBALD;AAAA;AAAA;AAAA;AAAA;AAAA;AAFD;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,UADD;AAqGA,CAvUD;;AAyUA,eAAezF,UAAU,CAACY,eAAD,CAAzB","sourcesContent":["/**\n * Code generated using Python\n * @author Raja Reddy\n * Date : 17 Oct 2021\n *\n * Modified By : \n */\n\nimport { useState, useEffect } from \"react\";\nimport { withRouter, useParams, useHistory } from \"react-router-dom\";\nimport { useForm } from \"react-hook-form\";\nimport axios from 'axios';\nimport * as yup from \"yup\";\n\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport LiveSearch from '../utils/LiveSearch';\n\n//import DatePicker  from 'react-datepicker';\n//import \"react-datepicker/dist/react-datepicker.css\";\n//import addDays from 'date-fns/addDays'\n\nimport Tabs from 'react-bootstrap/Tabs'\nimport Tab from 'react-bootstrap/Tab'\n\nconst schema = yup.object({\n\t \n\n});\n\n\n\nconst LicStatusUpdate = () => {\n\tconst { register, handleSubmit, setValue, formState: { errors }, clearErrors } = useForm({\n\t\tresolver: yupResolver(schema)\n\t});\n\n\tlet { id } = useParams();\n\n\tlet history = useHistory();\n\tconst [serverErrors, setServerErrors] = useState([]);\n\tconst [entity, setEntity] = useState({});\n\tconst [state, setState] = useState({}); \n\tconst [key, setKey] = useState('page1');\n\t \n\tconst [dakId, setDakId] = useState(0);\n\t \n\tconst [mesg,setMesg]=useState('');\n\tconst [me,setMe]=useState('');\n\tconst [dakidNo,setDakidNo]=useState('');\n\tconst [polStatus,setPolStatus]=useState('');\n\tconst [polNo,setPolNo]=useState('');\n\tconst [empNo,setEmpNo]=useState('');\n\tconst [empName,setEmpName]=useState('');\n\tconst [empRank,setEmpRank]=useState('');\n\t \n\n\n\n\tuseEffect(() => {\n\t\tlet isCancelled = false;\n\t\tconsole.log(id);\n\t\tif (id !== 'new') {\n\t\t\tasync function fetchData() {\n\t\t\t\tlet record = '';\n\t\t\t\tawait axios.get('/lics/' + id)\n\t\t\t\t\t.then((response) => {\n\t\t\t\t\t\tconsole.log(response.data);\n\t\t\t\t\t\trecord = response.data;\n\t\t\t\t\t\tif(record.policyNo!==null){\n\t\t\t\t\t\t\tsetPolNo(record.policyNo);\n\t\t\t\t\t\t\tconsole.log(\"--------------policy No----------:\" + polNo);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\t\n\t\t\t\t\t\t\n\t\t\t\t\t\t})\n\n\t\t\t\t\t.catch((error) => {\n\t\t\t\t\t\t//console.log(error);\n\t\t\t\t\t\t//console.log(error.response.status);\n\t\t\t\t\t\t//console.log(error.response.headers);\n\t\t\t\t\t\tif (error.response)\n\t\t\t\t\t\t\tsetServerErrors(error.response.data.error);\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tsetServerErrors(error.Error);\n\t\t\t\t\t});\n\n\t\t\t\t\t\tconst fields = [\n\t\t\t\t\t\t\t'id', 'dak', 'employee', 'cdaoNo', 'checkDigit', 'policyNo','policyAmount', \n\t\t\t\t\t\t\t'premiumAmount', 'premiumDueMe', 'policyCommencementDate','policyMaturityDate','monthEnding', \n\t\t\t\t\t\t\t'auditor', 'aao','ao','auditorDate', 'aaoDate', 'aoDate', 'policyStatus','approved'\n\t\t\t\t\t\t];\n\t\t\t\t\t\t \n\t\t\t\t\t\tfields.forEach(field => setValue(field, record[field]));\n\t\t\t\t\t\t \n\n\t\t\t\t\t\n\n\t\t\t\tif (!isCancelled) {\n\t\t\t\t\tsetEntity(record);\n\t\t\t\t\tsetState(prev => ({ ...prev, state: record }));\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfetchData();\n\t\t\treturn () => {\n\t\t\t\tisCancelled = true;\n\t\t\t};\n\t\t}\n\n\t}, []);\n\n \tuseEffect(() => {\n\t\tlet fetching = false;\n\t\tlet unmounted = false;\n\t\tasync function fetchMe() {\n\t\t\t \n\t\t\t \n\t\t\t\tif (!fetching)\n\t\t\t\t\tawait axios.get(`/licMaturityTransactions/licDemand/getCurrentMe`)\n\t\t\t\t\t\t.then((response) => {\n\t\t\t\t\t\t\tsetMe(response.data);\n\t\t\t\t\t\t\t \n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch((error) => {\n\t\t\t\t\t\t\t//console.log(error);\n\t\t\t\t\t\t\t//console.log(error.response.status);\n\t\t\t\t\t\t\t//console.log(error.response.headers);\n\t\t\t\t\t\t\tif (error.response)\n\t\t\t\t\t\t\t\tsetServerErrors(error.response.data.error);\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\tsetServerErrors(error.Error);\n\t\t\t\t\t\t})\n\t\t}\n\t\tfetchMe();\n\t\t \n\t\treturn () => { fetching = true; unmounted = true; }\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, []);\n\t\n\tuseEffect(() => {\n\t\tlet fetching = false;\n\t\tlet unmounted = false;\n\t\tasync function fetchEmployeeFromPolicyNo() {\n\t\t\t \n\t\t\t \n\t\t\t\tif (!fetching)\n\t\t\t\t\tawait axios.get(`/lics/policyNo/${polNo}`)\n\t\t\t\t\t\t.then((response) => {\n\t\t\t\t\t\t\tconsole.log(response.data[0]+\"----\"+response.data[1]+\"---\"+response.data[2]);\n\t\t\t\t\t\t\tsetEmpNo(response.data[0]);\n\t\t\t\t\t\t\tsetEmpName(response.data[1]);\n\t\t\t\t\t\t\tsetEmpRank(response.data[2]);\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t \n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch((error) => {\n\t\t\t\t\t\t\t//console.log(error);\n\t\t\t\t\t\t\t//console.log(error.response.status);\n\t\t\t\t\t\t\t//console.log(error.response.headers);\n\t\t\t\t\t\t\tif (error.response)\n\t\t\t\t\t\t\t\tsetServerErrors(error.response.data.error);\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\tsetServerErrors(error.Error);\n\t\t\t\t\t\t})\n\t\t}\n\t\tfetchEmployeeFromPolicyNo();\n\t\t \n\t\treturn () => { fetching = true; unmounted = true; }\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [polNo]);\n \n\n\tconst onSubmit = (data, event) => {\n\t\tevent.preventDefault();\n\t\tconsole.log(data);\n\t\tif (data.id) {\n\t\t\taxios.put(\"/lics/\" + data.id, data)\n\t\t\t\t.then((response) => {\n\t\t\t\t\tsetMesg(response.data['remarks']);\n\t\t\t\t\t \n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tconsole.log(error);\n\t\t\t\t\t//\tconsole.log(error.response.status);\n\t\t\t\t\t//\tconsole.log(error.response.headers);\n\t\t\t\t\tif (error.response)\n\t\t\t\t\t\tsetServerErrors(error.response.data.error);\n\t\t\t\t\telse\n\t\t\t\t\t\tsetServerErrors(error.Error);\n\t\t\t\t})\n\t\t} \n\n\t\t \n\t}\n\n\tconst onError = (errors, e) => console.log(errors, e);\n\n\t//All foreign keys. \n\t// XXXXXX Add search fields and adjust the values as necessary\n\tconst parentData = {\n\n\t\tdak: {\n\t\t\ttitle: \"Dak\",\n\t\t\turl : \"daks\",\n\t\t\tsearchList : ['id'], //XXXXXXXXX Add search fields\n\t\t\tfkEntity: \"dak\",\n\t\t\tpreload: false, //XXXXXX Set this to true for small tables like designations\n\t\t},\n\t\t\temployee: {\n\t\t\ttitle: \"Employee\",\n\t\t\turl: \"employees/all/effective\",\n\t\t\tsearchList: ['cdaoNo', 'checkDigit', 'officerName'], //XXXXXXXXX Add search fields\n\t\t\tfkEntity: \"employee\",\n\t\t\tpreload: false, //XXXXXX Set this to true for small tables like designations\n\t\t},\n\t\t \n\t}\n\n\t//Callback for child components (Foreign Keys)\n\tconst callback = (childData) => {\n\t\t//console.log(\"Parent Callback\");\n\t\tsetEntity(prev => ({ ...prev, [childData.fk]: childData.entity }));\n\t\tsetValue(childData.fk, childData.entity);\n\t\t//console.log(errors);\n\t\tconsole.log(\">>>\"+childData.fk);\n\t\t \n\t\tclearErrors(childData.fk);\n\t};\n\n\tconst errorCallback = (err) => {\n\t\t//console.log(err);\n\t\tsetServerErrors(err);\n\t}\n\n\tconst handleInputChange = (e) => {\n\t\t//console.log(e.target.value);\n\t};\n\t \n\t \n\tconst handleButtonClick = (e) =>{\n\t\thistory.push(\"/lics\");\n\t}\n\t\n\tconst handlePolicyStatusChange = (e) => {\n\t\tconsole.log(e.target.value);\n\t\tsetValue('PolicyStatus',e.target.value);\n\t\t\n\t \n\t};\n\tconst handlePolNoChange = (e) => {\n\t\tconsole.log(e.target.value);\n\t\tsetPolNo(e.target.value);\n\t\t\n\t \n\t};\n\n\treturn (\n\t\t<div className=\"min-h-screen bg-gray-100 text-gray-900\">\n\t\t\t<div className=\"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8 pt-4\">\n\t\t\t\t\n\t\t\t\t<form onSubmit={handleSubmit(onSubmit, onError)}>\n\t\t\t\t\t<h1 >{id === 'new' ? 'Add' : 'Edit'} Lic Policy Status </h1>\n\t\t\t\t \n\t\t\t\t\t<div className=\"text-red-500\">{mesg}</div>\n\n\t\t\t\t\t<Tabs\n\t\t\t\t\t\tid=\"Lic\"\n\t\t\t\t\t\tactiveKey={key}\n\t\t\t\t\t\tonSelect={(k) => setKey(k)}\n\t\t\t\t\t\tclassName=\"mb-3\">\n\t\t\t\t\t\t\n\t\t\t\t\t<Tab eventKey=\"page1\" title=\"Lic Policy Status\" className=\"h-120\">\n\t\t\t\t\t<div className=\"grid grid-cols-2 gap-0\">\n\t\t\t\t\t\t \n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<label>Month</label>\n\t\t\t\t\t\t\t\t\t {me}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t \n\t\t\t\t\t\t\t\t  \n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<label>Policy Number</label>\n\t\t\t\t\t\t\t\t\t<input type=\"text\" name=\"policyNo\" {...register(\"policyNo\")}  onChange={handlePolNoChange}\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-control py-0\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<div className=\"text-red-500\">{errors.policyNo?.message}</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<label> {empNo} {  } {empName} {  } {empRank}</label>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t \n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<label>Policy Amount</label>\n\t\t\t\t\t\t\t\t\t<input type=\"text\" name=\"policyAmount\" {...register(\"policyAmount\")} \n\t\t\t\t\t\t\t\t\t\tclassName=\"form-control py-0\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<div className=\"text-red-500\">{errors.policyAmount?.message}</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<label>Policy Status</label>\n\t\t\t\t\t\t\t\t\t<input type=\"text\" name=\"policyStatus\" {...register(\"policyStatus\")} readOnly\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-control py-0\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<div className=\"text-red-500\">{errors.policyStatus?.message}</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<label>Policy Status To Be Updated</label>\n\t\t\t\t\t\t\t\t\t<select name=\"policyStatus\" {...register(\"policyStatus\")} className=\"form-control py-0\"\n\t\t\t\t\t\t\t\tonChange={handlePolicyStatusChange} >\n\t\t\t\t\t\t\t\t\t<option value=\"select\">--Select--</option>\n\t\t\t\t\t\t\t\t\t<option key=\"surrender\" value=\"SURRENDER\">Surrender Of Policy</option>\n\t\t\t\t\t\t\t\t\t<option key=\"paid\" value=\"PAID UP\">Paid Up Condition</option>\n\t\t\t\t\t\t\t\t\t<option key=\"dis\" value=\"DISCONTINUE\">Discontinue</option>\n\t\t\t\t\t\t\t\t\t<option key=\"mat\" value=\"MATxURE\">Mature</option>\n\t\t\t\t\t\t\t\t\t<option key=\"ret\" value=\"RETIRED\">Retired</option>\n\t\t\t\t\t\t\t\t\t<option key=\"dth\" value=\"DEATH\">Death</option>\n\t\t\t\t\t\t\t\t\t<option key=\"pre\" value=\"PREMATURE\">Premature</option>\n\t\t\t\t\t\t\t\t\t<option key=\"active\" value=\"ACTIVE\">Active</option>\n\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t \n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<label>Remarks</label>\n\t\t\t\t\t\t\t\t\t<textarea type=\"text\" name=\"reason\" {...register(\"reason\")}\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-control py-0\"/>\n\t\t\t\t\t\t\t\t\t \n\t\t\t\t\t\t\t\t\t<div className=\"text-red-500\">{errors.reason?.message}</div>\n\t\t\t\t\t\t\t\t</div>\t\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t <div>\n\t\t\t\t\t\t\t </div>\n\t\t \n\n\t\t\t\t\t<div className=\"px-2\">\n\t\t\t\t\t\t<button type=\"submit\" >Save</button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"px-2\">\n\t\t\t\t\t<button type=\"button\" onClick={handleButtonClick} >Cancel</button>\n\t\t\t\t\t\t</div>\n</div>\n</Tab>\n \n\t\t\t\t\t\n</Tabs>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default withRouter(LicStatusUpdate);"]},"metadata":{},"sourceType":"module"}