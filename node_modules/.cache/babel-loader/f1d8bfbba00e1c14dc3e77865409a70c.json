{"ast":null,"code":"var _jsxFileName = \"/home/itsdc3/Imp Tulip files/falconws160424/falconws/falcon_face/src/components/Do2ClearBatchApprovalList.js\";\n\n/**\n * Code generated using Python\n * @author Raja Reddy\n * Date : 18 April 2022\n *\n * Modified By : \n */\nimport { useState, useEffect, useMemo } from 'react';\nimport Table, { SelectColumnFilter } from '../utils/Table'; // \n\nimport axios from \"axios\";\nimport { withRouter, Link } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction Do2ClearBatchApprovalList() {\n  const [data, setData] = useState([]);\n  const [update, setUpdate] = useState(false);\n  const [serverErrors, setServerErrors] = useState([]);\n  const [search, setSearch] = useState(\"\");\n  const [inputText, setInputText] = useState('');\n  const [me, setMe] = useState('');\n  const [task, setTask] = useState('0');\n  const [batchNo, setBatchNo] = useState('');\n  const [batchSize, setBatchSize] = useState(0);\n  const [disabled, setDisabled] = useState(false);\n  const [requiredBatchSize, setRequiredBatchSize] = useState(0);\n  const [batchCounter, setBatchCounter] = useState(0);\n  const [rejectedItems, setRejectedItems] = useState([]);\n  useEffect(() => {\n    let fetching = false;\n\n    async function fetchData() {\n      if (!fetching) await axios.get(`/do2Controls/verifyHc/approval?me=${me}&batchNo=${batchNo}`).then(response => {\n        setData(response.data);\n        console.log(response.data.length);\n      }).catch(error => {\n        //console.log(error);\n        //console.log(error.response.status);\n        //console.log(error.response.headers);\n        if (error.response) setServerErrors(error.response.data.error);else setServerErrors(error.Error);\n      });\n    }\n\n    fetchData();\n    return () => {\n      fetching = true;\n    };\n  }, [update, me, batchNo]);\n  useEffect(() => {\n    let fetching = false;\n\n    async function fetchRejectedData() {\n      if (me && batchNo) if (!fetching) await axios.get(`/do2XmlRejectedItems/rejectedItems/fetchList?batchNo=${batchNo}&me=${me}`).then(response => {\n        setRejectedItems(response.data);\n        console.log(response.data.length);\n      }).catch(error => {\n        //console.log(error);\n        //console.log(error.response.status);\n        //console.log(error.response.headers);\n        if (error.response) setServerErrors(error.response.data.error);else setServerErrors(error.Error);\n      });\n    }\n\n    fetchRejectedData();\n    return () => {\n      fetching = true;\n    };\n  }, [update, me, batchNo]);\n\n  const handleCheckBox = index => e => {\n    console.log(e.target.checked);\n    data[index].selected = e.target.checked;\n    updateBatchCounter();\n  };\n\n  const updateCheckBoxAll = e => {\n    let newData = [...data];\n\n    for (var k in newData) {\n      newData[k].selected = e.target.checked;\n    }\n\n    setData(newData);\n  };\n\n  function updateBatchCounter() {\n    if (data) {\n      let counter = batchCounter;\n\n      for (var i = 0; i < data.length; i++) {\n        if (data[i].selected == true) {\n          counter += data[i].totalItems;\n        }\n\n        setBatchCounter(counter);\n      }\n    }\n  }\n\n  async function clearBatch() {\n    console.log(batchNo);\n\n    if (batchNo.length < 1) {\n      alert(\"No batch selected.\");\n      return;\n    }\n\n    if (me.length != 6) {\n      alert(\"Month not selected. Please fill month in mmyyyy format\");\n      return;\n    }\n\n    let selected = false;\n    let usrLevel = 0;\n    var proceed;\n    proceed = window.confirm('You are about to approve batch ' + batchNo + ' for month ' + me + '  for processing. Please confirm.');\n    console.log(proceed);\n    if (!proceed) return;\n    if (disabled) return;\n    setDisabled(true);\n    axios.post(`/do2Controls/hcVerified/approve/${me}/${batchNo}`, data).then(response => {\n      console.log(response.data);\n      if (response.data) setServerErrors(response.data);\n      setData([]);\n      setDisabled(false);\n    });\n  }\n\n  async function remove(id) {\n    await axios.delete(`/do2Controls/${id}`).then(() => {\n      //console.log(data);\n      let updatedRecords = [...data].filter(i => i.id !== id);\n      console.log(updatedRecords);\n      setData(updatedRecords);\n      setUpdate(!update);\n    }).catch(error => {\n      console.log(error); //console.log(error.response.status);\n      //console.log(error.response.headers);\n\n      if (error.response) setServerErrors(error.response.data.error);else setServerErrors(error.Error);\n    });\n  }\n\n  const ShowList = () => {\n    const cols = useMemo(() => [{\n      Header: \"Do2 Control\",\n      accessor: 'do2Control.id' // Change this\n\n    }, {\n      Header: \"Do2 Item No\",\n      accessor: 'do2ItemNo'\n    }, {\n      Header: \"Do2 Description\",\n      accessor: 'do2Description'\n    }, {\n      Header: \"Rejection Reason\",\n      accessor: 'rejectionReason'\n    }, {\n      Header: \"Army No\",\n      accessor: 'armyNo'\n    }, {\n      Header: \"Check Digit\",\n      accessor: 'checkDigit'\n    }, {\n      Header: \"Reviewed Imported\",\n      accessor: 'reviewedImported'\n    }], [rejectedItems]);\n    const columns = useMemo(() => [{\n      Header: \"MR\",\n      accessor: 'id',\n      Cell: ({\n        row\n      }) => /*#__PURE__*/_jsxDEV(\"div\", {\n        children: row.original.mr !== null && row.original.mr > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"Contains Manual Rejection\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 5\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 5\n      }, this)\n    }, {\n      Header: \"Month Ending\",\n      accessor: 'monthEnding'\n    }, {\n      Header: \"Hard Copy Verified\",\n      accessor: 'hardCopyVerified',\n      Cell: ({\n        row\n      }) => /*#__PURE__*/_jsxDEV(\"div\", {\n        children: row.original.hardCopyVerified != null && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: row.original.hardCopyVerified === true ? 'true' : 'false'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 5\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 5\n      }, this)\n    }, {\n      Header: \"No Hc\",\n      accessor: 'noHc',\n      Cell: ({\n        row\n      }) => /*#__PURE__*/_jsxDEV(\"div\", {\n        children: row.original.noHc != null && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: row.original.noHc === true ? 'true' : 'false'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 5\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 5\n      }, this)\n    }, {\n      Header: \"Dt Of Receipt\",\n      accessor: 'dtOfReceipt'\n    }, {\n      Header: \"Unit Code\",\n      accessor: 'unitCode'\n    }, {\n      Header: \"Batch Number\",\n      accessor: 'batchNumber'\n    }, {\n      Header: \"Batch Dt\",\n      accessor: 'batchDt'\n    }, {\n      Header: \"Do2 Type\",\n      accessor: 'do2Type'\n    }, {\n      Header: \"Do2 No\",\n      accessor: 'do2No'\n    }, {\n      Header: \"Do2 Year\",\n      accessor: 'do2Year'\n    }, {\n      Header: \"Do2 Date\",\n      accessor: 'do2Date'\n    }, {\n      Header: \"Total Items\",\n      accessor: 'totalItems'\n    }, {\n      Header: \"Imported Items\",\n      accessor: 'importedItems'\n    }, {\n      Header: \"Task\",\n      accessor: 'task'\n    }, {\n      Header: \"Imported\",\n      accessor: 'imported'\n    }, {\n      Header: \"Input File Name\",\n      accessor: 'inputFileName'\n    }, {\n      Header: \"Batch File Name\",\n      accessor: 'batchFileName'\n    }, {\n      Header: \"Missing Do2\",\n      accessor: 'missingDo2'\n    }, {\n      Header: \"Misdo2rep Gen Dt\",\n      accessor: 'misdo2repGenDt'\n    }, {\n      Header: \"Ack Date\",\n      accessor: 'ackDate'\n    }, {\n      Header: \"Feed Back Date\",\n      accessor: 'feedBackDate'\n    }, {\n      Header: \"Specimen Signature\",\n      accessor: 'specimenSignature.id' // Change this\n\n    }, {\n      Header: \"Core Validity\",\n      accessor: 'coreValidity'\n    }, {\n      Header: \"Input File Type\",\n      accessor: 'inputFileType'\n    }, {\n      Header: \"Auditor Date\",\n      accessor: 'auditorDate'\n    }, {\n      Header: \"Aao Date\",\n      accessor: 'aaoDate'\n    }, {\n      Header: \"Ao Date\",\n      accessor: 'aoDate'\n    }\n    /*\n    {\n    \tHeader: \"Login Name\",\n    \taccessor: 'loginName',\n    \tFilter: SelectColumnFilter,  // new\n    \tfilter: 'includes',\n    },\n    */\n    ], [data]);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-gray-100 text-gray-900\",\n      children: /*#__PURE__*/_jsxDEV(\"main\", {\n        className: \"max-w-8xl mx-auto px-4 sm:px-6 lg:px-8 pt-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"-mt-2 max-h-0 py-0 ml-0\",\n          children: [/*#__PURE__*/_jsxDEV(Table, {\n            columns: columns,\n            data: data,\n            className: \"table-auto\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 399,\n            columnNumber: 6\n          }, this), rejectedItems && rejectedItems.length > 0 && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Rejected Items\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 402,\n              columnNumber: 6\n            }, this), /*#__PURE__*/_jsxDEV(Table, {\n              columns: cols,\n              data: rejectedItems,\n              className: \"table-auto\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 403,\n              columnNumber: 6\n            }, this)]\n          }, void 0, true)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 398,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 409,\n          columnNumber: 5\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 396,\n        columnNumber: 4\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 395,\n      columnNumber: 7\n    }, this);\n  };\n\n  const ShowRejectedList = () => {\n    const cols = useMemo(() => [{\n      Header: \"Do2 Control\",\n      accessor: 'do2Control.id' // Change this\n\n    }, {\n      Header: \"Do2 Item No\",\n      accessor: 'do2ItemNo'\n    }, {\n      Header: \"Do2 Description\",\n      accessor: 'do2Description'\n    }, {\n      Header: \"Rejection Reason\",\n      accessor: 'rejectionReason'\n    }, {\n      Header: \"Army No\",\n      accessor: 'armyNo'\n    }, {\n      Header: \"Check Digit\",\n      accessor: 'checkDigit'\n    }, {\n      Header: \"Reviewed Imported\",\n      accessor: 'reviewedImported'\n    }], [rejectedItems]);\n  };\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    console.log(inputText); //setSearch(inputText);\n  };\n\n  const handleKeyPress = event => {\n    // look for the `Enter` keyCode\n    if (event.keyCode === 13 || event.which === 13) {\n      handleSubmit(event);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-100 text-gray-900\",\n    children: /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"max-w-8xl mx-auto px-4 sm:px-6 lg:px-8 pt-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-2 ml-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-red-500\",\n          children: serverErrors\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 484,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-xl font-semibold\",\n          children: \"Clear Do2 Batch - Approval List\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 485,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flexContainer\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"me\",\n              placeholder: \"mmyyyy\",\n              onChange: e => setMe(e.target.value),\n              className: \"pl-2 -ml-2 inputField flex-initial\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 488,\n              columnNumber: 7\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 487,\n            columnNumber: 6\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"batchNo\",\n              placeholder: \"batchNo\",\n              onChange: e => setBatchNo(e.target.value),\n              className: \"pl-2 -ml-2 inputField flex-initial\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 494,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 493,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              onClick: handleSubmit,\n              className: \"w-16 m-0 p-0\",\n              children: \"Search\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 500,\n              columnNumber: 7\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 499,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: me && batchNo && /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: clearBatch,\n              className: \"w-16 m-0 p-0\",\n              children: \"Approve\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 504,\n              columnNumber: 7\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 502,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 486,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(ShowList, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 510,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 483,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 482,\n      columnNumber: 4\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 481,\n    columnNumber: 3\n  }, this);\n}\n\nexport default withRouter(Do2ClearBatchApprovalList);","map":{"version":3,"sources":["/home/itsdc3/Imp Tulip files/falconws160424/falconws/falcon_face/src/components/Do2ClearBatchApprovalList.js"],"names":["useState","useEffect","useMemo","Table","SelectColumnFilter","axios","withRouter","Link","Do2ClearBatchApprovalList","data","setData","update","setUpdate","serverErrors","setServerErrors","search","setSearch","inputText","setInputText","me","setMe","task","setTask","batchNo","setBatchNo","batchSize","setBatchSize","disabled","setDisabled","requiredBatchSize","setRequiredBatchSize","batchCounter","setBatchCounter","rejectedItems","setRejectedItems","fetching","fetchData","get","then","response","console","log","length","catch","error","Error","fetchRejectedData","handleCheckBox","index","e","target","checked","selected","updateBatchCounter","updateCheckBoxAll","newData","k","counter","i","totalItems","clearBatch","alert","usrLevel","proceed","window","confirm","post","remove","id","delete","updatedRecords","filter","ShowList","cols","Header","accessor","columns","Cell","row","original","mr","hardCopyVerified","noHc","ShowRejectedList","handleSubmit","event","preventDefault","handleKeyPress","keyCode","which","value"],"mappings":"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","sourcesContent":["/**\n * Code generated using Python\n * @author Raja Reddy\n * Date : 18 April 2022\n *\n * Modified By : \n */\n\nimport { useState, useEffect, useMemo } from 'react';\nimport Table, { SelectColumnFilter } from '../utils/Table'  // \nimport axios from \"axios\";\nimport { withRouter, Link } from \"react-router-dom\";\n\nfunction Do2ClearBatchApprovalList() {\n\n\tconst [data, setData] = useState([]);\n\tconst [update, setUpdate] = useState(false);\n\tconst [serverErrors, setServerErrors] = useState([]);\n\tconst [search, setSearch] = useState(\"\");\n\tconst [inputText, setInputText] = useState('');\n\tconst [me,setMe]=useState('');\n\tconst [task,setTask]=useState('0');\n\tconst [batchNo,setBatchNo]=useState('');\n\tconst [batchSize,setBatchSize]=useState(0);\n\tconst [disabled,setDisabled]=useState(false);\n\tconst [requiredBatchSize,setRequiredBatchSize]=useState(0);\n\tconst [batchCounter,setBatchCounter]=useState(0);\n\tconst [rejectedItems,setRejectedItems]=useState([]);\n\t\n\t\n\t\n\tuseEffect(() => {\n\t\tlet fetching = false;\n\t\tasync function fetchData() {\n\t\t\t \n\t\t\tif(!fetching)\n\t\t\tawait axios.get(`/do2Controls/verifyHc/approval?me=${me}&batchNo=${batchNo}`)\n\t\t\t\t.then((response) => {\n\t\t\t\t\tsetData(response.data);\n\t\t\t\t\tconsole.log(response.data.length);\n\t\t\t\t\t \n\t\t\t\t\t \n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\t//console.log(error);\n\t\t\t\t\t//console.log(error.response.status);\n\t\t\t\t\t//console.log(error.response.headers);\n\t\t\t\t\tif (error.response)\n\t\t\t\t\t\tsetServerErrors(error.response.data.error);\n\t\t\t\t\telse\n\t\t\t\t\t\tsetServerErrors(error.Error);\n\t\t\t\t})\n\t\t}\n\t\tfetchData();\n\t\treturn () => { fetching = true; }\n\n\t}, [update, me,batchNo]);\n\t\n\tuseEffect(() => {\n\t\tlet fetching = false;\n\t\tasync function fetchRejectedData() {\n\t\t\tif(me && batchNo)\n\t\t\tif(!fetching)\n\t\t\tawait axios.get(`/do2XmlRejectedItems/rejectedItems/fetchList?batchNo=${batchNo}&me=${me}`)\n\t\t\t\t.then((response) => {\n\t\t\t\t\tsetRejectedItems(response.data);\n\t\t\t\t\tconsole.log(response.data.length);\n\t\t\t\t\t \n\t\t\t\t\t \n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\t//console.log(error);\n\t\t\t\t\t//console.log(error.response.status);\n\t\t\t\t\t//console.log(error.response.headers);\n\t\t\t\t\tif (error.response)\n\t\t\t\t\t\tsetServerErrors(error.response.data.error);\n\t\t\t\t\telse\n\t\t\t\t\t\tsetServerErrors(error.Error);\n\t\t\t\t})\n\t\t}\n\t\tfetchRejectedData();\n\t\treturn () => { fetching = true; }\n\n\t}, [update, me,batchNo]);\n\t\nconst handleCheckBox =index=> (e) =>{\n\t\t   console.log(e.target.checked);\n\t\t\tdata[index].selected=e.target.checked;\n\t\t\tupdateBatchCounter();\n\t\t \n\t}\n \n\tconst updateCheckBoxAll = (e) =>{\n\t\t   \n\t\t   \n\t\t\t  let newData=[...data];\n\t\t\tfor(var k in newData){\n\t\t\t\tnewData[k].selected=e.target.checked;\n\t\t\t}\n\t\t\tsetData(newData);\n\t\t \n\t\t \n\t}\n\t\n\tfunction updateBatchCounter (){\n\t\tif(data){\n\t\t\tlet counter=batchCounter;\n\t\t\tfor(var i=0;i<data.length;i++){\n\t\t\tif(data[i].selected==true){\n\t\t\t\tcounter+=data[i].totalItems\n\t\t\t\t\n\t\t\t}\n\t\t\tsetBatchCounter(counter);\n\t\t}\n\t\t}\n\t}\n\nasync function clearBatch  () {\n\tconsole.log(batchNo);\n\tif(batchNo.length<1){\n\t\talert(\"No batch selected.\");\n\t\treturn;\n\t}\n\tif(me.length!=6){\n\t\talert(\"Month not selected. Please fill month in mmyyyy format\");\n\t\treturn;\n\t}\n\t\n\tlet selected=false;\n\t \n\tlet usrLevel=0;\n\t\n\tvar proceed;\n\t \n\tproceed=window.confirm('You are about to approve batch '+batchNo+' for month '+me+'  for processing. Please confirm.');\n\tconsole.log(proceed);\n\tif(!proceed)\n\t\treturn;\n\tif(disabled)\n\t\treturn;\n\t\t\n\t\tsetDisabled(true);\n\t\t \n\t\taxios.post(`/do2Controls/hcVerified/approve/${me}/${batchNo}`,data)\n\t\t.then((response) => {\t \n\t\t\t console.log(response.data);\n\t\t\t   if(response.data)\n\t\t\t  \tsetServerErrors(response.data);\n\t\t\t  \tsetData([]);\n\t\t\t setDisabled(false)\n       \n\t\t});\n\t}\n\t\n\tasync function remove(id) {\n\t\tawait axios.delete(`/do2Controls/${id}`)\n\t\t\t.then(() => {\n\t\t\t\t//console.log(data);\n\t\t\t\tlet updatedRecords = [...data].filter((i) => i.id !== id);\n\t\t\t\tconsole.log(updatedRecords);\n\t\t\t\tsetData(updatedRecords);\n\t\t\t\tsetUpdate(!update);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tconsole.log(error);\n\t\t\t\t//console.log(error.response.status);\n\t\t\t\t//console.log(error.response.headers);\n\t\t\t\tif (error.response)\n\t\t\t\t\tsetServerErrors(error.response.data.error);\n\t\t\t\telse\n\t\t\t\t\tsetServerErrors(error.Error);\n\t\t\t});\n\t}\n\nconst ShowList=()=>{\n\t\n\tconst cols = useMemo(() => [\n\t\t \n\t\t{\n\t\t\tHeader: \"Do2 Control\",\n\t\t\taccessor: 'do2Control.id',// Change this\n\t\t},\n\t\t\n\t\t{\n\t\t\tHeader: \"Do2 Item No\",\n\t\t\taccessor: 'do2ItemNo',\n\t\t},\n\t\t\n\t\t{\n\t\t\tHeader: \"Do2 Description\",\n\t\t\taccessor: 'do2Description',\n\t\t},\n\t\t\n\t\t{\n\t\t\tHeader: \"Rejection Reason\",\n\t\t\taccessor: 'rejectionReason',\n\t\t},\n\t\t\n\t\t \n\t\t\n\t\t{\n\t\t\tHeader: \"Army No\",\n\t\t\taccessor: 'armyNo',\n\t\t},\n\t\t\n\t\t{\n\t\t\tHeader: \"Check Digit\",\n\t\t\taccessor: 'checkDigit',\n\t\t},\n\t\t\n\t\t{\n\t\t\tHeader: \"Reviewed Imported\",\n\t\t\taccessor: 'reviewedImported',\n\t\t},\n\t\t\n\t\t\n\t\t \n\t], [rejectedItems])\n\n\tconst columns = useMemo(() => [\n\t\t\n\t\t \n\t\t{\n\t\t\tHeader: \"MR\",\n\t\t\taccessor: 'id',\n\t\t\tCell : ({row})=>(\n\t\t\t\t<div>\n\t\t\t\t{row.original.mr!==null && row.original.mr>0 &&\n\t\t\t\t<div>Contains Manual Rejection</div>\n\t\t\t\t}\n\t\t\t\t</div>\n\t\t\t)\n\t\t},\n\t\t{\n\t\t\tHeader: \"Month Ending\",\n\t\t\taccessor: 'monthEnding',\n\t\t},\n\t\t\n\t\t{\n\t\t\tHeader: \"Hard Copy Verified\",\n\t\t\taccessor: 'hardCopyVerified',\n\t\t\tCell : ({row})=>(\n\t\t\t\t<div>\n\t\t\t\t{row.original.hardCopyVerified!=null &&\n\t\t\t\t<div>{row.original.hardCopyVerified === true ? 'true' : 'false'}</div>\n\t\t\t\t}\n\t\t\t\t</div>\n\t\t\t)\n\t\t},\n\t\t\n\t\t{\n\t\t\tHeader: \"No Hc\",\n\t\t\taccessor: 'noHc',\n\t\t\tCell : ({row})=>(\n\t\t\t\t<div>\n\t\t\t\t{row.original.noHc!=null &&\n\t\t\t\t<div>{row.original.noHc === true ? 'true' : 'false'}</div>\n\t\t\t\t}\n\t\t\t\t</div>\n\t\t\t)\n\t\t},\n\t\t{\n\t\t\tHeader: \"Dt Of Receipt\",\n\t\t\taccessor: 'dtOfReceipt',\n\t\t},\n\t\t{\n\t\t\tHeader: \"Unit Code\",\n\t\t\taccessor: 'unitCode',\n\t\t},\n\t\t{\n\t\t\tHeader: \"Batch Number\",\n\t\t\taccessor: 'batchNumber',\n\t\t},\n\t\t{\n\t\t\tHeader: \"Batch Dt\",\n\t\t\taccessor: 'batchDt',\n\t\t},\n\t\t{\n\t\t\tHeader: \"Do2 Type\",\n\t\t\taccessor: 'do2Type',\n\t\t},\n\t\t{\n\t\t\tHeader: \"Do2 No\",\n\t\t\taccessor: 'do2No',\n\t\t},\n\t\t{\n\t\t\tHeader: \"Do2 Year\",\n\t\t\taccessor: 'do2Year',\n\t\t},\n\t\t{\n\t\t\tHeader: \"Do2 Date\",\n\t\t\taccessor: 'do2Date',\n\t\t},\n\t\t\n\t\t{\n\t\t\tHeader: \"Total Items\",\n\t\t\taccessor: 'totalItems',\n\t\t},\n\t\t\n\t\t{\n\t\t\tHeader: \"Imported Items\",\n\t\t\taccessor: 'importedItems',\n\t\t},\n\t\t\n\t\t\n\t\t \n\t\t\n\t\t{\n\t\t\tHeader: \"Task\",\n\t\t\taccessor: 'task',\n\t\t},\n\t\t\n\t\t{\n\t\t\tHeader: \"Imported\",\n\t\t\taccessor: 'imported',\n\t\t},\n\t\t\n\t\t{\n\t\t\tHeader: \"Input File Name\",\n\t\t\taccessor: 'inputFileName',\n\t\t},\n\t\t\n\t\t{\n\t\t\tHeader: \"Batch File Name\",\n\t\t\taccessor: 'batchFileName',\n\t\t},\n\t\t\n\t\t\n\t\t\n\t\t{\n\t\t\tHeader: \"Missing Do2\",\n\t\t\taccessor: 'missingDo2',\n\t\t},\n\t\t\n\t\t{\n\t\t\tHeader: \"Misdo2rep Gen Dt\",\n\t\t\taccessor: 'misdo2repGenDt',\n\t\t},\n\t\t\n\t\t\n\t\t\n\t\t\n\t\t\n\t\t\n\t\t{\n\t\t\tHeader: \"Ack Date\",\n\t\t\taccessor: 'ackDate',\n\t\t},\n\t\t\n\t\t{\n\t\t\tHeader: \"Feed Back Date\",\n\t\t\taccessor: 'feedBackDate',\n\t\t},\n\t\t\n\t\t{\n\t\t\tHeader: \"Specimen Signature\",\n\t\t\taccessor: 'specimenSignature.id',// Change this\n\t\t},\n\t\t\n\t\t{\n\t\t\tHeader: \"Core Validity\",\n\t\t\taccessor: 'coreValidity',\n\t\t},\n\t\t\n\t\t{\n\t\t\tHeader: \"Input File Type\",\n\t\t\taccessor: 'inputFileType',\n\t\t},\n\t\t{\n\t\t\tHeader: \"Auditor Date\",\n\t\t\taccessor: 'auditorDate',\n\t\t},\n\t\t\n\t\t{\n\t\t\tHeader: \"Aao Date\",\n\t\t\taccessor: 'aaoDate',\n\t\t},\n\t\t{\n\t\t\tHeader: \"Ao Date\",\n\t\t\taccessor: 'aoDate',\n\t\t},\n\t\t\n\t\t\n\t\t/*\n\t\t{\n\t\t\tHeader: \"Login Name\",\n\t\t\taccessor: 'loginName',\n\t\t\tFilter: SelectColumnFilter,  // new\n\t\t\tfilter: 'includes',\n\t\t},\n\t\t*/\n\t], [data])\n\t\n\treturn (\n\t\t \t\t <div className=\"min-h-screen bg-gray-100 text-gray-900\">\n\t\t\t<main className=\"max-w-8xl mx-auto px-4 sm:px-6 lg:px-8 pt-4\">\n\t\t\n\t\t\t\t<div className=\"-mt-2 max-h-0 py-0 ml-0\">\n\t\t\t\t\t<Table columns={columns} data={data} className=\"table-auto\" />\n\t\t\t\t\t \n\t\t\t\t\t{rejectedItems && rejectedItems.length>0 && <>\n\t\t\t\t\t<label>Rejected Items</label>\n\t\t\t\t\t<Table columns={cols} data={rejectedItems} className=\"table-auto\" />\n\t\t\t\t\t</>\n\t\t\t\t\t}\n\t\t\t\t\t \n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t<div>\n\t\t\t\t\t\n\t\t\t\t</div>\n\t\t\t\t</main>\n\t\t\t\t</div>\n\t\t\t \n\t);\n\t\n\t}\n\nconst ShowRejectedList=()=>{\n\n\tconst cols = useMemo(() => [\n\t\t \n\t\t{\n\t\t\tHeader: \"Do2 Control\",\n\t\t\taccessor: 'do2Control.id',// Change this\n\t\t},\n\t\t\n\t\t{\n\t\t\tHeader: \"Do2 Item No\",\n\t\t\taccessor: 'do2ItemNo',\n\t\t},\n\t\t\n\t\t{\n\t\t\tHeader: \"Do2 Description\",\n\t\t\taccessor: 'do2Description',\n\t\t},\n\t\t\n\t\t{\n\t\t\tHeader: \"Rejection Reason\",\n\t\t\taccessor: 'rejectionReason',\n\t\t},\n\t\t\n\t\t \n\t\t\n\t\t{\n\t\t\tHeader: \"Army No\",\n\t\t\taccessor: 'armyNo',\n\t\t},\n\t\t\n\t\t{\n\t\t\tHeader: \"Check Digit\",\n\t\t\taccessor: 'checkDigit',\n\t\t},\n\t\t\n\t\t{\n\t\t\tHeader: \"Reviewed Imported\",\n\t\t\taccessor: 'reviewedImported',\n\t\t},\n\t\t\n\t\t\n\t\t \n\t], [rejectedItems])\n\t\n\t\n\t\n\t}\n\tconst handleSubmit = (event) => {\n\t\tevent.preventDefault();\n\t\tconsole.log(inputText);\n\t\t//setSearch(inputText);\n\t}\n\n\tconst handleKeyPress = (event) => {\n\t\t// look for the `Enter` keyCode\n\t\tif (event.keyCode === 13 || event.which === 13) {\n\t\t\thandleSubmit(event)\n\t\t}\n\t}\n\n\treturn (\n\t\t<div className=\"min-h-screen bg-gray-100 text-gray-900\">\n\t\t\t<main className=\"max-w-8xl mx-auto px-4 sm:px-6 lg:px-8 pt-4\">\n\t\t\t\t<div className=\"mt-2 ml-4\">\n\t\t\t\t<div className=\"text-red-500\">{serverErrors}</div>\n\t\t\t\t\t<h1 className=\"text-xl font-semibold\">Clear Do2 Batch - Approval List</h1>\n\t\t\t\t\t<div className=\"flexContainer\">\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<input type=\"text\" name=\"me\" placeholder=\"mmyyyy\" \n\t\t\t\t\t\tonChange={e => setMe(e.target.value)}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tclassName=\"pl-2 -ml-2 inputField flex-initial\" /> \n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<input type=\"text\" name=\"batchNo\" placeholder=\"batchNo\" \n\t\t\t\t\t\tonChange={e => setBatchNo(e.target.value)}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tclassName=\"pl-2 -ml-2 inputField flex-initial\" /> \n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t<button type=\"submit\" onClick={handleSubmit} className=\"w-16 m-0 p-0\">Search</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t{me && batchNo &&  \n\t\t\t\t\t\t<button type=\"button\" onClick={clearBatch}  className=\"w-16 m-0 p-0\" >Approve</button>\n\t\t\t\t\t\t}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t \n\t\t\t\t\t\t \n\t\t\t\t\t</div>\t\n\t\t\t\t\t<ShowList/>\n\t\t\t\t  \n\t\t\t\t\t\t\t \t\t\t\t\t \n\t\t\t\t\t\t \n\t\t\t\t\t\t\t\n\t\t\t\t\t\t \n\t\t\t\t\t \n\t\t\t\t</div>\n\t\t\t\t \n\t\t\t\t\n\t\t\t\t \n\t\t\t</main>\n\t\t\t\n\t\t</div>\n\t);\n}\n\nexport default withRouter(Do2ClearBatchApprovalList);\n\n"]},"metadata":{},"sourceType":"module"}