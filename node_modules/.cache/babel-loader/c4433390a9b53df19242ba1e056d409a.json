{"ast":null,"code":"var _jsxFileName = \"/home/itsdc3/Imp Tulip files/falconws160424/falconws/falcon_face/src/components/SpecimenSignatureList.js\";\n\n/**\n * Code generated using Python\n * @author Raja Reddy\n * Date : 18 April 2022\n *\n * Modified By : \n */\nimport { useState, useEffect, useMemo } from 'react';\nimport Table, { SelectColumnFilter } from '../utils/Table'; // \n\nimport axios from \"axios\";\nimport { format } from 'date-fns';\nimport { withRouter, Link } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction SpecimenSignatureList() {\n  const [data, setData] = useState([]);\n  const [update, setUpdate] = useState(false);\n  const [serverErrors, setServerErrors] = useState([]);\n  const [search, setSearch] = useState(\"\");\n  const [inputText, setInputText] = useState('');\n  const [action, setAction] = useState('');\n  useEffect(() => {\n    let fetching = false;\n\n    async function fetchData() {\n      if (!fetching) await axios.get('/specimenSignatures?search=' + search).then(response => {\n        setData(response.data);\n      }).catch(error => {\n        //console.log(error);\n        //console.log(error.response.status);\n        //console.log(error.response.headers);\n        if (error.response) setServerErrors(error.response.data.error);else setServerErrors(error.Error);\n      });\n    }\n\n    fetchData();\n    return () => {\n      fetching = true;\n    };\n  }, [update, search]);\n  useEffect(() => {\n    async function fetchAction() {\n      await axios.get(`/specimenSignatures/actions/fetchAction`).then(response => {\n        setAction(response.data);\n      }).catch(error => {\n        if (error.response) setServerErrors(error.response.data.error);else setServerErrors(error.Error);\n      });\n    }\n\n    fetchAction();\n  }, [update]);\n\n  async function verifyBulk() {\n    let i = 0;\n    var count = 0;\n\n    for (i = 0; i < data.length; i++) {\n      if (data[i].select !== null && data[i].select === true) count++;\n    }\n\n    if (count > 0) {\n      var proceed = window.confirm(\"You are about to verify \" + count + \" records. Please Confirm.\");\n      if (!proceed) return;\n    }\n\n    if (count === 0) {\n      alert(\"No records selected\");\n      return;\n    }\n\n    await axios.put(`/specimenSignatures/verify/bulk`, data).then(res => {\n      //console.log(data);\n      setServerErrors(res.data[0]);\n      setData(res.data[1]);\n      setUpdate(!update);\n    }).catch(error => {\n      console.log(error); //console.log(error.response.status);\n      //console.log(error.response.headers);\n\n      if (error.response) setServerErrors(error.response.data.error);else setServerErrors(error.Error);\n    });\n  }\n\n  async function approveBulk() {\n    let i = 0;\n    var count = 0;\n\n    for (i = 0; i < data.length; i++) {\n      if (data[i].select !== null && data[i].select === true) count++;\n    }\n\n    if (count > 0) {\n      var proceed = window.confirm(\"You are about to approve \" + count + \" records. Please Confirm.\");\n      if (!proceed) return;\n    }\n\n    if (count === 0) {\n      alert(\"No records selected\");\n      return;\n    }\n\n    await axios.put(`/specimenSignatures/approve/bulk`, data).then(res => {\n      //console.log(data);\n      setServerErrors(res.data[0]);\n      setData(res.data[1]);\n      setUpdate(!update);\n    }).catch(error => {\n      console.log(error); //console.log(error.response.status);\n      //console.log(error.response.headers);\n\n      if (error.response) setServerErrors(error.response.data.error);else setServerErrors(error.Error);\n    });\n  }\n\n  const handleCheckBox = index => e => {\n    console.log(e.target.checked + \"--\" + index);\n    console.log(e.target.checked);\n    let item = data[index];\n    item['select'] = e.target.checked;\n    let newData = [...data];\n    newData[index] = item;\n    setData(newData);\n  };\n\n  const updateCheckBoxAll = e => {\n    let newData = [...data];\n\n    for (var k in newData) {\n      newData[k].select = e.target.checked;\n    }\n\n    setData(newData);\n  };\n\n  async function remove(id) {\n    await axios.delete(`/specimenSignatures/${id}`).then(() => {\n      //console.log(data);\n      let updatedRecords = [...data].filter(i => i.id !== id);\n      console.log(updatedRecords);\n      setData(updatedRecords);\n      setUpdate(!update);\n    }).catch(error => {\n      console.log(error); //console.log(error.response.status);\n      //console.log(error.response.headers);\n\n      if (error.response) setServerErrors(error.response.data.error);else setServerErrors(error.Error);\n    });\n  }\n\n  const columns = useMemo(() => [{\n    Header: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [(action === \"verify\" || action === \"approve\") && /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"checkbox\",\n        onChange: updateCheckBoxAll\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 5\n      }, this), action === 'NA' && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Action\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 6\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 12\n    }, this),\n    accessor: \"select\",\n    Cell: ({\n      row\n    }) => /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [row.original.action !== null && row.original.action === 'edit' && /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/specimenSignatures/\" + row.original.id,\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \" w-16 m-0 p-0 \",\n          children: \" Edit \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 6\n      }, this), ' ', row.original.action !== null && (row.original.action === 'approve' || row.original.action === 'verify') && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\",\n            onChange: handleCheckBox(row.index),\n            checked: data[row.index]['select']\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"label\", {\n            children: row.original.action\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 12\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true), ' ', (row.original.action !== null || row.original.action === 'edit') && action === 'NA' && /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"w-16 m-0 p-0 bg-red-500 hover:bg-red-700 \",\n        onClick: () => remove(row.original.id),\n        children: \" Delete  \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 6\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 5\n    }, this)\n  }, {\n    Header: \"Unit\",\n    accessor: 'unit.unitCode' // Change this\n\n  }, {\n    Header: \"Sus No\",\n    accessor: 'susNo'\n  }, {\n    Header: \"Signatory\",\n    accessor: 'signatoryCode',\n    Cell: ({\n      row\n    }) => /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"  \", row.original.signatoryCode, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 44\n        }, this), row.original.signatoryName, \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 78\n        }, this), row.original.signatoryDesignation]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 7\n    }, this)\n  }, {\n    Header: \"Authority Letter\",\n    accessor: 'authorityLetterNo',\n    Cell: ({\n      row\n    }) => /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [row.original.authorityLetterDate && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\" \", row.original.authorityLetterNo, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 253,\n            columnNumber: 48\n          }, this), format(new Date(row.original.authorityLetterDate.toString()), 'dd/MM/yyyy')]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 8\n        }, this)\n      }, void 0, false), !row.original.authorityLetterDate && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"  \", row.original.authorityLetterNo]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 7\n        }, this)\n      }, void 0, false)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 7\n    }, this)\n  }, {\n    Header: \"From Date\",\n    accessor: 'fromDate'\n  }, {\n    Header: \"To Date\",\n    accessor: 'toDate'\n  }, {\n    Header: \"Finger Print\",\n    accessor: 'fingerPrint'\n  }, {\n    Header: \"Ss File Name\",\n    accessor: 'ssFileName'\n  }, {\n    Header: \"Auditor Date\",\n    accessor: 'auditorDate'\n  }, {\n    Header: \"Aao Date\",\n    accessor: 'aaoDate'\n  }, {\n    Header: \"Ao Date\",\n    accessor: 'aoDate'\n  }, {\n    Header: \"Record Status\",\n    accessor: 'recordStatus'\n  }, {\n    Header: \"Approved\",\n    accessor: 'approved',\n    Cell: ({\n      row\n    }) => /*#__PURE__*/_jsxDEV(\"div\", {\n      children: row.original.approved != null && row.original.approved === true ? 'true' : 'false'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 315,\n      columnNumber: 6\n    }, this)\n  }, {\n    Header: \"Remarks\",\n    accessor: 'remarks'\n  }\n  /*\n  {\n  \tHeader: \"Login Name\",\n  \taccessor: 'loginName',\n  \tFilter: SelectColumnFilter,  // new\n  \tfilter: 'includes',\n  },\n  */\n  ], [data]);\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    console.log(inputText);\n    setSearch(inputText);\n  };\n\n  const handleKeyPress = event => {\n    // look for the `Enter` keyCode\n    if (event.keyCode === 13 || event.which === 13) {\n      handleSubmit(event);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-100 text-gray-900\",\n    children: /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"max-w-8xl mx-auto px-4 sm:px-6 lg:px-8 pt-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-2 ml-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-red-500\",\n          children: serverErrors\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 364,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-xl font-semibold\",\n          children: \"Specimen Signatures\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 365,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flexContainer\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"search\",\n            placeHolder: \"susNo or signatoryCode\",\n            onChange: e => setInputText(e.target.value),\n            onKeyPress: handleKeyPress,\n            className: \"pl-2 -ml-2 inputField flex-initial\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 367,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            onClick: handleSubmit,\n            className: \"w-16 m-0 p-0\",\n            children: \"Search\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 371,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/specimenSignatures/new\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \" w-48 ml-8 p-0 h-6 -mt-2\",\n                children: \" Add Specimen Signature \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 374,\n                columnNumber: 9\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 373,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 372,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/specimenSignatures/approved/viewAll\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \" w-48 ml-8 p-0 h-6 -mt-2\",\n                children: \" Approved List \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 380,\n                columnNumber: 9\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 379,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 378,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 366,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 363,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"-mt-2 max-h-1 py-0\",\n        children: [/*#__PURE__*/_jsxDEV(Table, {\n          columns: columns,\n          data: data,\n          className: \"table-auto\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 386,\n          columnNumber: 6\n        }, this), action === 'verify' && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-2 ml-4\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: verifyBulk,\n              className: \" mt-3  w-40  \",\n              children: \"Verify\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 390,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 389,\n            columnNumber: 7\n          }, this)\n        }, void 0, false), action === 'approve' && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-2 ml-4\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: approveBulk,\n              className: \" mt-3  w-40  \",\n              children: \"Approve\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 396,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 395,\n            columnNumber: 7\n          }, this)\n        }, void 0, false)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 385,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 362,\n      columnNumber: 4\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 361,\n    columnNumber: 3\n  }, this);\n}\n\nexport default withRouter(SpecimenSignatureList);","map":{"version":3,"sources":["/home/itsdc3/Imp Tulip files/falconws160424/falconws/falcon_face/src/components/SpecimenSignatureList.js"],"names":["useState","useEffect","useMemo","Table","SelectColumnFilter","axios","format","withRouter","Link","SpecimenSignatureList","data","setData","update","setUpdate","serverErrors","setServerErrors","search","setSearch","inputText","setInputText","action","setAction","fetching","fetchData","get","then","response","catch","error","Error","fetchAction","verifyBulk","i","count","length","select","proceed","window","confirm","alert","put","res","console","log","approveBulk","handleCheckBox","index","e","target","checked","item","newData","updateCheckBoxAll","k","remove","id","delete","updatedRecords","filter","columns","Header","accessor","Cell","row","original","signatoryCode","signatoryName","signatoryDesignation","authorityLetterDate","authorityLetterNo","Date","toString","approved","handleSubmit","event","preventDefault","handleKeyPress","keyCode","which","value"],"mappings":"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","sourcesContent":["/**\n * Code generated using Python\n * @author Raja Reddy\n * Date : 18 April 2022\n *\n * Modified By : \n */\n\nimport { useState, useEffect, useMemo } from 'react';\nimport Table, { SelectColumnFilter } from '../utils/Table'  // \nimport axios from \"axios\";\nimport { format } from 'date-fns'\nimport { withRouter, Link } from \"react-router-dom\";\n\nfunction SpecimenSignatureList() {\n\n\tconst [data, setData] = useState([]);\n\tconst [update, setUpdate] = useState(false);\n\tconst [serverErrors, setServerErrors] = useState([]);\n\tconst [search, setSearch] = useState(\"\");\n\tconst [inputText, setInputText] = useState('');\n\tconst [action,setAction]=useState('');\n\n\tuseEffect(() => {\n\t\tlet fetching = false;\n\t\tasync function fetchData() {\n\t\t\tif(!fetching)\n\t\t\tawait axios.get('/specimenSignatures?search='+search)\n\t\t\t\t.then((response) => {\n\t\t\t\t\t \n\t\t\t\t\tsetData(response.data);\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\t//console.log(error);\n\t\t\t\t\t//console.log(error.response.status);\n\t\t\t\t\t//console.log(error.response.headers);\n\t\t\t\t\tif (error.response)\n\t\t\t\t\t\tsetServerErrors(error.response.data.error);\n\t\t\t\t\telse\n\t\t\t\t\t\tsetServerErrors(error.Error);\n\t\t\t\t})\n\t\t}\n\t\tfetchData();\n\t\treturn () => { fetching = true; }\n\n\t}, [update, search]);\n\n\tuseEffect(() => {\t\t \n\t\tasync function fetchAction() {\n\t\t\t\t \n\t\t     await axios.get(`/specimenSignatures/actions/fetchAction`)\n\t\t\t\t.then((response) => {\n\t\t\t\t\t\t\n\t\t\t\t\t\tsetAction(response.data);\t\t\t\t\t\t \n\t\t\t \t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tif(error.response)\n\t\t\t\t\t\tsetServerErrors(error.response.data.error);\n\t\t\t\t\telse\n\t\t\t\t\t \tsetServerErrors(error.Error);\n\t\t\t \t});\n\t\t\t \t\t\t\t\t\n\t\t}\n\n\t\tfetchAction();\n\t},  [update]);\n\t\n\tasync function verifyBulk() {\n\t\tlet i=0;\n\t\tvar count=0;\n\t\tfor(i=0;i<data.length;i++){\n\t\t\tif(data[i].select!==null && data[i].select===true)\n\t\t\t\tcount++;\n\t\t}\n\t\tif(count>0){\n\t\t\tvar proceed=window.confirm(\"You are about to verify \"+count+\" records. Please Confirm.\")\n\t\t\tif(!proceed)\n\t\t\t\treturn;\n\t\t}\n\t\tif(count===0){\n\t\t\talert(\"No records selected\");\n\t\t\treturn;\n\t\t}\n\t\tawait axios.put(`/specimenSignatures/verify/bulk`,data)\n\t\t\t.then((res) => {\n\t\t\t\t//console.log(data);\n\t\t\t\tsetServerErrors(res.data[0])\n\t\t\t\tsetData(res.data[1]);\n\t\t\t\tsetUpdate(!update);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tconsole.log(error);\n\t\t\t\t//console.log(error.response.status);\n\t\t\t\t//console.log(error.response.headers);\n\t\t\t\tif (error.response)\n\t\t\t\t\tsetServerErrors(error.response.data.error);\n\t\t\t\telse\n\t\t\t\t\tsetServerErrors(error.Error);\n\t\t\t});\n\t}\n\t\n\t\n\tasync function approveBulk() {\n\t\tlet i=0;\n\t\tvar count=0;\n\t\tfor(i=0;i<data.length;i++){\n\t\t\tif(data[i].select!==null && data[i].select===true)\n\t\t\t\tcount++;\n\t\t}\n\t\tif(count>0){\n\t\t\tvar proceed=window.confirm(\"You are about to approve \"+count+\" records. Please Confirm.\")\n\t\t\tif(!proceed)\n\t\t\t\treturn;\n\t\t}\n\t\tif(count===0){\n\t\t\talert(\"No records selected\");\n\t\t\treturn;\n\t\t}\n\t\tawait axios.put(`/specimenSignatures/approve/bulk`,data)\n\t\t\t.then((res) => {\n\t\t\t\t//console.log(data);\n\t\t\t\tsetServerErrors(res.data[0])\n\t\t\t\tsetData(res.data[1]);\n\t\t\t\tsetUpdate(!update);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tconsole.log(error);\n\t\t\t\t//console.log(error.response.status);\n\t\t\t\t//console.log(error.response.headers);\n\t\t\t\tif (error.response)\n\t\t\t\t\tsetServerErrors(error.response.data.error);\n\t\t\t\telse\n\t\t\t\t\tsetServerErrors(error.Error);\n\t\t\t});\n\t}\n\nconst handleCheckBox = index=>(e) =>{\n\t\tconsole.log(e.target.checked+\"--\"+index);\t\t\t  \n\t\tconsole.log(e.target.checked);\n\t\tlet item = data[index];\n\t\t \n\t\titem['select'] = e.target.checked;\n\t\tlet newData = [...data];\n\t\tnewData[index] = item;\n\t\tsetData(newData);\t\t \n\t}\n\t\n\tconst updateCheckBoxAll = (e) =>{\t\t   \n\t\tlet newData=[...data];\n\t\tfor(var k in newData){\n\t\t\tnewData[k].select=e.target.checked;\n\t\t}\n\t\tsetData(newData);\t\t \n\t}\n\tasync function remove(id) {\n\t\tawait axios.delete(`/specimenSignatures/${id}`)\n\t\t\t.then(() => {\n\t\t\t\t//console.log(data);\n\t\t\t\tlet updatedRecords = [...data].filter((i) => i.id !== id);\n\t\t\t\tconsole.log(updatedRecords);\n\t\t\t\tsetData(updatedRecords);\n\t\t\t\tsetUpdate(!update);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tconsole.log(error);\n\t\t\t\t//console.log(error.response.status);\n\t\t\t\t//console.log(error.response.headers);\n\t\t\t\tif (error.response)\n\t\t\t\t\tsetServerErrors(error.response.data.error);\n\t\t\t\telse\n\t\t\t\t\tsetServerErrors(error.Error);\n\t\t\t});\n\t}\n\n\n\tconst columns = useMemo(() => [\n\t\t{\n\t\t\tHeader: <div>\n\t\t\t{\n\t\t\t\t(action===\"verify\" || action===\"approve\") && \n\t\t\t\t<input type=\"checkbox\" onChange={updateCheckBoxAll}/>\n\t\t\t\t\n\t\t\t}\n\t\t\t{\n\t\t\t\t(action==='NA') &&\n\t\t\t\t <div>\n\t\t\t\t    <label>Action</label>\n\t\t\t\t  </div>\t\n\t\t\t\t\n\t\t\t}\n\t\t\t</div>,\n\t\t\taccessor : \"select\",\n\t\t\tCell: ({ row }) => (\n\t\t\t\t<div>\n\t\t\t\t{(row.original.action!==null && row.original.action==='edit') &&\n\t\t\t\t\t<Link to={\"/specimenSignatures/\" + row.original.id}>\n\t\t\t\t\t\t<button className=\" w-16 m-0 p-0 \" > Edit </button>\n\t\t\t\t\t</Link>\n\t\t\t\t\t}\n\t\t\t\t\t{' '}\n\t\t\t\t\t{(row.original.action!==null && (row.original.action==='approve' || row.original.action==='verify')) && <>\n\t\t\t\t\t\n\t\t\t\t\t <div>\n\t\t\t\t\t\t<input type=\"checkbox\" onChange={handleCheckBox(row.index)} checked={data[row.index]['select']}/>\n\t\t\t\t\t\t</div>\t\n\t\t\t\t\t\t<div><label>{row.original.action}</label></div>\t\n\t\t\t\t\t </>\n\t\t\t\t\t}\n\t\t\t\t\t{' '}\n\t\t\t\t\t{(row.original.action!==null || row.original.action==='edit') && action==='NA' &&\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName=\"w-16 m-0 p-0 bg-red-500 hover:bg-red-700 \"\n\t\t\t\t\t\tonClick={() => remove(row.original.id)}\n\t\t\t\t\t>\tDelete \t</button>\n\t\t\t\t\t}\n\t\t\t\t</div>\n\t\t\t)\n\t\t},\n\t\t{\n\t\t\tHeader: \"Unit\",\n\t\t\taccessor: 'unit.unitCode',// Change this\n\t\t},\n\t\t{\n\t\t\tHeader: \"Sus No\",\n\t\t\taccessor: 'susNo',\n\t\t},\n\t\t\n\t\t\n\t\t{\n\t\t\tHeader: \"Signatory\",\n\t\t\taccessor: 'signatoryCode',\n\t\t\tCell: ({ row }) => (\n\t\t\t\t \n\t\t\t\t  <div>\n\t\t\t\t   \n\t\t\t\t  <label>  {row.original.signatoryCode}<br/>{row.original.signatoryName} <br/>{row.original.signatoryDesignation}</label>\n\t\t\t\t   \n\t\t\t\t  </div>\t\t\t\t   \n\t\t\t\t \n\t\t\t)\n\t\t},\n\t\t\n\t\t \n\t\t\n\t\t{\n\t\t\tHeader: \"Authority Letter\",\n\t\t\taccessor: 'authorityLetterNo',\n\t\t\tCell: ({ row }) => (\n\t\t\t\t \n\t\t\t\t  <div>\n\t\t\t\t \n\t\t\t\t \t{row.original.authorityLetterDate && <>\n\t\t\t\t   <label> {row.original.authorityLetterNo}<br/>{format(new Date(row.original.authorityLetterDate.toString()),'dd/MM/yyyy')}</label>\n\t\t\t\t    </>\n\t\t\t\t    }\n\t\t\t\t    {!row.original.authorityLetterDate && <>\n\t\t\t\t  <label>  {row.original.authorityLetterNo}</label> \n\t\t\t\t    </>\n\t\t\t\t    }\n\t\t\t\t     \n\t\t\t\t  </div>\t\t\t\t   \n\t\t\t\t \n\t\t\t)\n\t\t},\n\t\t\n\t\t \n\t\t\n\t\t{\n\t\t\tHeader: \"From Date\",\n\t\t\taccessor: 'fromDate',\n\t\t},\n\t\t\n\t\t{\n\t\t\tHeader: \"To Date\",\n\t\t\taccessor: 'toDate',\n\t\t},\n\t\t{\n\t\t\tHeader: \"Finger Print\",\n\t\t\taccessor: 'fingerPrint',\n\t\t},\n\t\t\n\t\t{\n\t\t\tHeader: \"Ss File Name\",\n\t\t\taccessor: 'ssFileName',\n\t\t},\n\t\t \n\t\t\n\t\t{\n\t\t\tHeader: \"Auditor Date\",\n\t\t\taccessor: 'auditorDate',\n\t\t},\n\t\t\n\t\t{\n\t\t\tHeader: \"Aao Date\",\n\t\t\taccessor: 'aaoDate',\n\t\t},\n\t\t\n\t\t{\n\t\t\tHeader: \"Ao Date\",\n\t\t\taccessor: 'aoDate',\n\t\t},\n\t\t\n\t\t{\n\t\t\tHeader: \"Record Status\",\n\t\t\taccessor: 'recordStatus',\n\t\t},\n\t\t\n\t\t \n\t\t\n\t\t{\n\t\t\tHeader: \"Approved\",\n\t\t\taccessor: 'approved',\n\t\t\tCell: ({ row }) => (\n\t\t\t\t \n\t\t\t\t <div>\n\t\t\t\t{row.original.approved!=null &&\n\t\t\t\trow.original.approved === true ? 'true' : 'false'}\n\t\t\t\t </div>\n\t\t\t\t \n\t\t\t\t \n\t\t\t\t)\n\t\t},\n\t\t\n\t\t \n\t\t\n\t\t\n\t\t\n\t\t{\n\t\t\tHeader: \"Remarks\",\n\t\t\taccessor: 'remarks',\n\t\t},\n\t\t\n\t\t \n\t\t\n\t\t\n\t\t\n\t\t/*\n\t\t{\n\t\t\tHeader: \"Login Name\",\n\t\t\taccessor: 'loginName',\n\t\t\tFilter: SelectColumnFilter,  // new\n\t\t\tfilter: 'includes',\n\t\t},\n\t\t*/\n\t], [data])\n\n\tconst handleSubmit = (event) => {\n\t\tevent.preventDefault();\n\t\tconsole.log(inputText);\n\t\tsetSearch(inputText);\n\t}\n\n\tconst handleKeyPress = (event) => {\n\t\t// look for the `Enter` keyCode\n\t\tif (event.keyCode === 13 || event.which === 13) {\n\t\t\thandleSubmit(event)\n\t\t}\n\t}\n\n\treturn (\n\t\t<div className=\"min-h-screen bg-gray-100 text-gray-900\">\n\t\t\t<main className=\"max-w-8xl mx-auto px-4 sm:px-6 lg:px-8 pt-4\">\n\t\t\t\t<div className=\"mt-2 ml-4\">\n\t\t\t\t<div className=\"text-red-500\">{serverErrors}</div>\n\t\t\t\t\t<h1 className=\"text-xl font-semibold\">Specimen Signatures</h1>\n\t\t\t\t\t<div className=\"flexContainer\">\n\t\t\t\t\t\t<input type=\"text\" name=\"search\"  placeHolder=\"susNo or signatoryCode\"\n\t\t\t\t\t\tonChange={e => setInputText(e.target.value)}\n\t\t\t\t\t\t\tonKeyPress={handleKeyPress}\n\t\t\t\t\t\t\tclassName=\"pl-2 -ml-2 inputField flex-initial\" />\n\t\t\t\t\t\t<button type=\"submit\" onClick={handleSubmit} className=\"w-16 m-0 p-0\">Search</button>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<Link to={\"/specimenSignatures/new\"}>\n\t\t\t\t\t\t\t\t<button className=\" w-48 ml-8 p-0 h-6 -mt-2\" > Add Specimen Signature </button>\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<Link to={\"/specimenSignatures/approved/viewAll\"}>\n\t\t\t\t\t\t\t\t<button className=\" w-48 ml-8 p-0 h-6 -mt-2\" > Approved List </button>\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\t\t\t\t\t\n\t\t\t\t</div>\n\t\t\t\t<div className=\"-mt-2 max-h-1 py-0\">\n\t\t\t\t\t<Table columns={columns} data={data} className=\"table-auto\" />\n\t\t\t\t\t\n\t\t\t\t\t{(action==='verify') && <> \n\t\t\t\t \t<div  className=\"mt-2 ml-4\">\n\t\t\t\t\t\t <button type=\"button\" onClick={verifyBulk}  className=\" mt-3  w-40  \" >Verify</button>\n\t\t\t\t\t</div>\n\t\t\t\t\t</>\n\t\t\t\t\t}\n\t\t\t\t\t{(action==='approve') && <> \n\t\t\t\t \t<div  className=\"mt-2 ml-4\">\n\t\t\t\t\t\t <button type=\"button\" onClick={approveBulk}  className=\" mt-3  w-40  \" >Approve</button>\n\t\t\t\t\t</div>\n\t\t\t\t\t</>\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t</div>\n\t\t\t</main>\n\t\t</div>\n\t);\n}\n\nexport default withRouter(SpecimenSignatureList);\n\n"]},"metadata":{},"sourceType":"module"}