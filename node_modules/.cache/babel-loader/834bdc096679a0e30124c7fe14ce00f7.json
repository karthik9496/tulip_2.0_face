{"ast":null,"code":"var _jsxFileName = \"/home/itsdcsec/falconws/falcon_face/src/components/ExtnEdit.js\";\n\n/**\n * Code generated using Python\n * @author Raja Reddy\n * Date : 17 Oct 2021\n *\n * Modified By :\n */\nimport { useState, useEffect, useMemo } from \"react\";\nimport { withRouter, useParams, useHistory, useLocation } from \"react-router-dom\";\nimport { useForm } from \"react-hook-form\";\nimport axios from \"axios\";\nimport * as yup from \"yup\";\nimport LiveSearchNoTitle from \"../utils/LiveSearchNoTitle\";\nimport { yupResolver } from \"@hookform/resolvers/yup\";\nimport LiveSearch from \"../utils/LiveSearch\"; //import DatePicker  from 'react-datepicker';\n//import \"react-datepicker/dist/react-datepicker.css\";\n//import addDays from 'date-fns/addDays'\n\nimport Tabs from \"react-bootstrap/Tabs\";\nimport Tab from \"react-bootstrap/Tab\";\nimport Table from \"../utils/Table\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst schema = yup.object({});\n\nconst ExtnEdit = () => {\n  var _errors$extnAuthority, _errors$extnAuthority2;\n\n  const {\n    register,\n    handleSubmit,\n    setValue,\n    formState: {\n      errors\n    },\n    clearErrors\n  } = useForm({\n    resolver: yupResolver(schema)\n  });\n  let {\n    id\n  } = useParams();\n  let history = useHistory();\n  const [serverErrors, setServerErrors] = useState([]);\n  const [entity, setEntity] = useState({});\n  const [state, setState] = useState({});\n  const [key, setKey] = useState(\"page1\");\n  const [mesg, setMesg] = useState();\n  const [disabled, setDisabled] = useState(false);\n  const [extensionType, setExtensionType] = useState('');\n  const [empId, setEmpId] = useState(0);\n  let extnObj = {\n    cdaoNo: \"\",\n    empName: \"\",\n    employee: {},\n    rankName: \"\",\n    fromDate: \"\",\n    toDate: \"\",\n    extnAuthority: \"\",\n    extnAuthorityDate: \"\",\n    extnType: \"\",\n    sectionRemarks: \"\",\n    unit: {},\n    select: false\n  };\n  const [extnObjList, setExtnObjList] = useState([extnObj]);\n  const [fDate, setFDate] = useState('');\n  const [tDate, setTDate] = useState('');\n  const [auth, setAuth] = useState('');\n  const [authDate, setAuthDate] = useState('');\n  const [extType, setExtType] = useState('');\n  const [secRemarks, setSecRemarks] = useState('');\n  const [cda, setCda] = useState('');\n  const [dakId, setDakId] = useState('');\n  const [rName, setRName] = useState('');\n  const [posUnit, setPosUnit] = useState('');\n  const [unitId, setUnitId] = useState('');\n  useEffect(() => {\n    let isCancelled = false;\n    console.log(id);\n\n    if (id !== \"new\") {\n      async function fetchData() {\n        let record = \"\";\n        await axios.get(\"/extns/\" + id).then(response => {\n          console.log(response.data[0].extnType);\n\n          if (response.data) {\n            if (response.data[0].extnAuthority) setAuth(response.data[0].extnAuthority);\n            if (response.data[0].extnAuthorityDate) setAuthDate(response.data[0].extnAuthorityDate);\n            if (response.data[0].extnType) setExtType(response.data[0].extnType);\n            if (response.data[0].extnFromDate) setFDate(response.data[0].fromDate);\n            if (response.data[0].extnToDate) setTDate(response.data[0].toDate);\n            if (response.data[0].sectionRemarks) setSecRemarks(response.data[0].sectionRemarks); //\t\tif(response.data[0].rankName)\n            //\t\t\tsetRName(response.data[0].rankName);\n\n            if (response.data[0].cdaoNo) setCda(response.data[0].cdaoNo);\n            console.log(\"--------reeemp-----:\" + response.data[0].dakId);\n            if (response.data[0].dakId) setDakId(response.data[0].dakId); //setEntity(response.data[0]);\n\n            setExtnObjList(response.data);\n            console.log(response.data[0].dakType);\n          }\n\n          const fields = [\"id\", \"dak\", \"auditorDate\", \"aaoDate\", \"aoDate\", \"approved\", \"employee\", \"cdaoNo\", \"recordStatus\", \"checkDigit\", \"icNo\", \"icCheckDigit\", \"rank\", \"extnAuthority\", \"extnAuthorityDate\", \"extnType\", \"fromDate\", \"toDate\", \"unit\", \"recordStatus\", \"monthEnding\", \"sectionRemarks\", \"extnObjList\"];\n          fields.forEach(field => setValue(field, record[field]));\n        }).catch(error => {\n          //console.log(error);\n          //console.log(error.response.status);\n          //console.log(error.response.headers);\n          if (error.response) setServerErrors(error.response.data.error);else setServerErrors(error.Error);\n        });\n\n        if (!isCancelled) {\n          setEntity(record);\n          setState(prev => ({ ...prev,\n            state: record\n          }));\n        }\n      }\n\n      fetchData();\n      return () => {\n        isCancelled = true;\n      };\n    }\n  }, [id, setValue]);\n\n  const onSubmit = (data, event) => {\n    extnObjList.map((item, key) => {\n      item.extnAuthority = auth;\n      item.extnAuthorityDate = authDate;\n      item.extnType = extType;\n      item.sectionRemarks = secRemarks; //\titem.extnFromDate = fDate;\n      //\titem.extnToDate = tDate;\n    });\n    console.log(data);\n\n    if (dakId) {\n      console.log(\"-----------extn Obj List----:\" + extnObjList.length);\n      axios.put('/extns/editEntries/', extnObjList).then(response => {\n        setMesg(response.data);\n      }).catch(error => {//console.log(error.response.data);\n        //console.log(error.response.status);\n        //console.log(error.response.headers);\n        //setServerErrors(error.response.data);\n      });\n    } else {\n      console.log(\"before post\");\n      axios.post(\"/extns\", extnObjList).then(response => {\n        setMesg(response.data);\n        setDisabled(false);\n      }).catch(error => {\n        //console.log(error.response.data);\n        //console.log(error.response.status);\n        //console.log(error.response.headers);\n        setServerErrors(error.response.data);\n      });\n    }\n  };\n\n  const onError = (errors, e) => console.log(errors, e); //All foreign keys.\n  // XXXXXX Add search fields and adjust the values as necessary\n\n\n  const parentData = {\n    employee: {\n      title: \"Employee\",\n      url: \"employees\",\n      searchList: [\"cdaoNo\", \"officerName\"],\n      //XXXXXXXXX Add search fields here and also in the corresponding repository\n      fkEntity: \"employee\"\n    },\n    unit: {\n      title: \"Unit\",\n      url: \"units\",\n      searchList: [\"unitName\"],\n      //XXXXXXXXX Add search fields here and also in the corresponding repository\n      fkEntity: \"unit\"\n    }\n  }; //Callback for child components (Foreign Keys)\n\n  const callback = childData => {\n    //console.log(\"Parent Callback\");\n    setEntity(prev => ({ ...prev,\n      [childData.fk]: childData.entity\n    }));\n    setValue(childData.fk, childData.entity); //console.log(errors);\n\n    clearErrors(childData.fk);\n  };\n\n  const empcallback = index => childData => {\n    setEntity(prev => ({ ...prev,\n      [childData.fk]: childData.entity\n    }));\n    if (childData.fk === \"employee\") setEmpId(childData.entity.id);\n    let item = extnObjList[index];\n    item['employee'] = childData.entity;\n    item['rankName'] = childData.entity.rank.rankName;\n    let newData = [...extnObjList];\n    newData[index] = item;\n    setExtnObjList(newData);\n    clearErrors(childData.fk);\n  };\n\n  const unitcallback = index => childData => {\n    setEntity(prev => ({ ...prev,\n      [childData.fk]: childData.entity\n    }));\n    if (childData.fk === \"unit\") setUnitId(childData.entity.id);\n    let item = extnObjList[index];\n    item['unit'] = childData.entity;\n    let newData = [...extnObjList];\n    newData[index] = item;\n    setExtnObjList(newData);\n    clearErrors(childData.fk);\n  };\n\n  const errorCallback = err => {\n    //console.log(err);\n    setServerErrors(err);\n  };\n\n  const handleExtnType = e => {\n    console.log(\"%%%%%%:\" + e.target.value); //\tsetValue(\"extnType\", e.target.value);\n\n    setExtType(e.target.value);\n  };\n\n  const handleSecRemarks = e => {\n    console.log(\"%%%%%%:\" + e.target.value); //\tsetValue(\"extnType\", e.target.value);\n\n    setSecRemarks(e.target.value);\n  };\n\n  const handleExtnDate = e => {\n    console.log(\"%%%%%%:\" + e.target.value); //\tsetValue(\"extnType\", e.target.value);\n\n    setAuthDate(e.target.value);\n  };\n\n  const handleExtnAuth = e => {\n    console.log(\"%%%%%%:\" + e.target.value); //\tsetValue(\"extnType\", e.target.value);\n\n    setAuth(e.target.value);\n  };\n\n  const handleInputChange = e => {//console.log(e.target.value);\n  };\n\n  const handleFromDate = index => e => {\n    console.log(index + \"--\" + e.target.value);\n    let item = extnObjList[index];\n    item['fromDate'] = e.target.value;\n    let newData = [...extnObjList];\n    newData[index] = item;\n    setExtnObjList(newData);\n  };\n\n  const handleToDate = index => e => {\n    console.log(index + \"--\" + e.target.value);\n    let item = extnObjList[index];\n    item['toDate'] = e.target.value;\n    let newData = [...extnObjList];\n    newData[index] = item;\n    setExtnObjList(newData);\n  };\n\n  const handleCheckBox = index => e => {\n    console.log(e.target.checked);\n    let item = extnObjList[index];\n    item[\"select\"] = e.target.checked;\n    let newData = [...extnObjList];\n    newData[index] = item;\n    setExtnObjList(newData);\n  };\n\n  const addRow = e => {\n    setExtnObjList([...extnObjList, {\n      cdaoNo: \"\",\n      empName: \"\",\n      employee: {},\n      rankName: \"\",\n      fromDate: \"\",\n      toDate: \"\",\n      extnAuthority: \"\",\n      extnAuthorityDate: \"\",\n      extnType: \"\",\n      sectionRemarks: \"\",\n      unit: {},\n      select: false\n    }]);\n  };\n\n  const deleteRow = e => {\n    console.log(extnObjList.length);\n    let newData = [...extnObjList];\n    let i;\n\n    for (i = 0; i < newData.length; i++) {\n      if (newData[i].select === true) newData.splice(i, 1);\n    }\n\n    setExtnObjList(newData);\n  };\n\n  const handleButtonClick = e => {\n    history.push(\"/extns\");\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-100 text-gray-900\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-6xl mx-auto pb-2 px-4 sm:px-6 lg:px-8 pt-4\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"pb-2\",\n        onSubmit: handleSubmit(onSubmit, onError),\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: [id === \"new\" ? \"Add\" : \"Edit\", \" Extension of Service \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 348,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-red-500\",\n          children: serverErrors\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 349,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-xl text-red-500\",\n          children: mesg\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 350,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-2 gap-0\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Extn Autority\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 358,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"extnAuthority\",\n              value: auth,\n              ...register(\"extnAuthority\"),\n              onChange: handleExtnAuth,\n              className: \"form-control py-0\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 359,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-red-500\",\n              children: (_errors$extnAuthority = errors.extnAuthority) === null || _errors$extnAuthority === void 0 ? void 0 : _errors$extnAuthority.message\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 367,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 357,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Extn Autority Date\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 370,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"date\",\n              name: \"extnAuthorityDate\",\n              value: authDate,\n              ...register(\"extnAuthorityDate\"),\n              onChange: handleExtnDate,\n              className: \"form-control py-0\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 371,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-red-500\",\n              children: (_errors$extnAuthority2 = errors.extnAuthorityDate) === null || _errors$extnAuthority2 === void 0 ? void 0 : _errors$extnAuthority2.message\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 379,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 369,\n            columnNumber: 14\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Extension Type\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 382,\n              columnNumber: 4\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              name: \"extnType\",\n              value: extType,\n              ...register(\"extnType\"),\n              onChange: handleExtnType,\n              className: \"form-control py-0\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"select\",\n                children: \"--Select--\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 385,\n                columnNumber: 5\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"RETIRE\",\n                children: \" RETIRE \"\n              }, \"1\", false, {\n                fileName: _jsxFileName,\n                lineNumber: 386,\n                columnNumber: 5\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"RELEASE\",\n                children: \" RELEASE \"\n              }, \"2\", false, {\n                fileName: _jsxFileName,\n                lineNumber: 387,\n                columnNumber: 5\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"EXTN\",\n                children: \" EXTN \"\n              }, \"3\", false, {\n                fileName: _jsxFileName,\n                lineNumber: 388,\n                columnNumber: 5\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"EXTNSSC\",\n                children: \" EXTNSSC \"\n              }, \"4\", false, {\n                fileName: _jsxFileName,\n                lineNumber: 389,\n                columnNumber: 5\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 383,\n              columnNumber: 4\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 381,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Section Remarks\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 397,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              type: \"text\",\n              name: \"sectionRemarks\",\n              value: secRemarks,\n              ...register(\"sectionRemarks\"),\n              onChange: handleSecRemarks,\n              className: \"form-control py-0\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 398,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 396,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 352,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"table table-striped table-bordered table-auto\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Cdao No\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 411,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Rank\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 412,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Posted Unit\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 413,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"From Date\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 414,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"To Date\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 415,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Select\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 416,\n                columnNumber: 9\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 410,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 409,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: extnObjList.map((item, i) => {\n              return /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      width: \"300px\"\n                    },\n                    children: /*#__PURE__*/_jsxDEV(LiveSearchNoTitle, {\n                      name: \"employee\",\n                      value: cda,\n                      onChange: handleInputChange,\n                      parentData: parentData.employee,\n                      parentCallback: empcallback(i),\n                      fkEntity: item.employee,\n                      errCallback: errorCallback\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 430,\n                      columnNumber: 14\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 429,\n                    columnNumber: 13\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 428,\n                  columnNumber: 12\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: item.rankName\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 441,\n                  columnNumber: 12\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      width: \"200px\"\n                    },\n                    children: /*#__PURE__*/_jsxDEV(LiveSearchNoTitle, {\n                      name: \"unit\",\n                      value: posUnit,\n                      onChange: handleInputChange,\n                      parentData: parentData.unit,\n                      parentCallback: unitcallback(i),\n                      fkEntity: item.unit,\n                      errCallback: errorCallback\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 447,\n                      columnNumber: 14\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 446,\n                    columnNumber: 13\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 445,\n                  columnNumber: 12\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"date\",\n                    name: \"fromDate\",\n                    value: item.fromDate,\n                    onChange: handleFromDate(i),\n                    className: \"form-control py-0\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 462,\n                    columnNumber: 13\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 461,\n                  columnNumber: 12\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"date\",\n                    name: \"toDate\",\n                    value: item.toDate,\n                    onChange: handleToDate(i),\n                    className: \"form-control py-0\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 465,\n                    columnNumber: 13\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 464,\n                  columnNumber: 12\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"checkbox\",\n                    onChange: handleCheckBox(i),\n                    checked: item[\"select\"]\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 471,\n                    columnNumber: 13\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 470,\n                  columnNumber: 12\n                }, this)]\n              }, \"empDetail\" + i, true, {\n                fileName: _jsxFileName,\n                lineNumber: 426,\n                columnNumber: 11\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 422,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 408,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flexContainer\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-32 ...\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: addRow,\n              children: \"Add Record\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 493,\n              columnNumber: 7\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 492,\n            columnNumber: 6\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-38 ...\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: deleteRow,\n              children: \"Delete selected\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 496,\n              columnNumber: 7\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 495,\n            columnNumber: 6\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 491,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-2 gap-0 \",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"px-2\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: onSubmit,\n              children: \"Save\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 502,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 501,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"px-2\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: handleButtonClick,\n              children: \"Done\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 506,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 505,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 500,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 347,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 346,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 345,\n    columnNumber: 5\n  }, this);\n};\n\nexport default withRouter(ExtnEdit);","map":{"version":3,"sources":["/home/itsdcsec/falconws/falcon_face/src/components/ExtnEdit.js"],"names":["useState","useEffect","useMemo","withRouter","useParams","useHistory","useLocation","useForm","axios","yup","LiveSearchNoTitle","yupResolver","LiveSearch","Tabs","Tab","Table","schema","object","ExtnEdit","register","handleSubmit","setValue","formState","errors","clearErrors","resolver","id","history","serverErrors","setServerErrors","entity","setEntity","state","setState","key","setKey","mesg","setMesg","disabled","setDisabled","extensionType","setExtensionType","empId","setEmpId","extnObj","cdaoNo","empName","employee","rankName","fromDate","toDate","extnAuthority","extnAuthorityDate","extnType","sectionRemarks","unit","select","extnObjList","setExtnObjList","fDate","setFDate","tDate","setTDate","auth","setAuth","authDate","setAuthDate","extType","setExtType","secRemarks","setSecRemarks","cda","setCda","dakId","setDakId","rName","setRName","posUnit","setPosUnit","unitId","setUnitId","isCancelled","console","log","fetchData","record","get","then","response","data","extnFromDate","extnToDate","dakType","fields","forEach","field","catch","error","Error","prev","onSubmit","event","map","item","length","put","post","onError","e","parentData","title","url","searchList","fkEntity","callback","childData","fk","empcallback","index","rank","newData","unitcallback","errorCallback","err","handleExtnType","target","value","handleSecRemarks","handleExtnDate","handleExtnAuth","handleInputChange","handleFromDate","handleToDate","handleCheckBox","checked","addRow","deleteRow","i","splice","handleButtonClick","push","message","width"],"mappings":"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","sourcesContent":["/**\n * Code generated using Python\n * @author Raja Reddy\n * Date : 17 Oct 2021\n *\n * Modified By :\n */\n\nimport { useState, useEffect, useMemo } from \"react\";\nimport {\n  withRouter,\n  useParams,\n  useHistory,\n  useLocation,\n} from \"react-router-dom\";\nimport { useForm } from \"react-hook-form\";\nimport axios from \"axios\";\nimport * as yup from \"yup\";\nimport LiveSearchNoTitle from \"../utils/LiveSearchNoTitle\";\n\nimport { yupResolver } from \"@hookform/resolvers/yup\";\nimport LiveSearch from \"../utils/LiveSearch\";\n\n//import DatePicker  from 'react-datepicker';\n//import \"react-datepicker/dist/react-datepicker.css\";\n//import addDays from 'date-fns/addDays'\n\nimport Tabs from \"react-bootstrap/Tabs\";\nimport Tab from \"react-bootstrap/Tab\";\nimport Table from \"../utils/Table\";\n\nconst schema = yup.object({});\n\nconst ExtnEdit = () => {\n  const {\n    register,\n    handleSubmit,\n    setValue,\n    formState: { errors },\n    clearErrors,\n  } = useForm({\n    resolver: yupResolver(schema),\n  });\n\n  let { id } = useParams();\n\n  let history = useHistory();\n  const [serverErrors, setServerErrors] = useState([]);\n  const [entity, setEntity] = useState({});\n  const [state, setState] = useState({});\n  const [key, setKey] = useState(\"page1\");\n  \n  const [mesg, setMesg] = useState();\n  const [disabled, setDisabled] = useState(false);\n  const [extensionType,setExtensionType]=useState('');\n  const [empId,setEmpId]=useState(0);\n  let extnObj={cdaoNo: \"\", empName: \"\", employee: {}, rankName: \"\",fromDate:\"\", toDate:\"\",\n  extnAuthority:\"\",extnAuthorityDate:\"\",extnType:\"\",sectionRemarks:\"\",unit:{},select:false}\n\n   const [extnObjList, setExtnObjList] = useState([extnObj]);\n   const [fDate,setFDate]=useState('');\n   const [tDate,setTDate]=useState('');\n   const [auth,setAuth]=useState('');\n   const [authDate,setAuthDate]=useState('');\n   const [extType,setExtType]=useState('');\n   const [secRemarks,setSecRemarks]=useState('');\n   const [cda,setCda]=useState('');\t\n   const [dakId,setDakId]=useState('');\n   const [rName,setRName]=useState('');\n   const [posUnit,setPosUnit]=useState('');\n   const [unitId,setUnitId]=useState('');\n\t\n\t\n  useEffect(() => {\n    let isCancelled = false;\n    console.log(id);\n    if (id !== \"new\") {\n      async function fetchData() {\n        let record = \"\";\n        await axios\n          .get(\"/extns/\" + id)\n          .then((response) => {\n\tconsole.log(response.data[0].extnType);\n            if (response.data) {\n\t\t\t\t\t\t\tif (response.data[0].extnAuthority)\n\t\t\t\t\t\t\t\tsetAuth(response.data[0].extnAuthority);\n\t\t\t\t\t\t\tif (response.data[0].extnAuthorityDate)\n\t\t\t\t\t\t\t\tsetAuthDate(response.data[0].extnAuthorityDate);\n\t\t\t\t\t\t\tif (response.data[0].extnType)\n\t\t\t\t\t\t\t\tsetExtType(response.data[0].extnType);\n\t\t\t\t\t\t\tif (response.data[0].extnFromDate)\n\t\t\t\t\t\t\t\tsetFDate(response.data[0].fromDate);\n\t\t\t\t\t\t\tif (response.data[0].extnToDate) \n\t\t\t\t\t\t\t\tsetTDate(response.data[0].toDate);\n\t\t\t\t\t\t\tif(response.data[0].sectionRemarks)\n\t\t\t\t\t\t\t\tsetSecRemarks(response.data[0].sectionRemarks);\t\n\t\t\t\t\t//\t\tif(response.data[0].rankName)\n\t\t\t\t\t//\t\t\tsetRName(response.data[0].rankName);\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tif (response.data[0].cdaoNo)\n\t\t\t\t\t\t\t\t\tsetCda(response.data[0].cdaoNo);\n\t\t\t\t\t\t\t\t\tconsole.log(\"--------reeemp-----:\" + response.data[0].dakId);\n\t\t\t\t\t\t\t\t\tif(response.data[0].dakId)\n\t\t\t\t\t\t\t\t\tsetDakId(response.data[0].dakId);\n\t\t\t\t\t\t\t\t \n\n\n\t\t\t\t\t\t\t\t//setEntity(response.data[0]);\n\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tsetExtnObjList(response.data);\n\t\t\t\t\t\t\tconsole.log(response.data[0].dakType);\n\t\t\t\t\t\t}\n       \n            const fields = [\n              \"id\",\"dak\",\"auditorDate\",\"aaoDate\",\"aoDate\",\"approved\",\"employee\",\n              \"cdaoNo\",\"recordStatus\",\"checkDigit\",\"icNo\",\"icCheckDigit\",\"rank\",\n              \"extnAuthority\",\"extnAuthorityDate\",\"extnType\",\"fromDate\",\"toDate\",\n              \"unit\",\"recordStatus\",\"monthEnding\",\"sectionRemarks\",\"extnObjList\"\n            ];\n            fields.forEach((field) => setValue(field, record[field]));\n\n            \n          })\n          .catch((error) => {\n            //console.log(error);\n            //console.log(error.response.status);\n            //console.log(error.response.headers);\n            if (error.response) setServerErrors(error.response.data.error);\n            else setServerErrors(error.Error);\n          });\n\n        if (!isCancelled) {\n          setEntity(record);\n          setState((prev) => ({ ...prev, state: record }));\n        }\n      }\n\n      fetchData();\n      return () => {\n        isCancelled = true;\n      };\n    }\n  }, [id, setValue]);\n\n   \n  \n  const onSubmit = (data, event) => {\n\t \n    extnObjList.map((item, key) => {\n\t\t\titem.extnAuthority = auth;\n\t\t\titem.extnAuthorityDate = authDate;\n\t\t\titem.extnType = extType;\n\t\t\titem.sectionRemarks = secRemarks;\n\t\t//\titem.extnFromDate = fDate;\n\t\t//\titem.extnToDate = tDate;\n\t\t}); \n    console.log(data);\n    if (dakId) {\n\tconsole.log(\"-----------extn Obj List----:\" + extnObjList.length);\n      axios.put('/extns/editEntries/' , extnObjList)\n        .then((response) => {\n           setMesg(response.data);\n        })\n        .catch((error) => {\n          //console.log(error.response.data);\n          //console.log(error.response.status);\n          //console.log(error.response.headers);\n          //setServerErrors(error.response.data);\n        });\n    }else {\n\t\t\tconsole.log(\"before post\");\n\t\t\taxios.post(\"/extns\", extnObjList)\n\t\t\t\t.then((response) => { \n\t\t\t\t\t  setMesg(response.data);\n\t\t\t\t\t   \n\t\t\t\t\t \tsetDisabled(false);\n\t\t\t\t \n\t\t\t\t\t  \n\t\t\t\t\t \t\n\t\t\t\t\t \n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\t//console.log(error.response.data);\n\t\t\t\t\t//console.log(error.response.status);\n\t\t\t\t\t//console.log(error.response.headers);\n\t\t\t\t\tsetServerErrors(error.response.data)\n\t\t\t\t});\n\t\t}\n  };\n\n  const onError = (errors, e) => console.log(errors, e);\n\n  //All foreign keys.\n  // XXXXXX Add search fields and adjust the values as necessary\n  const parentData = {\n    employee: {\n      title: \"Employee\",\n      url: \"employees\",\n      searchList: [\"cdaoNo\", \"officerName\"], //XXXXXXXXX Add search fields here and also in the corresponding repository\n      fkEntity: \"employee\",\n    },\n    \n     unit: {\n      title: \"Unit\",\n      url: \"units\",\n      searchList: [\"unitName\"], //XXXXXXXXX Add search fields here and also in the corresponding repository\n      fkEntity: \"unit\",\n    },\n  };\n\n  //Callback for child components (Foreign Keys)\n  const callback = (childData) => {\n    //console.log(\"Parent Callback\");\n    setEntity((prev) => ({ ...prev, [childData.fk]: childData.entity }));\n    setValue(childData.fk, childData.entity);\n    //console.log(errors);\n    clearErrors(childData.fk);\n  };\n  \n  const empcallback = index => (childData) => {\n\t\tsetEntity((prev) => ({ ...prev, [childData.fk]: childData.entity }));\n\n\t\t \n\t\tif (childData.fk === \"employee\") \n\t\tsetEmpId(childData.entity.id)\n\n\t\tlet item = extnObjList[index];\n\n\t\titem['employee'] = childData.entity;\n\t\titem['rankName'] = childData.entity.rank.rankName;\n\t\tlet newData = [...extnObjList];\n\t\tnewData[index] = item;\n\t\tsetExtnObjList(newData);\n\n\t\tclearErrors(childData.fk);\n\t};\n\tconst unitcallback = index => (childData) => {\n\t\tsetEntity((prev) => ({ ...prev, [childData.fk]: childData.entity }));\n\n\t\t \n\t\tif (childData.fk === \"unit\") \n\t\tsetUnitId(childData.entity.id)\n\n\t\tlet item = extnObjList[index];\n\n\t\titem['unit'] = childData.entity;\n \t\tlet newData = [...extnObjList];\n\t\tnewData[index] = item;\n\t\tsetExtnObjList(newData);\n\n\t\tclearErrors(childData.fk);\n\t};\n\n  const errorCallback = (err) => {\n    //console.log(err);\n    setServerErrors(err);\n  };\n  const handleExtnType = (e) => {\n\t\tconsole.log(\"%%%%%%:\" + e.target.value);\n\t//\tsetValue(\"extnType\", e.target.value);\n\t\tsetExtType(e.target.value);\n\n\t};\n\t\n\t const handleSecRemarks = (e) => {\n\t\tconsole.log(\"%%%%%%:\" + e.target.value);\n\t//\tsetValue(\"extnType\", e.target.value);\n\t\tsetSecRemarks(e.target.value);\n\n\t};\n\t const handleExtnDate = (e) => {\n\t\tconsole.log(\"%%%%%%:\" + e.target.value);\n\t//\tsetValue(\"extnType\", e.target.value);\n\t\tsetAuthDate(e.target.value);\n\n\t};\n\t const handleExtnAuth = (e) => {\n\t\tconsole.log(\"%%%%%%:\" + e.target.value);\n\t//\tsetValue(\"extnType\", e.target.value);\n\t\tsetAuth(e.target.value);\n\n\t};\n  const handleInputChange = (e) => {\n    //console.log(e.target.value);\n  };\n  const handleFromDate = index => (e) => {\n\t\tconsole.log(index + \"--\" + e.target.value);\n\t\tlet item = extnObjList[index];\n\n\t\titem['fromDate'] = e.target.value;\n\t\tlet newData = [...extnObjList];\n\t\tnewData[index] = item;\n\t\tsetExtnObjList(newData);\n\n\t};\n\tconst handleToDate = index => (e) => {\n\t\tconsole.log(index + \"--\" + e.target.value);\n\t\tlet item = extnObjList[index];\n\n\t\titem['toDate'] = e.target.value;\n\t\tlet newData = [...extnObjList];\n\t\tnewData[index] = item;\n\t\tsetExtnObjList(newData);\n\n\t};\n\t\n\tconst handleCheckBox = (index) => (e) => {\n  \n    console.log(e.target.checked);\n    let item = extnObjList[index];\n\n    item[\"select\"] = e.target.checked;\n    let newData = [...extnObjList];\n    newData[index] = item;\n    setExtnObjList(newData);\n   };\n  \n  const addRow = (e) => {\n\t \n\t\t\n\t\tsetExtnObjList([...extnObjList,{cdaoNo: \"\", empName: \"\", employee: {}, rankName: \"\",fromDate:\"\", toDate:\"\",\n  extnAuthority:\"\",extnAuthorityDate:\"\",extnType:\"\",sectionRemarks:\"\",unit:{},select:false}])\n\t\t \n\t\n\t};\n\t\n\tconst deleteRow = (e) => {\n\t\tconsole.log(extnObjList.length);\n\tlet newData = [...extnObjList];\n\tlet i;\n\t\tfor(i=0;i<newData.length;i++){\n\t\t\tif(newData[i].select===true)\n\t\t\tnewData.splice(i,1);\n\t\t}\n\t\tsetExtnObjList(newData);\n\t};\n\t\n\tconst handleButtonClick = (e) => {\n\t\thistory.push(\"/extns\");\n\t};\n\n\n  return (\n    <div className=\"min-h-screen bg-gray-100 text-gray-900\">\n      <div className=\"max-w-6xl mx-auto pb-2 px-4 sm:px-6 lg:px-8 pt-4\">\n        <form className=\"pb-2\" onSubmit={handleSubmit(onSubmit, onError)}>\n          <h1>{id === \"new\" ? \"Add\" : \"Edit\"} Extension of Service </h1>\n          <div className=\"text-red-500\">{serverErrors}</div>\n          <div className=\"text-xl text-red-500\">{mesg}</div>\n\n          <div className=\"grid grid-cols-2 gap-0\">\n           \n            \n            \n\n            <div>\n              <label>Extn Autority</label>\n              <input\n                type=\"text\"\n                name=\"extnAuthority\"\n                value={auth}\n                {...register(\"extnAuthority\")}\n                onChange={handleExtnAuth}\n                className=\"form-control py-0\"\n              />\n              <div className=\"text-red-500\">{errors.extnAuthority?.message}</div>\n            </div>\n             <div>\n              <label>Extn Autority Date</label>\n              <input\n                type=\"date\"\n                name=\"extnAuthorityDate\"\n                value={authDate}\n                {...register(\"extnAuthorityDate\")}\n                onChange={handleExtnDate}\n                className=\"form-control py-0\"\n              />\n              <div className=\"text-red-500\">{errors.extnAuthorityDate?.message}</div>\n            </div>\n            <div>\n\t\t\t<label>Extension Type</label>\n\t\t\t<select name=\"extnType\" value={extType}\n\t\t\t{...register(\"extnType\")} onChange={handleExtnType}  className=\"form-control py-0\">\n\t\t\t\t<option value=\"select\">--Select--</option>\n\t\t\t\t<option key=\"1\" value=\"RETIRE\">\tRETIRE\t</option>\n\t\t\t\t<option key=\"2\" value=\"RELEASE\"> RELEASE </option>\n\t\t\t\t<option key=\"3\" value=\"EXTN\"> EXTN </option>\n\t\t\t\t<option key=\"4\" value=\"EXTNSSC\"> EXTNSSC </option>\n\n\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t</div>\n\n\n            \n            <div>\n              <label>Section Remarks</label>\n              <textarea\n                type=\"text\"\n                name=\"sectionRemarks\"\n                value={secRemarks}\n                {...register(\"sectionRemarks\")}\n                onChange={handleSecRemarks}\n                className=\"form-control py-0\"\n              />\n            </div>\n          </div>\n\t\t  <table className=\"table table-striped table-bordered table-auto\">\n\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<th>Cdao No</th>\n\t\t\t\t\t\t\t\t<th>Rank</th>\n\t\t\t\t\t\t\t\t<th>Posted Unit</th>\n\t\t\t\t\t\t\t\t<th>From Date</th>\n\t\t\t\t\t\t\t\t<th>To Date</th>\n\t\t\t\t\t\t\t\t<th>Select</th>\n\n\n\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\textnObjList.map((item, i) => {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<tr key={\"empDetail\" + i}>\n\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t<div style={{ width: \"300px\" }}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<LiveSearchNoTitle\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"employee\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={cda}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tparentData={parentData.employee}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tparentCallback={empcallback(i)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfkEntity={item.employee}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\terrCallback={errorCallback}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t{item.rankName}\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t<div style={{ width: \"200px\" }}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<LiveSearchNoTitle\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"unit\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={posUnit}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tparentData={parentData.unit}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tparentCallback={unitcallback(i)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfkEntity={item.unit}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\terrCallback={errorCallback}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\n\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t \n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"date\" name=\"fromDate\" value={item.fromDate}  onChange={handleFromDate(i)} className=\"form-control py-0\" />\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"date\"  name=\"toDate\"  value={item.toDate}  onChange={handleToDate(i)} className=\"form-control py-0\" />\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\n\n\t\t\t\t\t\t\t\t\t\t\t \n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={handleCheckBox(i)}\n\t\t\t\t\t\t\t\t\t\t\t\t\tchecked={item[\"select\"]}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t)\n\n\t\t\t\t\t\t\t\t})\n\n\t\t\t\t\t\t\t}\n\n\n\n\t\t\t\t\t\t</tbody>\n\n\n\t\t\t\t\t</table>\n\n\t\t\t\t<div className=\"flexContainer\">\n\t\t\t\t\t<div className=\"w-32 ...\">\n\t\t\t\t\t\t<button type=\"button\" onClick={addRow}>Add Record</button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"w-38 ...\">\n\t\t\t\t\t\t<button type=\"button\" onClick={deleteRow}>Delete selected</button>\n\t\t\t\t\t</div>\n</div>\n\n\t\t\t\t\t<div className=\"grid grid-cols-2 gap-0 \">\n\t\t\t\t\t\t<div className=\"px-2\">\n\t\t\t\t\t\t\t<button type=\"button\" onClick={onSubmit}>Save</button>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\"px-2\">\n\t\t\t\t\t\t\t<button type=\"button\" onClick={handleButtonClick}>\n\t\t\t\t\t\t\t\tDone\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default withRouter(ExtnEdit);\n"]},"metadata":{},"sourceType":"module"}