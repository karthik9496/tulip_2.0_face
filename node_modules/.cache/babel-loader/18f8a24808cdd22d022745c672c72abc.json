{"ast":null,"code":"import _defineProperty from\"/home/itsdcsec/falconws/falcon_face/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _regeneratorRuntime from\"/home/itsdcsec/falconws/falcon_face/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _objectSpread from\"/home/itsdcsec/falconws/falcon_face/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _asyncToGenerator from\"/home/itsdcsec/falconws/falcon_face/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/itsdcsec/falconws/falcon_face/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";/**\n * Code generated using Python\n * @author Raja Reddy\n * Date : 17 Oct 2021\n *\n * Modified By : \n */import{useState,useEffect,useRef}from\"react\";import{withRouter,useParams,useHistory}from\"react-router-dom\";import{useForm}from\"react-hook-form\";import axios from'axios';import*as yup from\"yup\";import{yupResolver}from'@hookform/resolvers/yup';import LiveSearch from'../utils/LiveSearch';import DatePicker from'react-datepicker';import\"react-datepicker/dist/react-datepicker.css\";import addDays from'date-fns/addDays';import Tabs from'react-bootstrap/Tabs';import Tab from'react-bootstrap/Tab';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var schema=yup.object({dakType:yup.object().required('Required'),section:yup.object().required('Required'),referenceNo:yup.string().required('Required').test('Length Ok','Field length exceeding 25',function(val){return val.length<=30;}),referenceDate:yup.string().required('Required')});var DakEdit=function DakEdit(){var _errors$employee,_errors$referenceNo,_errors$referenceNo2,_errors$referenceDate,_errors$amount,_errors$subject;var _useForm=useForm({resolver:yupResolver(schema)}),register=_useForm.register,handleSubmit=_useForm.handleSubmit,setValue=_useForm.setValue,errors=_useForm.formState.errors,clearErrors=_useForm.clearErrors;var _useParams=useParams(),id=_useParams.id;//console.log(id);\nvar history=useHistory();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),serverErrors=_useState2[0],setServerErrors=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),entity=_useState4[0],setEntity=_useState4[1];var _useState5=useState({}),_useState6=_slicedToArray(_useState5,2),state=_useState6[0],setState=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),dakMsg=_useState8[0],setDakMsg=_useState8[1];var _useState9=useState(),_useState10=_slicedToArray(_useState9,2),secId=_useState10[0],setSecId=_useState10[1];var _useState11=useState([]),_useState12=_slicedToArray(_useState11,2),dakTypeData=_useState12[0],setDakTypeData=_useState12[1];var _useState13=useState([]),_useState14=_slicedToArray(_useState13,2),dakTypeItems=_useState14[0],setDakTypeItems=_useState14[1];var _useState15=useState(),_useState16=_slicedToArray(_useState15,2),dakTypeItem=_useState16[0],setDakTypeItem=_useState16[1];var _useState17=useState(true),_useState18=_slicedToArray(_useState17,2),loading=_useState18[0],setLoading=_useState18[1];var _useState19=useState(''),_useState20=_slicedToArray(_useState19,2),sectionGroup=_useState20[0],setSectionGroup=_useState20[1];var _useState21=useState([]),_useState22=_slicedToArray(_useState21,2),sectionGroupList=_useState22[0],setSectionGroupList=_useState22[1];var _useState23=useState([]),_useState24=_slicedToArray(_useState23,2),sectionGroupItems=_useState24[0],setSectionGroupItems=_useState24[1];var _useState25=useState(0),_useState26=_slicedToArray(_useState25,2),empId=_useState26[0],setEmpId=_useState26[1];var _useState27=useState(''),_useState28=_slicedToArray(_useState27,2),secName=_useState28[0],setSecName=_useState28[1];var _useState29=useState('Page1'),_useState30=_slicedToArray(_useState29,2),key=_useState30[0],setKey=_useState30[1];var _useState31=useState(''),_useState32=_slicedToArray(_useState31,2),dakTypeDesc=_useState32[0],setDakTypeDesc=_useState32[1];var _useState33=useState(''),_useState34=_slicedToArray(_useState33,2),taskInfo=_useState34[0],setTaskInfo=_useState34[1];var _useState35=useState(false),_useState36=_slicedToArray(_useState35,2),dakTypeLetters=_useState36[0],setDakTypeLetters=_useState36[1];var _useState37=useState(''),_useState38=_slicedToArray(_useState37,2),vendorId=_useState38[0],setVendorId=_useState38[1];var _useState39=useState(false),_useState40=_slicedToArray(_useState39,2),lic=_useState40[0],setLic=_useState40[1];useEffect(function(){var isCancelled=false;console.log(id);if(id!=='new'){function fetchData(){return _fetchData.apply(this,arguments);}function _fetchData(){_fetchData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var record,fields;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:record='';_context.next=3;return axios.get('/daks/'+id).then(function(response){record=response.data;}).catch(function(error){//console.log(error);\n//console.log(error.response.status);\n//console.log(error.response.headers);\nif(error.response)setServerErrors(error.response.data.error);else setServerErrors(error.Error);});case 3:fields=['id','dakidNo','dakYear','dakType','unit','section','employee','cdaoNo','checkDigit','amount','referenceNo','referenceDate','subject','billNo','billDate','disposalDate','disposalDate','disposalSummary','taskUsr','reason','aaoDate','auditorDate','aoDate','recordStatus','approved','vendor'];setSectionGroup(record['section'].sectionGroup);setSecName(record['section'].sectionName);setSecId(record['section'].id);fields.forEach(function(field){return setValue(field,record[field]);});if(!isCancelled){setEntity(record);setState(function(prev){return _objectSpread(_objectSpread({},prev),{},{state:record});});}case 9:case\"end\":return _context.stop();}}},_callee);}));return _fetchData.apply(this,arguments);}fetchData();return function(){isCancelled=true;};}},[id,setValue]);useEffect(function(){var fetching=false;var unmounted=false;function fetchSectionGroup(){return _fetchSectionGroup.apply(this,arguments);}function _fetchSectionGroup(){_fetchSectionGroup=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(fetching){_context2.next=3;break;}_context2.next=3;return axios.get(\"/sections/999/sectionGroup\").then(function(response){console.log(\"response>>\"+response.data);setSectionGroupList(response.data);if(!unmounted){setLoading(false);}}).catch(function(error){//console.log(error);\n//console.log(error.response.status);\n//console.log(error.response.headers);\nif(error.response)setServerErrors(error.response.data.error);else setServerErrors(error.Error);});case 3:case\"end\":return _context2.stop();}}},_callee2);}));return _fetchSectionGroup.apply(this,arguments);}fetchSectionGroup();return function(){fetching=true;unmounted=true;};// eslint-disable-next-line react-hooks/exhaustive-deps\n},[id]);useEffect(function(){var fetching=false;var unmounted=false;console.log(\"daktype\");function fetchSectionData(){return _fetchSectionData.apply(this,arguments);}function _fetchSectionData(){_fetchSectionData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:console.log(empId);if(!(!fetching&&empId>0&&sectionGroup.length>2)){_context3.next=5;break;}console.log(\"fetching section \"+empId+\"--\"+sectionGroup);_context3.next=5;return axios.get(\"/employees/\".concat(empId,\"/sections/\").concat(sectionGroup)).then(function(response){console.log(\"response>> section>>\"+response.data[0].sectionName+\"--\"+response.data[1]+\"--\"+response.data[2]);setValue('section',response.data[0]);setSecId(response.data[0].id);setSecName(response.data[0].sectionName);setTaskInfo(\"Task No-\"+response.data[1]+\" User \"+response.data[2]);//setDakTypeData(response.data);\nif(!unmounted){setLoading(false);}}).catch(function(error){//console.log(error);\n//console.log(error.response.status);\n//console.log(error.response.headers);\nif(error.response)setServerErrors(error.response.data.error);else setServerErrors(error.Error);});case 5:case\"end\":return _context3.stop();}}},_callee3);}));return _fetchSectionData.apply(this,arguments);}fetchSectionData();return function(){fetching=true;unmounted=true;};// eslint-disable-next-line react-hooks/exhaustive-deps\n},[empId]);function fetchSection(){return _fetchSection.apply(this,arguments);}function _fetchSection(){_fetchSection=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(){return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:console.log(secId);if(!sectionGroup){_context5.next=4;break;}_context5.next=4;return axios.get(\"/sections/sectionGroup/\".concat(sectionGroup)).then(function(response){console.log(\"response>>\"+response.data);setValue('section',response.data);setSecId(response.data.id);setSecName(response.data.sectionName);}).catch(function(error){//console.log(error);\n//console.log(error.response.status);\n//console.log(error.response.headers);\nif(error.response)setServerErrors(error.response.data.error);else setServerErrors(error.Error);});case 4:case\"end\":return _context5.stop();}}},_callee5);}));return _fetchSection.apply(this,arguments);}useEffect(function(){var fetching=false;var unmounted=false;console.log(\"daktype\");function fetchDakTypeData(){return _fetchDakTypeData.apply(this,arguments);}function _fetchDakTypeData(){_fetchDakTypeData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:console.log(secId);if(!(!fetching&&sectionGroup)){_context4.next=4;break;}_context4.next=4;return axios.get(\"/dakTypes/\".concat(sectionGroup,\"/sectionGroup\")).then(function(response){console.log(\"response>>\"+response.data);setDakTypeData(response.data);if(!unmounted){setDakTypeItems(response.data.map(function(_ref){var id=_ref.id,description=_ref.description;return{id:id,label:description,value:id};}));setLoading(false);}}).catch(function(error){//console.log(error);\n//console.log(error.response.status);\n//console.log(error.response.headers);\nif(error.response)setServerErrors(error.response.data.error);else setServerErrors(error.Error);});case 4:case\"end\":return _context4.stop();}}},_callee4);}));return _fetchDakTypeData.apply(this,arguments);}fetchDakTypeData();return function(){fetching=true;unmounted=true;};// eslint-disable-next-line react-hooks/exhaustive-deps\n},[sectionGroup]);var onSubmit=function onSubmit(data,event){event.preventDefault();console.log(data);console.log(\"data id--------------\"+data.id);if(data.id){axios.put(\"/daks/\"+data.id,data).then(function(response){}).catch(function(error){//console.log(error.response.data);\nconsole.log(\"response--------\"+error.response.status);if(error.response.status===200)history.push(\"/daks\");//console.log(error.response.headers);\nsetServerErrors(error.response.data);});}else{axios.post(\"/daks\",data).then(function(response){console.log(\"reponse status--------------\"+response.status+\"--\"+response.statusText+\"----\"+\"-h--\"+response.headers+\"--\"+response.data);if(response.status===201){setDakMsg(response.data);//history.push(\"/daks/view/\"+response.data);\n//history.replace({pathname:'/daks/new/'+response.data});\nsetValue('referenceNo','');setValue('referenceDate','');setValue('section','');setSecName('');setSecId();setValue('employee','');setValue('entity.employee','');setValue('amount','');setValue('subject','');setDakTypeItem(\"\");}}).catch(function(error){//console.log(error.response.data);\nconsole.log(\"response--------\"+error.response.status);//if(error.response.status!==201)\n//history.push(\"/daks\");\n//console.log(error.response.headers);\nif(error.response)setServerErrors(error.response.data);else setServerErrors(error);});}//history.push(\"/daks\");\n};var onError=function onError(errors,e){return console.log(errors,e);};//All foreign keys. \n// XXXXXX Add search fields and adjust the values as necessary\nvar parentData={unit:{title:\"Unit\",url:\"units\",searchList:['unitCode','unitName'],//XXXXXXXXX Add search fields\nfkEntity:\"unit\",preload:false//XXXXXX Set this to true for small tables like designations\n},section:{title:\"Section\",url:\"sections\",searchList:['sectionName'],//XXXXXXXXX Add search fields\nfkEntity:\"section\",preload:false//XXXXXX Set this to true for small tables like designations\n},employee:{title:\"CDA A/c No\",url:\"employees\",searchList:['cdaoNo','officerName'],//XXXXXXXXX Add search fields\nfkEntity:\"employee\",preload:false//XXXXXX Set this to true for small tables like designations\n},vendor:{title:\"Vendor Name\",url:\"vendors\",searchList:['vendorName'],//XXXXXXXXX Add search fields\nfkEntity:\"vendor\",preload:false//XXXXXX Set this to true for small tables like designations\n},dakType:{title:\"DakType\",url:\"dakTypes\",searchList:['description'],//XXXXXXXXX Add search fields\nfkEntity:\"dakType\",preload:false//XXXXXX Set this to true for small tables like designations\n}};//Callback for child components (Foreign Keys)\nvar callback=function callback(childData){setEntity(function(prev){return _objectSpread(_objectSpread({},prev),{},_defineProperty({},childData.fk,childData.entity));});setValue(childData.fk,childData.entity);//console.log(errors);\n// console.log(childData.fk+\"--\"+childData.entity.id);\nif(childData.fk==='section')setSecId(childData.entity.id);if(childData.fk==='employee')setEmpId(childData.entity.id);clearErrors(childData.fk);};var errorCallback=function errorCallback(err){//console.log(err);\nsetServerErrors(err);};var handleButtonClick=function handleButtonClick(e){history.push(\"/daks\");};var handleGroupChange=function handleGroupChange(e){setSectionGroup(sectionGroupList[e.target.selectedIndex]);//console.log(sectionGroupList[e.target.selectedIndex]);\n};var handleInputChange=function handleInputChange(e){console.log(e.target.value);//\tconsole.log(\"handle input change\");\n};var handleDakTypeChange=function handleDakTypeChange(e){console.log(\">>>\"+e.target.value);console.log(e.target.selectedIndex-1);console.log(dakTypeData[e.target.selectedIndex-1].description);setDakTypeDesc(dakTypeData[e.target.selectedIndex-1].description);setDakTypeItem(e.target.value);setValue('dakType',dakTypeData[e.target.selectedIndex-1]);if(dakTypeData[e.target.selectedIndex-1].description==='Commission FormA'||dakTypeData[e.target.selectedIndex-1].description.includes('Goi Letter'))setEmpId(999);if(dakTypeData[e.target.selectedIndex-1].description==='Letters')setDakTypeLetters(true);if(dakTypeData[e.target.selectedIndex-1].description.includes('Konkan'))fetchSection();if(dakTypeData[e.target.selectedIndex-1].description==='Lic Mro'){setLic(true);fetchSection();}//console.log(\"entit---\" + entity.description + \"--\" + entity.dakType + \" \" + entity.description + \"--\" + entity.id);\n};return/*#__PURE__*/_jsx(\"div\",{className:\"max-w-xl mx-auto \",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-full w-3/4  mx-auto \",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(onSubmit,onError),children:[/*#__PURE__*/_jsxs(\"h1\",{children:[id==='new'?'Add':'Edit',\" Dak\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-red-500\",children:serverErrors}),/*#__PURE__*/_jsx(\"div\",{className:\"text-blue-500\",children:dakMsg}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-0 \",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Section Group\"}),/*#__PURE__*/_jsx(\"select\",{className:\"form-control py-0\",disabled:loading,value:sectionGroup,onChange:handleGroupChange,children:sectionGroupList.map(function(item,index){return/*#__PURE__*/_jsxs(\"option\",{value:item.toString(),children:[\"   \",item.toString(),\" \"]},item);})})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Dak Types\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-control py-0\",disabled:loading,value:dakTypeItem,onChange:handleDakTypeChange,children:[/*#__PURE__*/_jsx(\"option\",{value:0,children:\"---select---\"},0),dakTypeItems.map(function(item){return/*#__PURE__*/_jsxs(\"option\",{value:item.value,children:[\" \",item.label,\" \"]},item.id);})]})]}),lic===false&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(LiveSearch,{name:\"employee\",onChange:handleInputChange,parentData:parentData.employee,parentCallback:callback,fkEntity:entity.employee,errCallback:errorCallback}),/*#__PURE__*/_jsx(\"div\",{className:\"text-red-500 \",children:(_errors$employee=errors.employee)===null||_errors$employee===void 0?void 0:_errors$employee.message})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Section\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"section\",value:secName,readOnly:true}),/*#__PURE__*/_jsx(\"div\",{className:\"text-red-500\",children:(_errors$referenceNo=errors.referenceNo)===null||_errors$referenceNo===void 0?void 0:_errors$referenceNo.message})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Task No\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"taskInfo\",value:taskInfo,readOnly:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Reference No\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread({type:\"text\",name:\"referenceNo\"},register(\"referenceNo\"))),/*#__PURE__*/_jsx(\"div\",{className:\"text-red-500\",children:(_errors$referenceNo2=errors.referenceNo)===null||_errors$referenceNo2===void 0?void 0:_errors$referenceNo2.message})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Reference Date\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({type:\"date\",name:\"referenceDate\"},register(\"referenceDate\")),{},{className:\"form-control py-0\"})),/*#__PURE__*/_jsx(\"div\",{className:\"text-red-500\",children:(_errors$referenceDate=errors.referenceDate)===null||_errors$referenceDate===void 0?void 0:_errors$referenceDate.message})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Amount\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({type:\"text\",name:\"amount\"},register(\"amount\")),{},{className:\"form-control py-0\"})),/*#__PURE__*/_jsx(\"div\",{className:\"text-red-500\",children:(_errors$amount=errors.amount)===null||_errors$amount===void 0?void 0:_errors$amount.message})]}),dakTypeLetters&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Subject\"}),/*#__PURE__*/_jsx(\"textarea\",_objectSpread(_objectSpread({type:\"text\",name:\"subject\"},register(\"subject\")),{},{className:\"form-control py-0\"})),/*#__PURE__*/_jsx(\"div\",{className:\"text-red-500\",children:(_errors$subject=errors.subject)===null||_errors$subject===void 0?void 0:_errors$subject.message})]}),/*#__PURE__*/_jsx(\"div\",{className:\"px-2\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Save\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"px-2\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:handleButtonClick,children:\"Cancel\"})})]})]})})});};export default withRouter(DakEdit);","map":{"version":3,"sources":["/home/itsdcsec/falconws/falcon_face/src/components/DakEdit.js"],"names":["useState","useEffect","useRef","withRouter","useParams","useHistory","useForm","axios","yup","yupResolver","LiveSearch","DatePicker","addDays","Tabs","Tab","schema","object","dakType","required","section","referenceNo","string","test","val","length","referenceDate","DakEdit","resolver","register","handleSubmit","setValue","errors","formState","clearErrors","id","history","serverErrors","setServerErrors","entity","setEntity","state","setState","dakMsg","setDakMsg","secId","setSecId","dakTypeData","setDakTypeData","dakTypeItems","setDakTypeItems","dakTypeItem","setDakTypeItem","loading","setLoading","sectionGroup","setSectionGroup","sectionGroupList","setSectionGroupList","sectionGroupItems","setSectionGroupItems","empId","setEmpId","secName","setSecName","key","setKey","dakTypeDesc","setDakTypeDesc","taskInfo","setTaskInfo","dakTypeLetters","setDakTypeLetters","vendorId","setVendorId","lic","setLic","isCancelled","console","log","fetchData","record","get","then","response","data","catch","error","Error","fields","sectionName","forEach","field","prev","fetching","unmounted","fetchSectionGroup","fetchSectionData","fetchSection","fetchDakTypeData","map","description","label","value","onSubmit","event","preventDefault","put","status","push","post","statusText","headers","onError","e","parentData","unit","title","url","searchList","fkEntity","preload","employee","vendor","callback","childData","fk","errorCallback","err","handleButtonClick","handleGroupChange","target","selectedIndex","handleInputChange","handleDakTypeChange","includes","item","index","toString","message","amount","subject"],"mappings":"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","sourcesContent":["/**\n * Code generated using Python\n * @author Raja Reddy\n * Date : 17 Oct 2021\n *\n * Modified By : \n */\n\nimport { useState, useEffect, useRef } from \"react\";\nimport { withRouter, useParams, useHistory } from \"react-router-dom\";\nimport { useForm } from \"react-hook-form\";\nimport axios from 'axios';\nimport * as yup from \"yup\";\n\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport LiveSearch from '../utils/LiveSearch';\n\nimport DatePicker from 'react-datepicker';\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport addDays from 'date-fns/addDays'\n\nimport Tabs from 'react-bootstrap/Tabs'\nimport Tab from 'react-bootstrap/Tab'\n\n\nconst schema = yup.object({\n\t \n\tdakType: yup.object().required('Required'),\n\tsection: yup.object().required('Required'),\n\treferenceNo: yup.string().required('Required').test('Length Ok','Field length exceeding 25',val=>val.length<=30),\n \treferenceDate: yup.string().required('Required'),\n\t\n\t \n});\n\n \n\nconst DakEdit = () => {\n\tconst { register, handleSubmit, setValue, formState: { errors }, clearErrors } = useForm({\n\t\tresolver: yupResolver(schema)\n\t});\n\n\tlet { id } = useParams();\n\t//console.log(id);\n\n\tlet history = useHistory();\n \n\tconst [serverErrors, setServerErrors] = useState([]);\n\tconst [entity, setEntity] = useState({});\n\tconst [state, setState] = useState({});\n\tconst [dakMsg,setDakMsg]=useState(\"\");\n\tconst [secId,setSecId]=useState();\n\tconst [dakTypeData, setDakTypeData] = useState([]);\n\tconst [dakTypeItems, setDakTypeItems] = useState([]);\n\tconst [dakTypeItem, setDakTypeItem] = useState();\n\tconst [loading, setLoading] = useState(true);\n\tconst [sectionGroup,setSectionGroup]=useState('');\n\tconst [sectionGroupList,setSectionGroupList]=useState([]);\n\tconst [sectionGroupItems,setSectionGroupItems]=useState([]);\n\tconst [empId,setEmpId]=useState(0);\n\tconst [secName,setSecName]=useState('');\n\tconst [key, setKey] = useState('Page1');\n\tconst [dakTypeDesc,setDakTypeDesc]=useState('');\n    const [taskInfo,setTaskInfo]=useState('');\n    const [dakTypeLetters,setDakTypeLetters]=useState(false);\n    const [vendorId, setVendorId]=useState('');\n     const [lic,setLic]=useState(false);\n\t\n\n\tuseEffect(() => {\n\t\tlet isCancelled = false;\n\t\tconsole.log(id);\n\t\tif (id !== 'new') {\n\t\t\tasync function fetchData() {\n\t\t\t\tlet record = '';\n\t\t\t\tawait axios.get('/daks/' + id)\n\t\t\t\t\t.then((response) => {\n\t\t\t\t\t\trecord = response.data;\n\t\t\t\t\t})\n\t\t\t\t\t.catch((error) => {\n\t\t\t\t\t\t//console.log(error);\n\t\t\t\t\t\t//console.log(error.response.status);\n\t\t\t\t\t\t//console.log(error.response.headers);\n\t\t\t\t\t\tif (error.response)\n\t\t\t\t\t\t\tsetServerErrors(error.response.data.error);\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tsetServerErrors(error.Error);\n\t\t\t\t\t});\n\n\t\t\t\tconst fields = [\n\t\t\t\t\t'id', 'dakidNo', 'dakYear', 'dakType', 'unit', 'section', 'employee', 'cdaoNo',\n\t\t\t\t\t'checkDigit', 'amount', 'referenceNo', 'referenceDate', 'subject',\n\t\t\t\t\t'billNo', 'billDate', 'disposalDate', 'disposalDate', 'disposalSummary', 'taskUsr',\n\t\t\t\t\t'reason', 'aaoDate', 'auditorDate', 'aoDate', 'recordStatus', 'approved','vendor'\n\t\t\t\t];\n\t\t\t\tsetSectionGroup(record['section'].sectionGroup);\n\t\t\t\tsetSecName(record['section'].sectionName);\n\t\t\t\tsetSecId(record['section'].id);\n\t\t\t\tfields.forEach(field => setValue(field, record[field]));\n\t\t\t\tif (!isCancelled) {\n\t\t\t\t\tsetEntity(record);\n\t\t\t\t\tsetState(prev => ({ ...prev, state: record }));\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfetchData();\n\t\t\treturn () => {\n\t\t\t\tisCancelled = true;\n\t\t\t};\n\t\t}\n\n\t}, [id, setValue]);\n\n\n\tuseEffect(() => {\n\t\tlet fetching = false;\n\t\tlet unmounted = false;\n\t\t \n\t\tasync function fetchSectionGroup() {\n\t\t\t \n\t\t\tif (!fetching)\n\t\t\t\t//console.log(secId);\n\t\t\t\tawait axios.get(`/sections/999/sectionGroup`)\n\t\t\t\t\t.then((response) => {\n\t\t\t\t\t\tconsole.log(\"response>>\" + response.data);\n\t\t\t\t\t\tsetSectionGroupList(response.data);\n\t\t\t\t\t\tif (!unmounted) {\n\t\t\t\t\t\t\t \n\t\t\t\t\t\t\t \n\t\t\t\t\t\t\tsetLoading(false);\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.catch((error) => {\n\t\t\t\t\t\t//console.log(error);\n\t\t\t\t\t\t//console.log(error.response.status);\n\t\t\t\t\t\t//console.log(error.response.headers);\n\t\t\t\t\t\tif (error.response)\n\t\t\t\t\t\t\tsetServerErrors(error.response.data.error);\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tsetServerErrors(error.Error);\n\t\t\t\t\t})\n\t\t}\n\t\tfetchSectionGroup();\n\n\t\treturn () => { fetching = true; unmounted = true; }\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [id]);\n\nuseEffect(() => {\n\t\tlet fetching = false;\n\t\tlet unmounted = false;\n\t\tconsole.log(\"daktype\");\n\t\tasync function fetchSectionData() {\n\t\t\tconsole.log(empId);\n\t\t\tif (!fetching && empId>0 && sectionGroup.length>2){\n\t\t\t\tconsole.log(\"fetching section \"+empId+\"--\"+sectionGroup);\n\t\t\t\tawait axios.get(`/employees/${empId}/sections/${sectionGroup}`)\n\t\t\t\t\t.then((response) => {\n\t\t\t\t\t\tconsole.log(\"response>> section>>\" + response.data[0].sectionName+\"--\"+response.data[1]+\"--\"+response.data[2]);\n\t\t\t\t\t\tsetValue('section',response.data[0]);\n\t\t\t\t\t\t \n\t\t\t\t\t\tsetSecId(response.data[0].id);\n\t\t\t\t\t\tsetSecName(response.data[0].sectionName);\n\t\t\t\t\t\tsetTaskInfo(\"Task No-\"+response.data[1]+\" User \"+response.data[2]);\n\t\t\t\t\t\t//setDakTypeData(response.data);\n\t\t\t\t\t\tif (!unmounted) {\n\t\t\t\t\t\t\t \n\t\t\t\t\t\t\tsetLoading(false);\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.catch((error) => {\n\t\t\t\t\t\t//console.log(error);\n\t\t\t\t\t\t//console.log(error.response.status);\n\t\t\t\t\t\t//console.log(error.response.headers);\n\t\t\t\t\t\tif (error.response)\n\t\t\t\t\t\t\tsetServerErrors(error.response.data.error);\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tsetServerErrors(error.Error);\n\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t}\n\t\tfetchSectionData();\n\n\t\treturn () => { fetching = true; unmounted = true; }\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [empId]);\n\t\n  \n\t\tasync function fetchSection() {\n\t\t\tconsole.log(secId);\n\t\t\tif (sectionGroup)\n\t\t\t\t//console.log(secId);\n\t\t\t\tawait axios.get(`/sections/sectionGroup/${sectionGroup}`)\n\t\t\t\t\t.then((response) => {\n\t\t\t\t\t\tconsole.log(\"response>>\" + response.data);\n\t\t\t\t\t\t setValue('section',response.data);\n\t\t\t\t\t\t \n\t\t\t\t\t\tsetSecId(response.data.id);\n\t\t\t\t\t\tsetSecName(response.data.sectionName);\n\t\t\t\t\t\t \n\t\t\t\t\t})\n\t\t\t\t\t.catch((error) => {\n\t\t\t\t\t\t//console.log(error);\n\t\t\t\t\t\t//console.log(error.response.status);\n\t\t\t\t\t\t//console.log(error.response.headers);\n\t\t\t\t\t\tif (error.response)\n\t\t\t\t\t\t\tsetServerErrors(error.response.data.error);\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tsetServerErrors(error.Error);\n\t\t\t\t\t})\n\t\t}\n\t\t \n\n\tuseEffect(() => {\n\t\tlet fetching = false;\n\t\tlet unmounted = false;\n\t\tconsole.log(\"daktype\");\n\t\tasync function fetchDakTypeData() {\n\t\t\tconsole.log(secId);\n\t\t\tif (!fetching && sectionGroup)\n\t\t\t\t//console.log(secId);\n\t\t\t\tawait axios.get(`/dakTypes/${sectionGroup}/sectionGroup`)\n\t\t\t\t\t.then((response) => {\n\t\t\t\t\t\tconsole.log(\"response>>\" + response.data);\n\t\t\t\t\t\tsetDakTypeData(response.data);\n\t\t\t\t\t\tif (!unmounted) {\n\t\t\t\t\t\t\tsetDakTypeItems(\n\t\t\t\t\t\t\t\tresponse.data.map(({ id, description }) => ({ id: id, label: description, value: id }))\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tsetLoading(false);\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.catch((error) => {\n\t\t\t\t\t\t//console.log(error);\n\t\t\t\t\t\t//console.log(error.response.status);\n\t\t\t\t\t\t//console.log(error.response.headers);\n\t\t\t\t\t\tif (error.response)\n\t\t\t\t\t\t\tsetServerErrors(error.response.data.error);\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tsetServerErrors(error.Error);\n\t\t\t\t\t})\n\t\t}\n\t\tfetchDakTypeData();\n\n\t\treturn () => { fetching = true; unmounted = true; }\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [sectionGroup]);\n\n\n\n\tconst onSubmit = (data, event) => {\n\t\tevent.preventDefault();\n\t\tconsole.log(data);\n\t\tconsole.log(\"data id--------------\"+data.id);\n\t\tif (data.id) {\n\t\t\taxios.put(\"/daks/\" + data.id, data)\n\t\t\t\t.then((response) => { })\n\t\t\t\t.catch((error) => {\n\t\t\t\t\t//console.log(error.response.data);\n\t\t\t\t\tconsole.log(\"response--------\"+error.response.status);\n\t\t\t\t\tif(error.response.status===200)\n\t\t\t\t\t\thistory.push(\"/daks\");\n\t\t\t\t\t//console.log(error.response.headers);\n\t\t\t\t\tsetServerErrors(error.response.data)\n\t\t\t\t});\n\t\t} else {\n\t\t\taxios.post(\"/daks\", data)\n\t\t\t\t.then((response) => { \n\t\t\t\t\tconsole.log(\"reponse status--------------\"+response.status+\"--\"+response.statusText+\"----\"+\"-h--\"+response.headers+\"--\"+response.data);\n\t\t\t\t\tif(response.status===201){\n\t\t\t\t\t\tsetDakMsg(response.data);\n\t\t\t\t\t\t//history.push(\"/daks/view/\"+response.data);\n\t\t\t\t\t\t//history.replace({pathname:'/daks/new/'+response.data});\n\t\t\t\t\t\tsetValue('referenceNo','');\n\t\t\t\t\t\tsetValue('referenceDate','');\n\t\t\t\t\t\tsetValue('section','');\n\t\t\t\t\t\tsetSecName('');\n\t\t\t\t\t\tsetSecId();\n\t\t\t\t\t\tsetValue('employee','');\n\t\t\t\t\t\tsetValue('entity.employee','');\n\t\t\t\t\t\tsetValue('amount','');\n\t\t\t\t\t\tsetValue('subject','');\n\t\t\t\t\t\tsetDakTypeItem(\"\");\n\t\t\t\t\t\t\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\t//console.log(error.response.data);\n\t\t\t\t\tconsole.log(\"response--------\"+error.response.status);\n\t\t\t\t\t//if(error.response.status!==201)\n\t\t\t\t\t\t//history.push(\"/daks\");\n\t\t\t\t\t//console.log(error.response.headers);\n\t\t\t\t\tif (error.response)\n\t\t\t\t\t\tsetServerErrors(error.response.data);\n\t\t\t\t\telse\n\t\t\t\t\t\tsetServerErrors(error);\n\t\t\t\t});\n\t\t}\n\n\t\t//history.push(\"/daks\");\n\t}\n\n\t \n\n\tconst onError = (errors, e) => console.log(errors, e);\n\n\t//All foreign keys. \n\t// XXXXXX Add search fields and adjust the values as necessary\n\tconst parentData = {\n\n\t\t \n\t\tunit: {\n\t\t\ttitle: \"Unit\",\n\t\t\turl: \"units\",\n\t\t\tsearchList: ['unitCode', 'unitName'], //XXXXXXXXX Add search fields\n\t\t\tfkEntity: \"unit\",\n\t\t\tpreload: false, //XXXXXX Set this to true for small tables like designations\n\t\t},\n\t\tsection: {\n\t\t\ttitle: \"Section\",\n\t\t\turl: \"sections\",\n\t\t\tsearchList: ['sectionName'], //XXXXXXXXX Add search fields\n\t\t\tfkEntity: \"section\",\n\t\t\tpreload: false, //XXXXXX Set this to true for small tables like designations\n\t\t},\n\t\temployee: {\n\t\t\ttitle: \"CDA A/c No\",\n\t\t\turl: \"employees\",\n\t\t\tsearchList: ['cdaoNo', 'officerName'], //XXXXXXXXX Add search fields\n\t\t\tfkEntity: \"employee\",\n\t\t\tpreload: false, //XXXXXX Set this to true for small tables like designations\n\t\t},\n\t\t\n\t\tvendor: {\n\t\t\ttitle: \"Vendor Name\",\n\t\t\turl: \"vendors\",\n\t\t\tsearchList: ['vendorName'], //XXXXXXXXX Add search fields\n\t\t\tfkEntity: \"vendor\",\n\t\t\tpreload: false, //XXXXXX Set this to true for small tables like designations\n\t\t},\n\t\t\n\t\tdakType: {\n\t\t\ttitle: \"DakType\",\n\t\t\turl: \"dakTypes\",\n\t\t\tsearchList: ['description'], //XXXXXXXXX Add search fields\n\t\t\tfkEntity: \"dakType\",\n\t\t\tpreload: false, //XXXXXX Set this to true for small tables like designations\n\t\t},\n\t}\n \n\t//Callback for child components (Foreign Keys)\n\t \n\tconst callback = (childData) => {\n\t\t\n\t\tsetEntity(prev => ({ ...prev, [childData.fk]: childData.entity }));\n\t\tsetValue(childData.fk, childData.entity);\n\t\t//console.log(errors);\n\t\t// console.log(childData.fk+\"--\"+childData.entity.id);\n\t\tif(childData.fk==='section')\n\t\t\tsetSecId(childData.entity.id);\n\t\tif(childData.fk==='employee')\n\t\t\tsetEmpId(childData.entity.id)\n\t\t\t\n\t\tclearErrors(childData.fk);\n\t\t \n\t};\n\n\tconst errorCallback = (err) => {\n\t\t//console.log(err);\n\t\tsetServerErrors(err);\n\t}\n\t\n\tconst handleButtonClick = (e) =>{\n\t\thistory.push(\"/daks\");\n\t}\n\t\n\tconst handleGroupChange = (e) =>{\n\t\tsetSectionGroup(sectionGroupList[e.target.selectedIndex]);\n\t\t//console.log(sectionGroupList[e.target.selectedIndex]);\n\t}\n\n\tconst handleInputChange = (e) => {\n\t\tconsole.log(e.target.value);\n\t//\tconsole.log(\"handle input change\");\n\t\t \n\t\t\n\t};\n\t\tconst handleDakTypeChange = (e) => {\n\t\tconsole.log(\">>>\" + e.target.value);\n\t\tconsole.log(e.target.selectedIndex-1);\n\t\tconsole.log(dakTypeData[e.target.selectedIndex-1].description);\n\t\tsetDakTypeDesc(dakTypeData[e.target.selectedIndex-1].description)\t;\n\t\tsetDakTypeItem(e.target.value);\n\t\tsetValue('dakType', dakTypeData[e.target.selectedIndex-1])\n\t\tif(dakTypeData[e.target.selectedIndex-1].description===('Commission FormA') || dakTypeData[e.target.selectedIndex-1].description.includes('Goi Letter'))\n\t\t\tsetEmpId(999);\n\t\t\tif(dakTypeData[e.target.selectedIndex-1].description===('Letters'))\n\t\t\tsetDakTypeLetters(true);\n\t\t\tif(dakTypeData[e.target.selectedIndex-1].description.includes('Konkan'))\n\t\t\t fetchSection();\n\t\t\t if(dakTypeData[e.target.selectedIndex-1].description===('Lic Mro')){\n\t\t\tsetLic(true);\t \n\t\t\tfetchSection();\n\t\t\t}\n\n\n\t\t \n\t\t//console.log(\"entit---\" + entity.description + \"--\" + entity.dakType + \" \" + entity.description + \"--\" + entity.id);\n\t};\n\n\t\n\t \n\t \n\t \n\t   \n\treturn (\n\t\t<div className=\"max-w-xl mx-auto \">\n\t\t\t<div className=\"w-full w-3/4  mx-auto \" >\n\n\t\t\t\t<form onSubmit={handleSubmit(onSubmit, onError)}>\n\t\t\t\t\t<h1 >{id === 'new' ? 'Add' : 'Edit'} Dak</h1>\n\t\t\t\t\t<div className=\"text-red-500\">{serverErrors}</div>\n\t\t\t\t\t<div className=\"text-blue-500\">{dakMsg}</div>\n\n\t\t\t\t\t \n\t\t\t\t\t\t\t<div className=\"grid grid-cols-2 gap-0 \">\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t<div >\n\t\t\t\t\t\t\t<b>Section Group</b>\n\t\t\t\t\t\t\t<select className=\"form-control py-0\"\n\t\t\t\t\t\t\t\tdisabled={loading}\n\t\t\t\t\t\t\t\tvalue={sectionGroup}\n\t\t\t\t\t\t\t\tonChange={handleGroupChange}>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t{sectionGroupList.map((item,index) => (\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t<option key={item} value={item.toString()}>   {item.toString()} </option>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\n\t\t\t\t\t\t\n\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t<div >\n\t\t\t\t\t\t\t<b>Dak Types</b>\n\t\t\t\t\t\t\t<select className=\"form-control py-0\"\n\t\t\t\t\t\t\t\tdisabled={loading}\n\t\t\t\t\t\t\t\tvalue={dakTypeItem}\n\t\t\t\t\t\t\t\tonChange={handleDakTypeChange}>\n\t\t\t\t\t\t\t\t<option key={0} value={0}>---select---</option>\n\t\t\t\t\t\t\t\t{dakTypeItems.map((item) => (\n\t\t\t\t\t\t\t\t\t<option key={item.id} value={item.value}> {item.label} </option>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t \n\t\t\t\t\t\t\t\t{lic===false && \n\t\t\t\t\t\t\t\t \n\t\t\t\t\t\t\t\t<div >\n\t\t\t\t\t\t\t\t\t<LiveSearch name=\"employee\" onChange={handleInputChange}\n\t\t\t\t\t\t\t\t\t\tparentData={parentData.employee} parentCallback={callback}\n\t\t\t\t\t\t\t\t\t\tfkEntity={entity.employee} errCallback={errorCallback} />\n\t\t\t\t\t\t\t\t\t<div className=\"text-red-500 \">{errors.employee?.message}</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t \n\t\t\t\t\t\t\t\t \n\n\t\t\t\t\t\t\t\t \n\t\t\t\t\t\t\t\t \n\t\t\t\t\t\t\t\t <div>\n\t\t\t\t\t\t\t\t\t<label>Section</label>\n\t\t\t\t\t\t\t\t\t<input type=\"text\"    name=\"section\" value={secName}  readOnly\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<div className=\"text-red-500\">{errors.referenceNo?.message}</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<label>Task No</label>\n\t\t\t\t\t\t\t\t\t<input type=\"text\"    name=\"taskInfo\" value={taskInfo}  readOnly\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t \n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t \n\n\t\t\t\t\t\t\t\t \n\t\t\t\t\t\t\t\t \n\t\t\t\t\t\t \t \n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<label>Reference No</label>\n\t\t\t\t\t\t\t\t\t<input type=\"text\"    name=\"referenceNo\" {...register(\"referenceNo\")}  \n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<div className=\"text-red-500\">{errors.referenceNo?.message}</div>\n\t\t\t\t\t\t\t\t</div>\n\n \n\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<label>Reference Date</label>\n\t\t\t\t\t\t\t\t\t<input type=\"date\" name=\"referenceDate\" {...register(\"referenceDate\")} \n\t\t\t\t\t\t\t\t\t\tclassName=\"form-control py-0\"/>\n\t\t\t\t\t\t\t\t\t<div className=\"text-red-500\">{errors.referenceDate?.message}</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t \n\n\t\t\t\t\t\t\t\t <div>\n\t\t\t\t\t\t\t\t\t<label>Amount</label>\n\t\t\t\t\t\t\t\t\t<input type=\"text\" name=\"amount\" {...register(\"amount\")}\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-control py-0\"/>\n\t\t\t\t\t\t\t\t\t<div className=\"text-red-500\">{errors.amount?.message}</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t {dakTypeLetters && \n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t<label>Subject</label>\n\t\t\t\t\t\t\t\t\t<textarea type=\"text\" name=\"subject\" {...register(\"subject\")}\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-control py-0\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<div className=\"text-red-500\">{errors.subject?.message}</div>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t  \n \n\t\t\t\t\t\t\t \n</div>\n\t\t\t\t\t\t \n}\n\t\t\t\t\t\t\t\t<div className=\"px-2\">\n\t\t\t\t\t\t<button type=\"submit\" >Save</button>   \n\t\t\t\t\t</div>\n\t\t\t\t\t\t \n\t\t\t\t<div className=\"px-2\">\n\t\t\t\t<button type=\"button\" onClick={handleButtonClick} >Cancel</button>\n\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n \n\nexport default withRouter(DakEdit);"]},"metadata":{},"sourceType":"module"}