{"ast":null,"code":"import _toConsumableArray from\"/home/itsdcsec/falconws/falcon_face/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _defineProperty from\"/home/itsdcsec/falconws/falcon_face/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _regeneratorRuntime from\"/home/itsdcsec/falconws/falcon_face/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _objectSpread from\"/home/itsdcsec/falconws/falcon_face/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _asyncToGenerator from\"/home/itsdcsec/falconws/falcon_face/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/itsdcsec/falconws/falcon_face/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";/**\n * Code generated using Python\n * @author Raja Reddy\n * Date : 17 Oct 2021\n *\n * Modified By : \n */import{useState,useEffect}from\"react\";import{withRouter,useParams,useHistory}from\"react-router-dom\";import{useForm}from\"react-hook-form\";import axios from'axios';import*as yup from\"yup\";import{yupResolver}from'@hookform/resolvers/yup';import LiveSearch from'../utils/LiveSearch';//import DatePicker  from 'react-datepicker';\n//import \"react-datepicker/dist/react-datepicker.css\";\n//import addDays from 'date-fns/addDays'\nimport Tabs from'react-bootstrap/Tabs';import Tab from'react-bootstrap/Tab';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var schema=yup.object({// fromDate: yup.string().required('Required'),\n//  employee: yup.object().required('Required'),      \n// do2Date: yup.string().required('Required'),     \n});var Do2Edit=function Do2Edit(){var _errors$do2No,_errors$do2No2,_errors$fromDate,_errors$lastDo2No,_errors$lastDo2Date,_errors$servingIn;var _useForm=useForm({resolver:yupResolver(schema)}),register=_useForm.register,handleSubmit=_useForm.handleSubmit,setValue=_useForm.setValue,errors=_useForm.formState.errors,clearErrors=_useForm.clearErrors;var _useParams=useParams(),id=_useParams.id;var history=useHistory();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),serverErrors=_useState2[0],setServerErrors=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),entity=_useState4[0],setEntity=_useState4[1];var _useState5=useState({}),_useState6=_slicedToArray(_useState5,2),state=_useState6[0],setState=_useState6[1];var _useState7=useState('page1'),_useState8=_slicedToArray(_useState7,2),key=_useState8[0],setKey=_useState8[1];var _useState9=useState(true),_useState10=_slicedToArray(_useState9,2),loading=_useState10[0],setLoading=_useState10[1];var _useState11=useState([]),_useState12=_slicedToArray(_useState11,2),casualtyCodeList=_useState12[0],setCasualtyCodeList=_useState12[1];var _useState13=useState(''),_useState14=_slicedToArray(_useState13,2),unitCode=_useState14[0],setUnitCode=_useState14[1];var _useState15=useState(''),_useState16=_slicedToArray(_useState15,2),unitName=_useState16[0],setUnitName=_useState16[1];var _useState17=useState(''),_useState18=_slicedToArray(_useState17,2),susNo=_useState18[0],setSusNo=_useState18[1];var _useState19=useState(''),_useState20=_slicedToArray(_useState19,2),cdano=_useState20[0],setCdano=_useState20[1];var _useState21=useState(''),_useState22=_slicedToArray(_useState21,2),officerName=_useState22[0],setOfficerName=_useState22[1];var _useState23=useState(''),_useState24=_slicedToArray(_useState23,2),rank=_useState24[0],setRank=_useState24[1];var _useState25=useState(''),_useState26=_slicedToArray(_useState25,2),servingIn=_useState26[0],setServingIn=_useState26[1];var _useState27=useState(''),_useState28=_slicedToArray(_useState27,2),do2No=_useState28[0],setDo2No=_useState28[1];var _useState29=useState(''),_useState30=_slicedToArray(_useState29,2),lastDo2No=_useState30[0],setLastDo2No=_useState30[1];var _useState31=useState(''),_useState32=_slicedToArray(_useState31,2),do2Date=_useState32[0],setDo2Date=_useState32[1];var _useState33=useState(''),_useState34=_slicedToArray(_useState33,2),lastDo2Date=_useState34[0],setLastDo2Date=_useState34[1];var _useState35=useState([{slNo:\"\",casualtyCode:\"\",nature:\"\",fromDate:\"\",toDate:\"\",data1:\"\",data2:\"\",data3:\"\",data4:\"\"}]),_useState36=_slicedToArray(_useState35,2),casultyList=_useState36[0],setCasultyList=_useState36[1];useEffect(function(){var isCancelled=false;console.log(id);if(id!=='new'){function fetchData(){return _fetchData.apply(this,arguments);}function _fetchData(){_fetchData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var record;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:record='';_context.next=3;return axios.get(\"/do2s/rsec/do2edit/\".concat(id)).then(function(response){record=response.data;console.log(record);if(record['cdaoNo'])setCdano(record['cdaoNo']);var fields=['cdaoNo','unitCode','servingIn','do2No','lastDo2No','do2Date','lastDo2Date','officerName','rank','susNo','dakId','do2Id'];fields.forEach(function(field){return setValue(field,record[field]);});}).catch(function(error){//console.log(error);\n//console.log(error.response.status);\n//console.log(error.response.headers);\nif(error.response)setServerErrors(error.response.data.error);else setServerErrors(error.Error);});case 3:if(!isCancelled){setEntity(record);setState(function(prev){return _objectSpread(_objectSpread({},prev),{},{state:record});});}case 4:case\"end\":return _context.stop();}}},_callee);}));return _fetchData.apply(this,arguments);}fetchData();return function(){isCancelled=true;};}},[id,setValue]);useEffect(function(){var fetching=false;var unmounted=false;function fetchCasultyList(){return _fetchCasultyList.apply(this,arguments);}function _fetchCasultyList(){_fetchCasultyList=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(fetching){_context2.next=3;break;}_context2.next=3;return axios.get(\"/docFormats/all/occurrenceCode\").then(function(response){console.log(\"response>>\"+response.data);setCasualtyCodeList(response.data);if(!unmounted){setLoading(false);}}).catch(function(error){//console.log(error);\n//console.log(error.response.status);\n//console.log(error.response.headers);\nif(error.response)setServerErrors(error.response.data.error);else setServerErrors(error.Error);});case 3:case\"end\":return _context2.stop();}}},_callee2);}));return _fetchCasultyList.apply(this,arguments);}fetchCasultyList();return function(){fetching=true;unmounted=true;};// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);useEffect(function(){var fetching=false;var unmounted=false;function fetchEmp(){return _fetchEmp.apply(this,arguments);}function _fetchEmp(){_fetchEmp=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:console.log(cdano);if(!fetching&&cdano&&cdano.trim.length===6)console.log(cdano);_context3.next=4;return axios.get(\"/employees/empNames/\".concat(cdano)).then(function(response){console.log(\"response>>\"+response.data);setOfficerName(response.data);if(!unmounted){setLoading(false);}}).catch(function(error){//console.log(error);\n//console.log(error.response.status);\n//console.log(error.response.headers);\nif(error.response)setServerErrors(error.response.data.error);else setServerErrors(error.Error);});case 4:case\"end\":return _context3.stop();}}},_callee3);}));return _fetchEmp.apply(this,arguments);}fetchEmp();return function(){fetching=true;unmounted=true;};// eslint-disable-next-line react-hooks/exhaustive-deps\n},[cdano]);useEffect(function(){var fetching=false;var unmounted=false;function fetchUnit(){return _fetchUnit.apply(this,arguments);}function _fetchUnit(){_fetchUnit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:if(!fetching&&unitCode&&unitCode.length===6)console.log(unitCode);_context4.next=3;return axios.get(\"/units/fetchUnit/\".concat(unitCode)).then(function(response){console.log(\"response>>\"+response.data);setUnitName(response.data);if(!unmounted){setLoading(false);}}).catch(function(error){//console.log(error);\n//console.log(error.response.status);\n//console.log(error.response.headers);\nif(error.response)setServerErrors(error.response.data.error);else setServerErrors(error.Error);});case 3:case\"end\":return _context4.stop();}}},_callee4);}));return _fetchUnit.apply(this,arguments);}fetchUnit();return function(){fetching=true;unmounted=true;};// eslint-disable-next-line react-hooks/exhaustive-deps\n},[unitCode]);var onSubmit=function onSubmit(data,event){event.preventDefault();console.log(casultyList);console.log(data);if(data){axios.put(\"/do2s/rsec/saveDo2\",data).then(function(response){setServerErrors(response.data);}).catch(function(error){//console.log(error.response.data);\n//console.log(error.response.status);\n//console.log(error.response.headers);\nsetServerErrors(error.response.data);});}//history.push(\"/do2s\");\n};var returnToList=function returnToList(){history.push(\"/do2s\");};var onError=function onError(errors,e){return console.log(errors,e);};//All foreign keys. \n// XXXXXX Add search fields and adjust the values as necessary\nvar parentData={employee:{title:\"Employee\",url:\"employees\",searchList:['cdaoNo','checkDigit','officerName'],//XXXXXXXXX Add search fields here and also in the corresponding repository\nfkEntity:\"employee\"},unit:{title:\"Unit\",url:\"units\",searchList:['unitCode','unitName'],//XXXXXXXXX Add search fields here and also in the corresponding repository\nfkEntity:\"unit\"},docFormat:{title:\"Occurrence Code\",url:\"docFormats\",searchList:['occurrenceCode','occurrenceNature'],//XXXXXXXXX Add search fields here and also in the corresponding repository\nfkEntity:\"docFormat\"}};//Callback for child components (Foreign Keys)\nvar callback=function callback(childData){//console.log(\"Parent Callback\");\nsetEntity(function(prev){return _objectSpread(_objectSpread({},prev),{},_defineProperty({},childData.fk,childData.entity));});setValue(childData.fk,childData.entity);if(childData.fk==='docFormat'){setValue('occurrenceCode',childData.entity.occurrenceCode);console.log(childData.entity.occurrenceCode);}//console.log(childData.fk+\"--\"+childData.entity);\n//console.log(errors);\nclearErrors(childData.fk);};var errorCallback=function errorCallback(err){//console.log(err);\nsetServerErrors(err);};var handleInputChange=function handleInputChange(e){//console.log(e.target.value);\n};var handleCdaNoChange=function handleCdaNoChange(e){console.log(e.target.value);setCdano(e.target.value);setValue(\"cdaoNo\",e.target.value);};var handleUnitChange=function handleUnitChange(e){//console.log(e.target.value);\nsetUnitCode(e.target.value);setValue(\"unitCode\",e.target.value);};var handleServingIn=function handleServingIn(e){//console.log(e.target.value);\nsetServingIn(e.target.value);setValue(\"servingIn\",e.target.value);};var handleLastDo2DateChange=function handleLastDo2DateChange(e){//console.log(e.target.value);\nsetLastDo2Date(e.target.value);setValue(\"lastDo2Date\",e.target.value);};var handleLastDo2Change=function handleLastDo2Change(e){//console.log(e.target.value);\nsetLastDo2No(e.target.value);setValue(\"lastDo2No\",e.target.value);};var handleDo2NoChange=function handleDo2NoChange(e){//console.log(e.target.value);\nsetDo2No(e.target.value);setValue(\"do2No\",e.target.value);};var handleDo2DateChange=function handleDo2DateChange(e){//console.log(e.target.value);\nsetDo2Date(e.target.value);setValue(\"do2Date\",e.target.value);};var handleNature=function handleNature(index){return function(e){console.log(index+\"--\"+e.target.value);var item=casultyList[index];item['nature']=e.target.value;var newData=_toConsumableArray(casultyList);newData[index]=item;setCasultyList(newData);setValue(\"casualtyList\",casultyList);};};var handleSlNo=function handleSlNo(index){return function(e){console.log(index+\"--\"+e.target.value);var item=casultyList[index];item['slNo']=e.target.value;var newData=_toConsumableArray(casultyList);newData[index]=item;setCasultyList(newData);setValue(\"casualtyList\",casultyList);};};var handleFromDate=function handleFromDate(index){return function(e){console.log(index+\"--\"+e.target.value);var item=casultyList[index];item['fromDate']=e.target.value;var newData=_toConsumableArray(casultyList);newData[index]=item;setCasultyList(newData);setValue(\"casualtyList\",casultyList);};};var handleToDate=function handleToDate(index){return function(e){console.log(index+\"--\"+e.target.value);var item=casultyList[index];item['toDate']=e.target.value;var newData=_toConsumableArray(casultyList);newData[index]=item;setCasultyList(newData);setValue(\"casualtyList\",casultyList);};};var handleData1=function handleData1(index){return function(e){console.log(index+\"--\"+e.target.value);var item=casultyList[index];item['data1']=e.target.value;var newData=_toConsumableArray(casultyList);newData[index]=item;setCasultyList(newData);setValue(\"casualtyList\",casultyList);};};var handleData2=function handleData2(index){return function(e){console.log(index+\"--\"+e.target.value);var item=casultyList[index];item['data2']=e.target.value;var newData=_toConsumableArray(casultyList);newData[index]=item;setCasultyList(newData);setValue(\"casualtyList\",casultyList);};};var handleData3=function handleData3(index){return function(e){console.log(index+\"--\"+e.target.value);var item=casultyList[index];item['data3']=e.target.value;var newData=_toConsumableArray(casultyList);newData[index]=item;setCasultyList(newData);setValue(\"casualtyList\",casultyList);};};var handleData4=function handleData4(index){return function(e){console.log(index+\"--\"+e.target.value);var item=casultyList[index];item['data4']=e.target.value;var newData=_toConsumableArray(casultyList);newData[index]=item;setCasultyList(newData);setValue(\"casualtyList\",casultyList);};};var handleCasualtyCode=function handleCasualtyCode(index){return function(e){console.log(index+\"--\"+e.selectedIndex);var item=casultyList[index];item['casualtyCode']=e.target.value;var newData=_toConsumableArray(casultyList);newData[index]=item;setCasultyList(newData);setValue(\"casualtyList\",casultyList);};};var addRow=function addRow(e){console.log(casultyList);setCasultyList([].concat(_toConsumableArray(casultyList),[{slNo:\"\",casualtyCode:\"\",nature:\"\",fromDate:\"\",toDate:\"\",data1:\"\",data2:\"\",data3:\"\",data4:\"\"}]));};return/*#__PURE__*/_jsx(\"div\",{className:\"max-w-8xl mx-auto \",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-full w-3/4  mx-auto \",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(onSubmit,onError),children:[/*#__PURE__*/_jsxs(\"h1\",{children:[id==='new'?'Add':'Edit',\" Do2 \"]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-red-500\",children:serverErrors}),/*#__PURE__*/_jsxs(Tabs,{id:\"Do2Edit\",activeKey:key,onSelect:function onSelect(k){return setKey(k);},className:\"mb-3\",children:[/*#__PURE__*/_jsxs(Tab,{eventKey:\"page1\",title:\"Page 1\",className:\"h-120\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-0\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Cdao No\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"cdano\",value:cdano,onChange:handleCdaNoChange})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Officer Name\"}),officerName]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Unit Code\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"unitCode\",onChange:handleUnitChange,placeholder:\"unit code or susno\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-red-500\",children:(_errors$do2No=errors.do2No)===null||_errors$do2No===void 0?void 0:_errors$do2No.message})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Unit Name\"}),unitName]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Do2 No\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"do2No\",value:do2No,onChange:handleDo2NoChange}),/*#__PURE__*/_jsx(\"div\",{className:\"text-red-500\",children:(_errors$do2No2=errors.do2No)===null||_errors$do2No2===void 0?void 0:_errors$do2No2.message})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Do2 Date\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"fromDate\",value:do2Date,onChange:handleDo2DateChange}),/*#__PURE__*/_jsx(\"div\",{className:\"text-red-500\",children:(_errors$fromDate=errors.fromDate)===null||_errors$fromDate===void 0?void 0:_errors$fromDate.message})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Last Do2 No\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"lastDo2No\",value:lastDo2No,onChange:handleLastDo2Change}),/*#__PURE__*/_jsx(\"div\",{className:\"text-red-500\",children:(_errors$lastDo2No=errors.lastDo2No)===null||_errors$lastDo2No===void 0?void 0:_errors$lastDo2No.message})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Last Do2 Date\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"lastDo2Date\",value:lastDo2Date,onChange:handleLastDo2DateChange}),/*#__PURE__*/_jsx(\"div\",{className:\"text-red-500\",children:(_errors$lastDo2Date=errors.lastDo2Date)===null||_errors$lastDo2Date===void 0?void 0:_errors$lastDo2Date.message})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Serving In\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"servingIn\",value:servingIn,onChange:handleServingIn,children:[/*#__PURE__*/_jsx(\"option\",{value:\"0\",children:\"--select---\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Peace\",children:\"Peace\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Field\",children:\"Field\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Hard\",children:\"Hard\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-red-500\",children:(_errors$servingIn=errors.servingIn)===null||_errors$servingIn===void 0?void 0:_errors$servingIn.message})]})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"table\",{className:\"table table-striped table-bordered table-auto\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"SlNo\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Code\"}),/*#__PURE__*/_jsx(\"th\",{children:\"From Date\"}),/*#__PURE__*/_jsx(\"th\",{children:\"To Date\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Data1\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Data2\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Data3\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Data4\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:casultyList.map(function(item,i){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"slNo\",value:item.slNo,onChange:handleSlNo(i)})}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsxs(\"select\",{disabled:loading,value:item.casualtyCode,onChange:handleCasualtyCode(i),children:[/*#__PURE__*/_jsx(\"option\",{value:\"0\",label:\"--select--\"},\"0\"),casualtyCodeList.map(function(item,index){return/*#__PURE__*/_jsxs(\"option\",{value:item.toString(),children:[\"   \",item.toString(),\" \"]},\"cs\"+index);})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"textarea\",{type:\"text\",rows:\"4\",name:\"nature\",value:item.nature,onChange:handleNature(i),placeholder:\"nature of occurrence\"})]}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"fDate\",value:item.fromDate,onChange:handleFromDate(i),className:\"form-control py-0\"})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"tDate\",value:item.toDate,onChange:handleToDate(i),className:\"form-control py-0\"})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"data1\",value:item.data1,onChange:handleData1(i),className:\"form-control py-0\"})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"data2\",value:item.data2,onChange:handleData2(i),className:\"form-control py-0\"})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"data3\",value:item.data3,onChange:handleData3(i),className:\"form-control py-0\"})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"data4\",value:item.data4,onChange:handleData4(i),className:\"form-control py-0\"})})]},\"do2\"+i);})})]}),/*#__PURE__*/_jsx(\"div\",{class:\"w-32 ...\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:addRow,children:\"Add Record\"})})]})]}),/*#__PURE__*/_jsxs(Tab,{eventKey:\"help\",title:\"Help\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Help\"}),/*#__PURE__*/_jsxs(\"ul\",{className:\"list-disc\",children:[/*#__PURE__*/_jsx(\"li\",{children:\"Point 1\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Point 2\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-0\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"px-4\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Save\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"px-4\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:returnToList,children:\"Done\"})})]})]})})});};export default withRouter(Do2Edit);","map":{"version":3,"sources":["/home/itsdcsec/falconws/falcon_face/src/components/Do2RsecEdit.js"],"names":["useState","useEffect","withRouter","useParams","useHistory","useForm","axios","yup","yupResolver","LiveSearch","Tabs","Tab","schema","object","Do2Edit","resolver","register","handleSubmit","setValue","errors","formState","clearErrors","id","history","serverErrors","setServerErrors","entity","setEntity","state","setState","key","setKey","loading","setLoading","casualtyCodeList","setCasualtyCodeList","unitCode","setUnitCode","unitName","setUnitName","susNo","setSusNo","cdano","setCdano","officerName","setOfficerName","rank","setRank","servingIn","setServingIn","do2No","setDo2No","lastDo2No","setLastDo2No","do2Date","setDo2Date","lastDo2Date","setLastDo2Date","slNo","casualtyCode","nature","fromDate","toDate","data1","data2","data3","data4","casultyList","setCasultyList","isCancelled","console","log","fetchData","record","get","then","response","data","fields","forEach","field","catch","error","Error","prev","fetching","unmounted","fetchCasultyList","fetchEmp","trim","length","fetchUnit","onSubmit","event","preventDefault","put","returnToList","push","onError","e","parentData","employee","title","url","searchList","fkEntity","unit","docFormat","callback","childData","fk","occurrenceCode","errorCallback","err","handleInputChange","handleCdaNoChange","target","value","handleUnitChange","handleServingIn","handleLastDo2DateChange","handleLastDo2Change","handleDo2NoChange","handleDo2DateChange","handleNature","index","item","newData","handleSlNo","handleFromDate","handleToDate","handleData1","handleData2","handleData3","handleData4","handleCasualtyCode","selectedIndex","addRow","k","message","map","i","toString"],"mappings":"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","sourcesContent":["/**\n * Code generated using Python\n * @author Raja Reddy\n * Date : 17 Oct 2021\n *\n * Modified By : \n */\n\nimport { useState, useEffect } from \"react\";\nimport { withRouter, useParams, useHistory } from \"react-router-dom\";\nimport { useForm } from \"react-hook-form\";\nimport axios from 'axios';\nimport * as yup from \"yup\";\n\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport LiveSearch from '../utils/LiveSearch';\n\n//import DatePicker  from 'react-datepicker';\n//import \"react-datepicker/dist/react-datepicker.css\";\n//import addDays from 'date-fns/addDays'\n\nimport Tabs from 'react-bootstrap/Tabs'\nimport Tab from 'react-bootstrap/Tab'\n\nconst schema = yup.object({\n     // fromDate: yup.string().required('Required'),\n     //  employee: yup.object().required('Required'),      \n     // do2Date: yup.string().required('Required'),     \n     \n       \n      \n});\n\n\nconst Do2Edit = () => {\n\tconst { register, handleSubmit, setValue, formState: { errors }, clearErrors } = useForm({\n\t\tresolver: yupResolver(schema)\n\t\t \n\t});\n\n\tlet { id } = useParams();\n\n\tlet history = useHistory();\n\tconst [serverErrors, setServerErrors] = useState([]);\n\tconst [entity, setEntity] = useState({});\n\tconst [state, setState] = useState({});\n\tconst [key, setKey] = useState('page1');\n\t\tconst [loading, setLoading] = useState(true);\n\tconst [casualtyCodeList,setCasualtyCodeList]=useState([]);\n\tconst [unitCode,setUnitCode]=useState('');\n\tconst [unitName,setUnitName]=useState('');\n\tconst [susNo,setSusNo]=useState('');\n\tconst [cdano,setCdano]=useState('');\n\tconst [officerName,setOfficerName]=useState('');\n\tconst [rank,setRank]=useState('');\n\tconst [servingIn,setServingIn]=useState('');\n\tconst [do2No,setDo2No]=useState('');\n\tconst [lastDo2No,setLastDo2No]=useState('');\n\tconst [do2Date,setDo2Date]=useState('');\n\tconst [lastDo2Date,setLastDo2Date]=useState('');\n\t \n\t \n\tconst [casultyList,setCasultyList]=useState([{slNo:\"\",casualtyCode:\"\",nature:\"\",fromDate:\"\",toDate:\"\",data1:\"\",data2:\"\",data3:\"\",data4:\"\"}]);\n\t \n\t\n\tuseEffect(() => {\n\t\tlet isCancelled = false;\n\t\tconsole.log(id);\n\t\tif (id !== 'new') {\n\t\t\tasync function fetchData() {\n\t\t\t\tlet record = '';\n\t\t\t\tawait axios.get(`/do2s/rsec/do2edit/${id}`)\n\t\t\t\t\t.then((response) => {\n\t\t\t\t\t\trecord = response.data;\n\t\t\t\t\t\tconsole.log(record);\n\t\t\t\t\t\t \n\t\t\t\t\t\t if(record['cdaoNo'])\n\t\t\t\t\t\t \tsetCdano(record['cdaoNo']);\n\t\t\t\t\t\t \t\n\t\t\t\t\t\t const fields = [\n\t\t\t\t\t'cdaoNo', 'unitCode', 'servingIn','do2No', 'lastDo2No','do2Date','lastDo2Date' ,'officerName','rank','susNo','dakId','do2Id'\n\t\t\t\t\t\n\t\t\t\t];\n\t\t\t\tfields.forEach(field => setValue(field, record[field]));\n\t\t\t\t\t})\n\t\t\t\t\t.catch((error) => {\n\t\t\t\t\t\t//console.log(error);\n\t\t\t\t\t\t//console.log(error.response.status);\n\t\t\t\t\t\t//console.log(error.response.headers);\n\t\t\t\t\t\tif(error.response)\n\t\t\t\t\t\t\tsetServerErrors(error.response.data.error);\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tsetServerErrors(error.Error);\n\t\t\t\t\t});\n\n\t\t\t\n\t\t\t\tif (!isCancelled) {\n\t\t\t\t\tsetEntity(record);\n\t\t\t\t\tsetState(prev => ({ ...prev, state: record }));\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfetchData();\n\t\t\treturn () => {\n\t\t\t\tisCancelled = true;\n\t\t\t};\n\t\t}\n\n\t}, [id, setValue]);\n\t\n\t\t \n\t\t useEffect(() => {\n\t\tlet fetching = false;\n\t\tlet unmounted = false;\n\t\t \n\t\tasync function fetchCasultyList() {\n\t\t\t \n\t\t\tif (!fetching)\n\t\t\t\t//console.log(secId);\n\t\t\t\tawait axios.get(`/docFormats/all/occurrenceCode`)\n\t\t\t\t\t.then((response) => {\n\t\t\t\t\t\tconsole.log(\"response>>\" + response.data);\n\t\t\t\t\t\tsetCasualtyCodeList(response.data);\n\t\t\t\t\t\tif (!unmounted) {\n\t\t\t\t\t\t\t \n\t\t\t\t\t\t\t \n\t\t\t\t\t\t\tsetLoading(false);\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.catch((error) => {\n\t\t\t\t\t\t//console.log(error);\n\t\t\t\t\t\t//console.log(error.response.status);\n\t\t\t\t\t\t//console.log(error.response.headers);\n\t\t\t\t\t\tif (error.response)\n\t\t\t\t\t\t\tsetServerErrors(error.response.data.error);\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tsetServerErrors(error.Error);\n\t\t\t\t\t})\n\t\t}\n\t\tfetchCasultyList();\n\n\t\treturn () => { fetching = true; unmounted = true; }\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, []);\n\t\n\t useEffect(() => {\n\t\tlet fetching = false;\n\t\tlet unmounted = false;\n\t\t \n\t\tasync function fetchEmp() {\n\t\t\t console.log(cdano);\n\t\t\tif (!fetching && cdano && cdano.trim.length===6)\n\t\t\t\tconsole.log(cdano);\n\t\t\t\tawait axios.get(`/employees/empNames/${cdano}`)\n\t\t\t\t\t.then((response) => {\n\t\t\t\t\t\tconsole.log(\"response>>\" + response.data);\n\t\t\t\t\t\tsetOfficerName(response.data);\n\t\t\t\t\t\tif (!unmounted) {\n\t\t\t\t\t\t\t \t\t\t\t\t \n\t\t\t\t\t\t\tsetLoading(false);\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.catch((error) => {\n\t\t\t\t\t\t//console.log(error);\n\t\t\t\t\t\t//console.log(error.response.status);\n\t\t\t\t\t\t//console.log(error.response.headers);\n\t\t\t\t\t\tif (error.response)\n\t\t\t\t\t\t\tsetServerErrors(error.response.data.error);\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tsetServerErrors(error.Error);\n\t\t\t\t\t})\n\t\t}\n\t\tfetchEmp();\n\n\t\treturn () => { fetching = true; unmounted = true; }\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [cdano]);\n\t\n\tuseEffect(() => {\n\t\tlet fetching = false;\n\t\tlet unmounted = false;\n\t\t \n\t\tasync function fetchUnit() {\n\t\t\t \n\t\t\tif (!fetching && unitCode && unitCode.length===6)\n\t\t\t\tconsole.log(unitCode);\n\t\t\t\tawait axios.get(`/units/fetchUnit/${unitCode}`)\n\t\t\t\t\t.then((response) => {\n\t\t\t\t\t\tconsole.log(\"response>>\" + response.data);\n\t\t\t\t\t\tsetUnitName(response.data);\n\t\t\t\t\t\tif (!unmounted) {\n\t\t\t\t\t\t\t \n\t\t\t\t\t\t\t \n\t\t\t\t\t\t\tsetLoading(false);\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.catch((error) => {\n\t\t\t\t\t\t//console.log(error);\n\t\t\t\t\t\t//console.log(error.response.status);\n\t\t\t\t\t\t//console.log(error.response.headers);\n\t\t\t\t\t\tif (error.response)\n\t\t\t\t\t\t\tsetServerErrors(error.response.data.error);\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tsetServerErrors(error.Error);\n\t\t\t\t\t})\n\t\t}\n\t\tfetchUnit();\n\n\t\treturn () => { fetching = true; unmounted = true; }\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [unitCode]);\n\n\n\tconst onSubmit = (data, event) => {\n\t\tevent.preventDefault();\n\t\tconsole.log(casultyList);\n\t\t\n\t\tconsole.log(data);\n\t\tif (data) {\n\t\t\taxios.put(\"/do2s/rsec/saveDo2\", data)\n\t\t\t\t.then((response) => {\n\t\t\t\t\t\n\t\t\t\t\t\t \n\t\t\t\t\t\t\t\tsetServerErrors(response.data)\n\t\t\t\t\t\t\t \n\t\t\t\t\t\t\t \n\t\t\t\t })\n\t\t\t\t.catch((error) => {\n\t\t\t\t\t//console.log(error.response.data);\n\t\t\t\t\t//console.log(error.response.status);\n\t\t\t\t\t//console.log(error.response.headers);\n\t\t\t\t\tsetServerErrors(error.response.data)\n\t\t\t\t});\n\t\t}  \n\n\t\t//history.push(\"/do2s\");\n\t}\n\nconst returnToList =() => {\n\t\t \n\t\t\thistory.push(\"/do2s\");\n\t\t \n\t}\n\tconst onError = (errors, e) => console.log(errors, e);\n\n\t//All foreign keys. \n\t// XXXXXX Add search fields and adjust the values as necessary\n\tconst parentData = {\n\t\n\t\temployee: {\n\t\t\ttitle: \"Employee\",\n\t\t\turl : \"employees\",\n\t\t\tsearchList : ['cdaoNo','checkDigit','officerName'], //XXXXXXXXX Add search fields here and also in the corresponding repository\n\t\t\tfkEntity: \"employee\",\n\t\t},\n\t\t \n\t\tunit: {\n\t\t\ttitle: \"Unit\",\n\t\t\turl : \"units\",\n\t\t\tsearchList : ['unitCode','unitName'], //XXXXXXXXX Add search fields here and also in the corresponding repository\n\t\t\tfkEntity: \"unit\",\n\t\t},\n\t\tdocFormat: { \n\t\t\ttitle: \"Occurrence Code\",\n\t\t\turl : \"docFormats\",\n\t\t\tsearchList : ['occurrenceCode','occurrenceNature'], //XXXXXXXXX Add search fields here and also in the corresponding repository\n\t\t\tfkEntity: \"docFormat\",\n\t\t},\n\t}\n\n\t//Callback for child components (Foreign Keys)\n\tconst callback = (childData) => {\n\t\t//console.log(\"Parent Callback\");\n\t\tsetEntity(prev => ({ ...prev, [childData.fk]: childData.entity }));\n\t\tsetValue(childData.fk, childData.entity);\n\t\tif(childData.fk==='docFormat'){\n\t\t\tsetValue('occurrenceCode',childData.entity.occurrenceCode);\n\t\t\tconsole.log(childData.entity.occurrenceCode);\n\t\t}\n\t\t //console.log(childData.fk+\"--\"+childData.entity);\n\t\t//console.log(errors);\n\t\t\n\t\tclearErrors(childData.fk);\n\t};\n\n\tconst errorCallback = (err) => {\n\t\t//console.log(err);\n\t\tsetServerErrors(err);\n\t}\n\n\tconst handleInputChange = (e) => {\n\t\t//console.log(e.target.value);\n\t};\n\t\n\tconst handleCdaNoChange = (e) => {\n\t\tconsole.log(e.target.value);\n\t\tsetCdano(e.target.value);\n\t\tsetValue(\"cdaoNo\",e.target.value);\n\t};\n\tconst handleUnitChange = (e) => {\n\t\t//console.log(e.target.value);\n\t\tsetUnitCode(e.target.value);\n\t\tsetValue(\"unitCode\",e.target.value);\n\t};\n\tconst handleServingIn = (e) => {\n\t\t//console.log(e.target.value);\n\t\tsetServingIn(e.target.value);\n\t\tsetValue(\"servingIn\",e.target.value);\n\t};\n\tconst handleLastDo2DateChange = (e) => {\n\t\t//console.log(e.target.value);\n\t\tsetLastDo2Date(e.target.value);\n\t\tsetValue(\"lastDo2Date\",e.target.value);\n\t};\n\tconst handleLastDo2Change = (e) => {\n\t\t//console.log(e.target.value);\n\t\tsetLastDo2No(e.target.value);\n\t\tsetValue(\"lastDo2No\",e.target.value);\n\t};\n\tconst handleDo2NoChange = (e) => {\n\t\t//console.log(e.target.value);\n\t\tsetDo2No(e.target.value);\n\t\tsetValue(\"do2No\",e.target.value);\n\t};\n\tconst handleDo2DateChange = (e) => {\n\t\t//console.log(e.target.value);\n\t\tsetDo2Date(e.target.value);\n\t\tsetValue(\"do2Date\",e.target.value);\n\t};\n\tconst handleNature =index=> (e) => {\n\t\tconsole.log(index+\"--\"+e.target.value);\n\t\tlet item=casultyList[index];\n\t\t \n\t\titem['nature']=e.target.value;\n\t\tlet newData=[...casultyList];\n\t\tnewData[index]=item;\n\t\tsetCasultyList(newData);\n\t\tsetValue(\"casualtyList\",casultyList);\n\t\t \n\t};\n\tconst handleSlNo =index=> (e) => {\n\t\tconsole.log(index+\"--\"+e.target.value);\n\t\tlet item=casultyList[index];\n\t\t \n\t\titem['slNo']=e.target.value;\n\t\tlet newData=[...casultyList];\n\t\tnewData[index]=item;\n\t\tsetCasultyList(newData);\n\t\tsetValue(\"casualtyList\",casultyList);\n\t\t \n\t};\n\tconst handleFromDate =index=> (e) => {\n\t\tconsole.log(index+\"--\"+e.target.value);\n\t\tlet item=casultyList[index];\n\t\t \n\t\titem['fromDate']=e.target.value;\n\t\tlet newData=[...casultyList];\n\t\tnewData[index]=item;\n\t\tsetCasultyList(newData);\n\t\tsetValue(\"casualtyList\",casultyList);\n\t\t \n\t};\n\tconst handleToDate =index=> (e) => {\n\t\tconsole.log(index+\"--\"+e.target.value);\n\t\tlet item=casultyList[index];\n\t\t \n\t\titem['toDate']=e.target.value;\n\t\tlet newData=[...casultyList];\n\t\tnewData[index]=item;\n\t\tsetCasultyList(newData);\n\t\tsetValue(\"casualtyList\",casultyList);\n\t\t \n\t};\n\tconst handleData1 =index=> (e) => {\n\t\tconsole.log(index+\"--\"+e.target.value);\n\t\tlet item=casultyList[index];\n\t\t \n\t\titem['data1']=e.target.value;\n\t\tlet newData=[...casultyList];\n\t\tnewData[index]=item;\n\t\tsetCasultyList(newData);\n\t\tsetValue(\"casualtyList\",casultyList);\n\t\t \n\t};\n\tconst handleData2 =index=> (e) => {\n\t\tconsole.log(index+\"--\"+e.target.value);\n\t\tlet item=casultyList[index];\n\t\t \n\t\titem['data2']=e.target.value;\n\t\tlet newData=[...casultyList];\n\t\tnewData[index]=item;\n\t\tsetCasultyList(newData);\n\t\tsetValue(\"casualtyList\",casultyList);\n\t\t \n\t};\n\tconst handleData3 =index=> (e) => {\n\t\tconsole.log(index+\"--\"+e.target.value);\n\t\tlet item=casultyList[index];\n\t\t \n\t\titem['data3']=e.target.value;\n\t\tlet newData=[...casultyList];\n\t\tnewData[index]=item;\n\t\tsetCasultyList(newData);\n\t\tsetValue(\"casualtyList\",casultyList);\n\t\t \n\t};\n\tconst handleData4 =index=> (e) => {\n\t\tconsole.log(index+\"--\"+e.target.value);\n\t\tlet item=casultyList[index];\n\t\t \n\t\titem['data4']=e.target.value;\n\t\tlet newData=[...casultyList];\n\t\tnewData[index]=item;\n\t\tsetCasultyList(newData);\n\t\tsetValue(\"casualtyList\",casultyList);\n\t\t \n\t};\n\tconst handleCasualtyCode =index=> (e) => {\n\t\tconsole.log(index+\"--\"+e.selectedIndex);\n\t\tlet item=casultyList[index];\n\t\t \n\t\titem['casualtyCode']=e.target.value;\n\t\tlet newData=[...casultyList];\n\t\tnewData[index]=item;\n\t\tsetCasultyList(newData);\n\t\tsetValue(\"casualtyList\",casultyList);\n\t\t \n\t};\n\t\n\tconst addRow = (e) => {\n\t\tconsole.log(casultyList);\n\t\tsetCasultyList([...casultyList,{slNo:\"\",casualtyCode:\"\",nature:\"\",fromDate:\"\",toDate:\"\",data1:\"\",data2:\"\",data3:\"\",data4:\"\"}])\n\t\t \n\t};\n \n\n\treturn (\n\t\t<div className=\"max-w-8xl mx-auto \">\n\t\t\t<div className=\"w-full w-3/4  mx-auto \" >\n\n\t\t\t\t<form onSubmit={handleSubmit(onSubmit, onError)}>\n\t\t\t\t\t<h1 >{id === 'new' ? 'Add' : 'Edit'} Do2 </h1>\n\t\t\t\t\t<div className=\"text-red-500\">{serverErrors}</div>\n\t\t\t\t\t<Tabs\n\t\t\t\t\t\tid=\"Do2Edit\"\n\t\t\t\t\t\tactiveKey={key}\n\t\t\t\t\t\tonSelect={(k) => setKey(k)}\n\t\t\t\t\t\tclassName=\"mb-3\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<Tab eventKey=\"page1\" title=\"Page 1\" className=\"h-120\">\n\t\t\t\t\t\t\t<div className=\"grid grid-cols-2 gap-0\">\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<label>Cdao No</label>\n\t\t\t\t\t\t\t\t\t<input type=\"text\"  name=\"cdano\"  value={cdano} onChange={handleCdaNoChange}/>\n\t\t\t\t\t\t\t\t\t \n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<label>Officer Name</label>\n\t\t\t\t\t\t\t\t\t{officerName} \n\t\t\t\t\t\t\t\t\t \n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<label>Unit Code</label>\n\t\t\t\t\t\t\t\t\t<input type=\"text\" name=\"unitCode\" onChange={handleUnitChange}\n\t\t\t\t\t\t\t\t\t\t placeholder=\"unit code or susno\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<div className=\"text-red-500\">{errors.do2No?.message}</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<label>Unit Name</label>\n\t\t\t\t\t\t\t\t\t{unitName} \n\t\t\t\t\t\t\t\t\t \n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t \n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t \n\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<label>Do2 No</label>\n\t\t\t\t\t\t\t\t\t<input type=\"text\" name=\"do2No\" value={do2No} onChange={handleDo2NoChange}\n\t\t\t\t\t\t\t\t\t\t \n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<div className=\"text-red-500\">{errors.do2No?.message}</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<label>Do2 Date</label>\n\t\t\t\t\t\t\t\t\t<input type=\"date\" name=\"fromDate\" value={do2Date} onChange={handleDo2DateChange}\n\t\t\t\t\t\t\t\t\t  />\n\t\t\t\t\t\t\t\t\t<div className=\"text-red-500\">{errors.fromDate?.message}</div>\n\t\t\t\t\t\t\t\t</div>\t\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<label>Last Do2 No</label>\n\t\t\t\t\t\t\t\t\t<input type=\"text\" name=\"lastDo2No\" value={lastDo2No} onChange={handleLastDo2Change}\n\t\t\t\t\t\t\t\t\t\t \n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<div className=\"text-red-500\">{errors.lastDo2No?.message}</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<label>Last Do2 Date</label>\n\t\t\t\t\t\t\t\t\t<input type=\"date\" name=\"lastDo2Date\" value={lastDo2Date} onChange={handleLastDo2DateChange}\n\t\t\t\t\t\t\t\t\t  />\n\t\t\t\t\t\t\t\t\t<div className=\"text-red-500\">{errors.lastDo2Date?.message}</div>\n\t\t\t\t\t\t\t\t</div>\t\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<label>Serving In</label>\n\t\t\t\t\t\t\t\t\t <select name=\"servingIn\" value={servingIn}   onChange={handleServingIn}>\n\t\t\t\t\t\t\t\t\t  <option value=\"0\">--select---</option>\n\t\t\t\t\t\t\t\t\t <option value=\"Peace\">Peace</option>\n\t\t\t\t\t\t\t\t\t <option value=\"Field\">Field</option>\n\t\t\t\t\t\t\t\t\t <option value=\"Hard\">Hard</option>\n\t\t\t\t\t\t\t\t\t   \n\t\t\t\t\t\t\t\t\t \n\t\t\t\t\t\t\t\t\t </select>\n\t\t\t\t\t\t\t\t\t<div className=\"text-red-500\">{errors.servingIn?.message}</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t \n\t\t\t\t\t\n\t\t\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<table className=\"table table-striped table-bordered table-auto\">\n\t\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t <tr>\n                        <th>SlNo</th>\n                        <th>Code</th>\n                        <th>From Date</th>\n                        <th>To Date</th>\n                        <th>Data1</th>\n                        <th>Data2</th>\n                         <th>Data3</th>\n                         <th>Data4</th>\n                    </tr>\n\t\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t  {\n\t\t\t\t\t\tcasultyList.map((item,i)=>{\n\t\t\t\t\t\t\treturn(\n\t\t\t\t\t\t\t<tr key={\"do2\"+i}>\n\t\t\t\t\t\t\t \n\t\t\t\t\t\t\t<td>\n                    <input type=\"text\" name=\"slNo\" value={item.slNo} onChange={handleSlNo(i)}  />\n                    </td>\n                    \n                     <td>\n                     <select \n\t\t\t\t\t\t\t\tdisabled={loading}\n\t\t\t\t\t\t\t\tvalue={item.casualtyCode}\n\t\t\t\t\t\t\t\tonChange={handleCasualtyCode(i)}>\n\t\t\t\t\t\t\t\t<option key=\"0\" value=\"0\" label=\"--select--\"/>\n\t\t\t\t\t\t\t\t{casualtyCodeList.map((item,index) => (\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t<option key={\"cs\"+index} value={item.toString()}>   {item.toString()} </option>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</select><br/>\n\t\t\t\t\t\t\t                    <textarea type=\"text\"  rows=\"4\" name=\"nature\"  value={item.nature} onChange={handleNature(i)} placeholder=\"nature of occurrence\" />\n\n                    </td>\n                    <td>\n                    <input type=\"date\" name=\"fDate\" value={item.fromDate} onChange={handleFromDate(i)}   className=\"form-control py-0\"/>\n                    </td>\n                    <td>\n                    <input type=\"date\" name=\"tDate\" value={item.toDate} onChange={handleToDate(i)}   className=\"form-control py-0\"/>\n                    </td>\n                    <td>\n                    <input type=\"text\" name=\"data1\" value={item.data1}  onChange={handleData1(i)} className=\"form-control py-0\"/>\n                    </td>\n                    <td>\n                    <input type=\"text\" name=\"data2\" value={item.data2}  onChange={handleData2(i)} className=\"form-control py-0\"/>\n                    </td>\n                    <td>\n                    <input type=\"text\" name=\"data3\" value={item.data3}  onChange={handleData3(i)} className=\"form-control py-0\"/>\n                    </td>\n                    <td>\n                    <input type=\"text\" name=\"data4\" value={item.data4}  onChange={handleData4(i)} className=\"form-control py-0\"/>\n                    </td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t})\n\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t<div class=\"w-32 ...\">\n\t\t\t\t\t\t<button type=\"button\" onClick={addRow}>Add Record</button>\n\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Tab>\n\n\t\t\t\t\t\t \n\t\t\t\t\t\t\n\t\t\t\t\t\t<Tab eventKey=\"help\" title=\"Help\" >\n\t\t\t\t\t\t\t<h1>Help</h1>\n\t\t\t\t\t\t\t<ul className=\"list-disc\">\n\t\t\t\t\t\t\t\t<li>Point 1</li>\n\t\t\t\t\t\t\t\t<li>Point 2</li>\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</Tab>\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t</Tabs>\n\t\t\t\t\t\t<div className=\"grid grid-cols-2 gap-0\">\n\t\t\t\t\t<div className=\"px-4\">\n\t\t\t\t\t\t<button type=\"submit\" >Save</button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"px-4\">\n\t\t\t\t\t\t<button type=\"button\" onClick={returnToList} >Done</button>\n\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default withRouter(Do2Edit);"]},"metadata":{},"sourceType":"module"}