{"ast":null,"code":"var _jsxFileName = \"/home/itsdcsec/falconws/falcon_face/src/components/StopPaymentEdit.js\";\nimport { useForm } from \"react-hook-form\";\nimport axios from 'axios';\nimport { useEffect, useState } from \"react\";\nimport LiveSearch from \"../utils/LiveSearch\";\nimport { useParams } from \"react-router-dom/cjs/react-router-dom.min\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst StopPaymentEdit = () => {\n  var _data$, _data$2;\n\n  let {\n    letterNo\n  } = useParams(); //const { register, handleSubmit, setValue, formState: { errors }, clearErrors } = useForm({});\n\n  const [entity, setEntity] = useState({});\n  const [ic, setIc] = useState([]);\n  const [employee, setEmployee] = useState();\n  const [serverErrors, setServerErrors] = useState([]);\n  let obj = {\n    letterNo: \"\",\n    letterDate: \"\",\n    icNo: \"\",\n    employee: {},\n    presentAddress: \"\",\n    age: \"\",\n    acrGap: \"\",\n    date: \"\",\n    stopPaymentCscd: \"\",\n    stopPaymentInd: \"S\",\n    remarks: \"\"\n  };\n  const [data, setData] = useState([obj]);\n  useEffect(() => {\n    console.log(\"stp\");\n    let fetching = false;\n\n    if (letterNo !== \"new\") {\n      async function fetchData() {\n        if (!fetching) await axios.get(`/stopPayments/letterNo/${letterNo}`).then(response => {\n          setData(response.data);\n          console.log(\"stop payment edit>>>\", response.data);\n        }).catch(error => {\n          if (error.response) setServerErrors(error.response.data.error);else setServerErrors(error.Error);\n        });\n      }\n\n      fetchData();\n      return () => {\n        fetching = true;\n      };\n    }\n  }, [letterNo]);\n\n  const handleIcNoInput = (e, index) => {\n    const {\n      name,\n      value\n    } = e.target;\n    let newData = [...data];\n    newData = data.map((itm, indx) => {\n      if (indx === index) {\n        let newItem = { ...itm,\n          [name]: value,\n          employee: {}\n        };\n        itm = newItem;\n        return itm;\n      }\n\n      return itm;\n    });\n    setData(newData);\n    let icNumber = e.target.value.toUpperCase();\n\n    if (icNumber.length === 7) {\n      console.log(\"icNumber >>>> \", icNumber);\n\n      async function FetchEmployee() {\n        await axios.get(`/employees/byIcNo/${icNumber}`).then(response => {\n          console.log(\"employee details>>>>\", response.data);\n\n          if (response.data.length === 0) {\n            let newIc = [...ic];\n            newIc[index] = \"please enter correct IC No\";\n            setIc(newIc);\n          } else {\n            let newIc = [...ic];\n            newIc[index] = \"\";\n            setIc(newIc);\n          }\n\n          setData(data.map((it, ind) => {\n            if (index === ind) {\n              let newItem = { ...it,\n                employee: response.data\n              };\n              it = newItem;\n              return it;\n            }\n\n            return it;\n          }));\n        });\n      }\n\n      FetchEmployee();\n    }\n  };\n\n  const handleLetterInput = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setData(data.map((item, index) => {\n      let newItem = { ...item,\n        [name]: value\n      };\n      item = newItem;\n      return item;\n    }));\n  };\n\n  const handleInput = index => e => {\n    const {\n      name,\n      value\n    } = e.target;\n\n    if (name === \"icNo\") {\n      console.log(\"hhhhhh\");\n    }\n\n    setData(data.map((itm, indx) => {\n      if (indx === index) {\n        let newItem = { ...itm,\n          [name]: value\n        };\n        itm = newItem;\n        return itm;\n      }\n\n      return itm;\n    }));\n  };\n\n  const handleSubmit = e => {\n    console.log(\"submitted data\", data);\n\n    async function SaveStopPayment() {\n      await axios.post(`/stopPayments`, data).then(response => console.log(response.data));\n    }\n\n    SaveStopPayment();\n  };\n\n  useEffect(() => {\n    console.log(\"ic set ic>>> \", ic);\n  }, [ic]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: \"25px 10px\"\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-green-100\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex p-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Letter No\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 145,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              name: \"letterNo\",\n              value: (_data$ = data[0]) === null || _data$ === void 0 ? void 0 : _data$.letterNo,\n              onChange: handleLetterInput\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Letter Date\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 148,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"date\",\n              name: \"letterDate\",\n              value: (_data$2 = data[0]) === null || _data$2 === void 0 ? void 0 : _data$2.letterDate,\n              onChange: handleLetterInput\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 31\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 21\n        }, this), data.map((item, index) => {\n          var _item$employee, _item$employee2, _item$employee3, _item$employee4, _item$employee5, _item$employee6, _item$employee6$prese, _item$employee7, _item$employee7$prese, _item$employee8, _item$employee8$prese;\n\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex py-2\",\n            style: index % 2 === 0 ? {\n              backgroundColor: \"\"\n            } : {\n              backgroundColor: \"rgb(229,220,229)\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"font-bold\",\n              children: [index + 1, \".\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 155,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex flex-wrap \",\n              style: {\n                display: \"flex\",\n                flexWrap: \"wrap\"\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"IC No\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 159,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  className: \"w-32\",\n                  name: \"icNo\",\n                  value: item === null || item === void 0 ? void 0 : (_item$employee = item.employee) === null || _item$employee === void 0 ? void 0 : _item$employee.icNo,\n                  onChange: e => {\n                    handleIcNoInput(e, index);\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 160,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"text-red-500\",\n                  children: ic[index]\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 163,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 158,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"CDAO No\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 166,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  className: \"w-32\",\n                  readOnly: true,\n                  value: (_item$employee2 = item.employee) === null || _item$employee2 === void 0 ? void 0 : _item$employee2.cdaoNo\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 167,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 165,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Officer name\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 170,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  readOnly: true,\n                  value: (_item$employee3 = item.employee) === null || _item$employee3 === void 0 ? void 0 : _item$employee3.officerName\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 171,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 169,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Date of Birth\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 174,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  className: \"w-32\",\n                  readOnly: true,\n                  value: (_item$employee4 = item.employee) === null || _item$employee4 === void 0 ? void 0 : _item$employee4.dateOfBirth\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 175,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 173,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Date of Commission\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 178,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  className: \"w-32\",\n                  readOnly: true,\n                  value: (_item$employee5 = item.employee) === null || _item$employee5 === void 0 ? void 0 : _item$employee5.dateOfCommission\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 179,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 177,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"SUS No\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 182,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  className: \"w-32\",\n                  readOnly: true,\n                  value: (_item$employee6 = item.employee) === null || _item$employee6 === void 0 ? void 0 : (_item$employee6$prese = _item$employee6.presentUnit) === null || _item$employee6$prese === void 0 ? void 0 : _item$employee6$prese.susNo\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 183,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 181,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Unit Name\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 186,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                  readOnly: true,\n                  value: (_item$employee7 = item.employee) === null || _item$employee7 === void 0 ? void 0 : (_item$employee7$prese = _item$employee7.presentUnit) === null || _item$employee7$prese === void 0 ? void 0 : _item$employee7$prese.unitName\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 187,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 185,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Unit Code\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 190,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  className: \"w-32\",\n                  readOnly: true,\n                  value: (_item$employee8 = item.employee) === null || _item$employee8 === void 0 ? void 0 : (_item$employee8$prese = _item$employee8.presentUnit) === null || _item$employee8$prese === void 0 ? void 0 : _item$employee8$prese.unitCode\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 191,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 189,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Present Address\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 194,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                  name: \"presentAddress\",\n                  onChange: handleInput(index)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 195,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 193,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"ACR GAP\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 202,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  name: \"acrGap\",\n                  onChange: handleInput(index)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 203,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 201,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"CSCD\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 206,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  className: \"w-32 bg-white\",\n                  name: \"stopPaymentCscd\",\n                  value: item.stopPaymentCscd,\n                  onChange: handleInput(index),\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    children: \"--Select--\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 208,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"RETIRE\",\n                    children: \"RETIRE\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 209,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"RELEASE\",\n                    children: \"RELEASE\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 210,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"PRETIRE\",\n                    children: \"PRETIRE\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 211,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"RESIGN\",\n                    children: \"RESIGN\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 212,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"PAYSTOP\",\n                    children: \"PAYSTOP\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 213,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"INVALID\",\n                    children: \"INVALID\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 214,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"DEATH\",\n                    children: \"DEATH\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 215,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"DEPUTE\",\n                    children: \"DEPUTE\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 216,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"SECNDMNT\",\n                    children: \"SECNDMNT\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 217,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"MISSING\",\n                    children: \"MISSING\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 218,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"KILLED\",\n                    children: \"KILLED\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 219,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"REMOVED\",\n                    children: \"REMOVED\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 220,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"DISMISS\",\n                    children: \"DISMISS\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 221,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"CASHRE\",\n                    children: \"CASHRE\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 222,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"DESERTER\",\n                    children: \"DESERTER\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 223,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 207,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 205,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Remarks\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 227,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                  className: \"\",\n                  style: {\n                    width: \"440px\"\n                  },\n                  name: \"remarks\",\n                  value: item.remarks,\n                  onChange: handleInput(index)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 228,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 226,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 157,\n              columnNumber: 29\n            }, this), index !== 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"w-32 h-10\",\n                onClick: () => {\n                  if (index !== 0) {\n                    setIc(ic.filter((i, ind) => {\n                      if (index !== ind) {\n                        return i;\n                      }\n                    }));\n                    setData(data.filter((i, id) => {\n                      if (id !== index) {\n                        return i;\n                      }\n                    }));\n                  }\n                },\n                children: [\"Remove Row \", index + 1]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 237,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 236,\n              columnNumber: 44\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"m-0 p-0\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"w-32 h-10 bg-red-500 hover:bg-red-700\",\n                style: {\n                  cursor: \"not-allowed\"\n                },\n                children: \"Cant't Remove\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 261,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 260,\n              columnNumber: 33\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 25\n          }, this);\n        }), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-end\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"w-32\",\n            onClick: () => setData([...data, obj]),\n            children: \"Add Row\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"px-4 flex\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"w-32\",\n          type: \"submit\",\n          onClick: handleSubmit,\n          children: \"Save\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"w-52 mx-10\",\n          onClick: () => console.log(data),\n          children: \"Conole updated data\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 140,\n    columnNumber: 9\n  }, this);\n};\n\nexport default StopPaymentEdit;","map":{"version":3,"sources":["/home/itsdcsec/falconws/falcon_face/src/components/StopPaymentEdit.js"],"names":["useForm","axios","useEffect","useState","LiveSearch","useParams","StopPaymentEdit","letterNo","entity","setEntity","ic","setIc","employee","setEmployee","serverErrors","setServerErrors","obj","letterDate","icNo","presentAddress","age","acrGap","date","stopPaymentCscd","stopPaymentInd","remarks","data","setData","console","log","fetching","fetchData","get","then","response","catch","error","Error","handleIcNoInput","e","index","name","value","target","newData","map","itm","indx","newItem","icNumber","toUpperCase","length","FetchEmployee","newIc","it","ind","handleLetterInput","item","handleInput","handleSubmit","SaveStopPayment","post","padding","backgroundColor","display","flexWrap","cdaoNo","officerName","dateOfBirth","dateOfCommission","presentUnit","susNo","unitName","unitCode","width","filter","i","id","cursor"],"mappings":"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","sourcesContent":["import { useForm } from \"react-hook-form\";\nimport axios from 'axios';\nimport { useEffect, useState } from \"react\";\nimport LiveSearch from \"../utils/LiveSearch\";\nimport { useParams } from \"react-router-dom/cjs/react-router-dom.min\";\n\nconst StopPaymentEdit = () => {\n    let { letterNo } = useParams();\n    //const { register, handleSubmit, setValue, formState: { errors }, clearErrors } = useForm({});\n    const [entity, setEntity] = useState({});\n    const [ic, setIc] = useState([]);\n    const [employee, setEmployee] = useState();\n    const [serverErrors, setServerErrors] = useState([]);\n    let obj = {\n        letterNo: \"\",\n        letterDate: \"\",\n        icNo: \"\",\n        employee: {},\n        presentAddress: \"\",\n        age: \"\",\n        acrGap: \"\",\n        date: \"\",\n        stopPaymentCscd: \"\",\n        stopPaymentInd: \"S\",\n        remarks: \"\"\n    };\n    const [data, setData] = useState([obj]);\n\n    useEffect(() => {\n        console.log(\"stp\");\n        let fetching = false;\n        if (letterNo !== \"new\") {\n            async function fetchData() {\n                if (!fetching)\n                    await axios.get(`/stopPayments/letterNo/${letterNo}`)\n                        .then((response) => {\n                            setData(response.data);\n                            console.log(\"stop payment edit>>>\", response.data);\n                        })\n                        .catch((error) => {\n                            if (error.response)\n                                setServerErrors(error.response.data.error);\n                            else\n                                setServerErrors(error.Error);\n                        })\n            }\n            fetchData();\n            return () => { fetching = true; }\n        }\n\n    }, [letterNo]);\n\n    const handleIcNoInput = (e, index) => {\n        const { name, value } = e.target;\n        let newData = [...data];\n        newData = data.map((itm, indx) => {\n            if (indx === index) {\n                let newItem = { ...itm, [name]: value, employee: {} };\n                itm = newItem;\n                return itm;\n            }\n            return itm;\n        })\n        setData(newData);\n\n        let icNumber = e.target.value.toUpperCase();\n        if (icNumber.length === 7) {\n            console.log(\"icNumber >>>> \", icNumber);\n            async function FetchEmployee() {\n                await axios.get(`/employees/byIcNo/${icNumber}`)\n                    .then((response) => {\n                        console.log(\"employee details>>>>\", response.data);\n                        if (response.data.length === 0) {\n                            let newIc = [...ic];\n                            newIc[index] = \"please enter correct IC No\";\n                            setIc(newIc);\n                        } else {\n                            let newIc = [...ic];\n                            newIc[index] = \"\";\n                            setIc(newIc);\n                        }\n                        setData(\n                            data.map((it, ind) => {\n                                if (index === ind) {\n                                    let newItem = { ...it, employee: response.data };\n                                    it = newItem;\n                                    return it;\n                                }\n                                return it;\n                            })\n                        )\n                    })\n            }\n            FetchEmployee();\n        }\n    }\n\n    const handleLetterInput = (e) => {\n        const { name, value } = e.target;\n        setData(\n            data.map((item, index) => {\n                let newItem = { ...item, [name]: value };\n                item = newItem;\n                return item;\n            })\n        )\n    }\n\n    const handleInput = index => (e) => {\n        const { name, value } = e.target;\n        if (name === \"icNo\") {\n            console.log(\"hhhhhh\");\n        }\n        setData(\n            data.map((itm, indx) => {\n                if (indx === index) {\n                    let newItem = { ...itm, [name]: value };\n                    itm = newItem;\n                    return itm;\n                }\n                return itm;\n            })\n        )\n    }\n\n    const handleSubmit = (e) => {\n        console.log(\"submitted data\", data);\n        async function SaveStopPayment() {\n            await axios.post(`/stopPayments`, data)\n                .then((response) => console.log(response.data));\n        }\n        SaveStopPayment();\n    }\n    useEffect(() => {\n        console.log(\"ic set ic>>> \", ic);\n    }, [ic])\n\n\n    return (\n        <div style={{ padding: \"25px 10px\" }}>\n            <div className=\"bg-green-100\">\n                <div>\n                    <div className=\"flex p-3\">\n                        <div>\n                            <label>Letter No</label>\n                            <input name=\"letterNo\" value={data[0]?.letterNo} onChange={handleLetterInput} />\n                        </div><div>\n                            <label>Letter Date</label>\n                            <input type=\"date\" name=\"letterDate\" value={data[0]?.letterDate} onChange={handleLetterInput} />\n                        </div>\n                    </div>\n                    {data.map((item, index) => (\n                        <div key={index} className=\"flex py-2\" style={index % 2 === 0 ? { backgroundColor: \"\" } : { backgroundColor: \"rgb(229,220,229)\" }}>\n\n                            <div className=\"font-bold\">{index + 1}.</div>\n\n                            <div className=\"flex flex-wrap \" style={{ display: \"flex\", flexWrap: \"wrap\" }}>\n                                <div>\n                                    <label>IC No</label>\n                                    <input className=\"w-32\" name=\"icNo\" value={item?.employee?.icNo} onChange={(e) => {\n                                        handleIcNoInput(e, index)\n                                    }} />\n                                    <label className=\"text-red-500\">{ic[index]}</label>\n                                </div>\n                                <div>\n                                    <label>CDAO No</label>\n                                    <input className=\"w-32\" readOnly value={item.employee?.cdaoNo} />\n                                </div>\n                                <div>\n                                    <label>Officer name</label>\n                                    <input readOnly value={item.employee?.officerName} />\n                                </div>\n                                <div>\n                                    <label>Date of Birth</label>\n                                    <input className=\"w-32\" readOnly value={item.employee?.dateOfBirth} />\n                                </div>\n                                <div>\n                                    <label>Date of Commission</label>\n                                    <input className=\"w-32\" readOnly value={item.employee?.dateOfCommission} />\n                                </div>\n                                <div>\n                                    <label>SUS No</label>\n                                    <input className=\"w-32\" readOnly value={item.employee?.presentUnit?.susNo} />\n                                </div>\n                                <div>\n                                    <label>Unit Name</label>\n                                    <textarea readOnly value={item.employee?.presentUnit?.unitName}></textarea>\n                                </div>\n                                <div>\n                                    <label>Unit Code</label>\n                                    <input className=\"w-32\" readOnly value={item.employee?.presentUnit?.unitCode} />\n                                </div>\n                                <div>\n                                    <label>Present Address</label>\n                                    <textarea name=\"presentAddress\" onChange={handleInput(index)}></textarea>\n                                </div>\n                                {/* <div>\n                                    <label>Age</label>\n                                    <input name=\"age\" onChange={handleInput(index)} />\n                                </div> */}\n                                <div>\n                                    <label>ACR GAP</label>\n                                    <input name=\"acrGap\" onChange={handleInput(index)} />\n                                </div>\n                                <div>\n                                    <label>CSCD</label>\n                                    <select className=\"w-32 bg-white\" name=\"stopPaymentCscd\" value={item.stopPaymentCscd} onChange={handleInput(index)}>\n                                        <option>--Select--</option>\n                                        <option value=\"RETIRE\">RETIRE</option>\n                                        <option value=\"RELEASE\">RELEASE</option>\n                                        <option value=\"PRETIRE\">PRETIRE</option>\n                                        <option value=\"RESIGN\">RESIGN</option>\n                                        <option value=\"PAYSTOP\">PAYSTOP</option>\n                                        <option value=\"INVALID\">INVALID</option>\n                                        <option value=\"DEATH\">DEATH</option>\n                                        <option value=\"DEPUTE\">DEPUTE</option>\n                                        <option value=\"SECNDMNT\">SECNDMNT</option>\n                                        <option value=\"MISSING\">MISSING</option>\n                                        <option value=\"KILLED\">KILLED</option>\n                                        <option value=\"REMOVED\">REMOVED</option>\n                                        <option value=\"DISMISS\">DISMISS</option>\n                                        <option value=\"CASHRE\">CASHRE</option>\n                                        <option value=\"DESERTER\">DESERTER</option>\n                                    </select>\n                                </div>\n                                <div>\n                                    <label>Remarks</label>\n                                    <textarea\n                                        className=\"\"\n                                        style={{ width: \"440px\" }}\n                                        name=\"remarks\"\n                                        value={item.remarks}\n                                        onChange={handleInput(index)}></textarea>\n                                </div>\n                            </div>\n                            {index !== 0 ? <div className=\"\">\n                                <button\n                                    className=\"w-32 h-10\"\n                                    onClick={() => {\n                                        if (index !== 0) {\n                                            setIc(\n                                                ic.filter((i, ind) => {\n                                                    if (index !== ind) {\n                                                        return i;\n                                                    }\n                                                })\n                                            )\n                                            setData(\n                                                data.filter((i, id) => {\n                                                    if (id !== index) {\n                                                        return i;\n                                                    }\n                                                })\n                                            )\n                                        }\n                                    }}>\n                                    Remove Row {index + 1}\n                                </button>\n                            </div> :\n                                <div className=\"m-0 p-0\">\n                                    <button className=\"w-32 h-10 bg-red-500 hover:bg-red-700\" style={{ cursor: \"not-allowed\" }}>\n                                        Cant't Remove\n                                    </button>\n                                </div>}\n\n                        </div>\n                    ))}\n                    <div className=\"flex justify-end\">\n                        <button\n                            className=\"w-32\"\n                            onClick={() => setData([...data, obj])}>\n                            Add Row\n                        </button>\n                    </div>\n                </div>\n                <div className=\"px-4 flex\">\n                    <button\n                        className=\"w-32\" type=\"submit\" onClick={handleSubmit}>\n                        Save\n                    </button>\n                    <button\n                        className=\"w-52 mx-10\" onClick={() => console.log(data)}>\n                        Conole updated data\n                    </button>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default StopPaymentEdit;\n"]},"metadata":{},"sourceType":"module"}