{"ast":null,"code":"var _jsxFileName = \"/home/itsdc3/Imp Tulip files/falconws160424/falconws/falcon_face/src/components/DgnEdit.js\";\nimport axios from \"axios\";\nimport { useEffect, useMemo, useState } from \"react\";\nimport { Link, useHistory, useParams } from \"react-router-dom/cjs/react-router-dom.min\";\nimport TableCopy from \"../utils/TableCopy\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction DgnEdit() {\n  var _usr$designation, _dgnInputObj$employee, _dgnInputObj$employee2, _dgnInputObj$employee3, _dgnInputObj$employee4, _dgnInputObj$employee5, _dgnInputObj$employee6, _dgnInputObj$employee7, _dgnInputObj$rank, _usr$designation2, _usr$designation4, _usr$designation5, _usr$designation6, _usr$designation7, _usr$designation8, _usr$designation9;\n\n  let {\n    dakId\n  } = useParams();\n  let history = useHistory();\n  const dgnObj = {\n    cdaoNo: \"\",\n    dak: {},\n    promotDate: \"\",\n    dgnDate: \"\",\n    dgnAuthority: \"\",\n    employee: {\n      icNo: \"\",\n      cdaoNo: \"\",\n      officerName: \"\",\n      rank: {\n        rankName: \"\"\n      }\n    },\n    rank: {},\n    action: \"\",\n    actionable: true,\n    remarks: \"\"\n  };\n  const [dak, setDak] = useState({});\n  const [dgnData, setDgnData] = useState([]);\n  const [dgnInputObj, setDgnInputObj] = useState(dgnObj);\n  const [rankOrder, setRankOrder] = useState([1, 2, 3, 4, 14, 5, 15, 6, 7, 8, 9, 11, 12, 13, 10]);\n  const [allRankList, setAllRankList] = useState();\n  const [rankList, setRankList] = useState([]);\n  const [usr, setUsr] = useState({});\n  useEffect(() => {\n    let user = JSON.parse(sessionStorage.getItem(\"usr\"));\n    setUsr(user);\n  }, []);\n  useEffect(() => {\n    if (dakId !== \"new\") {\n      console.log(\"dakId >>> \", dakId);\n      axios.get(`/daks/${dakId}`).then(response => {\n        var _response$data;\n\n        if ((_response$data = response.data) === null || _response$data === void 0 ? void 0 : _response$data.dakidNo) {\n          console.log(\"dak data >>> \", response.data);\n          setDak(response.data);\n          setDgnInputObj({ ...dgnInputObj,\n            dak: response.data\n          });\n        }\n      });\n    }\n  }, [dakId]);\n  useEffect(() => {\n    var _dgnInputObj$dak;\n\n    if ((_dgnInputObj$dak = dgnInputObj.dak) === null || _dgnInputObj$dak === void 0 ? void 0 : _dgnInputObj$dak.id) {\n      FetchDgnData();\n    }\n  }, [dgnInputObj.dak.id]);\n\n  async function FetchDgnData() {\n    await axios.get(`/dgn/fkdak/${dgnInputObj.dak.id}`).then(response => {\n      var _response$data2;\n\n      console.log(response.data);\n\n      if (((_response$data2 = response.data) === null || _response$data2 === void 0 ? void 0 : _response$data2.length) > 0) {\n        var _response$data$, _response$data$2;\n\n        setDgnData(response.data);\n        setDgnInputObj({ ...dgnObj,\n          dak: dgnInputObj.dak,\n          dgnAuthority: response.data[0].dgnAuthority,\n          dgnDate: (_response$data$ = response.data[0]) === null || _response$data$ === void 0 ? void 0 : _response$data$.dgnDate,\n          actionable: (_response$data$2 = response.data[0]) === null || _response$data$2 === void 0 ? void 0 : _response$data$2.actionable\n        });\n      }\n    });\n  }\n\n  useEffect(() => {\n    axios.get(`/ranks/allRanks`).then(response => {\n      setAllRankList(response.data);\n    });\n  }, []);\n\n  const handleInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setDgnInputObj({ ...dgnInputObj,\n      [name]: value\n    });\n  };\n\n  const handleIcNoInputChange = e => {\n    let {\n      name,\n      value\n    } = e.target;\n    value = value.toUpperCase();\n\n    if (value.length > 6 && value.length < 10) {\n      axios.get(`/employees/byIcNo/${value}`).then(response => {\n        if (response.data.icNo) {\n          var _response$data3, _response$data3$rank;\n\n          console.log(\"employee data >>> \", response.data);\n          setDgnInputObj({ ...dgnInputObj,\n            employee: response.data\n          });\n\n          if ((_response$data3 = response.data) === null || _response$data3 === void 0 ? void 0 : (_response$data3$rank = _response$data3.rank) === null || _response$data3$rank === void 0 ? void 0 : _response$data3$rank.rankCode) {\n            DeterminigPromotionRankList(response.data);\n          }\n        } else {\n          setDgnInputObj({ ...dgnInputObj,\n            employee: { ...dgnObj.employee,\n              [name]: value\n            }\n          });\n        }\n      });\n    } else {\n      setDgnInputObj({ ...dgnInputObj,\n        employee: { ...dgnObj.employee,\n          [name]: value\n        }\n      });\n    }\n  };\n\n  const handleCdaoNoInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n\n    if (value.length == 6) {\n      axios.get(`/employees/byCdaoNo/${value}`).then(response => {\n        if (response.data.cdaoNo) {\n          var _response$data4, _response$data4$rank;\n\n          console.log(\"employee data >>> \", response.data);\n          setDgnInputObj({ ...dgnInputObj,\n            employee: response.data\n          });\n\n          if ((_response$data4 = response.data) === null || _response$data4 === void 0 ? void 0 : (_response$data4$rank = _response$data4.rank) === null || _response$data4$rank === void 0 ? void 0 : _response$data4$rank.rankCode) {\n            DeterminigPromotionRankList(response.data);\n          }\n        } else {\n          setDgnInputObj({ ...dgnInputObj,\n            employee: { ...dgnObj.employee,\n              [name]: value\n            }\n          });\n        }\n      });\n    } else {\n      setDgnInputObj({ ...dgnInputObj,\n        employee: { ...dgnObj.employee,\n          [name]: value\n        }\n      });\n    }\n  };\n\n  function DeterminigPromotionRankList(emp) {\n    var _emp$rank;\n\n    let empRankCode = Number((_emp$rank = emp.rank) === null || _emp$rank === void 0 ? void 0 : _emp$rank.rankCode);\n    let orderArr = [];\n    let rankArr = [];\n    rankOrder.map((item, index) => {\n      if (item === empRankCode) {\n        if (empRankCode == 10) {\n          orderArr = [item];\n        } else if (empRankCode == 4 || empRankCode == 5 || empRankCode == 12) {\n          orderArr = [item, rankOrder[index + 1], rankOrder[index + 2]];\n        } else {\n          orderArr = [item, rankOrder[index + 1]];\n        }\n      }\n    });\n    orderArr.map((item, index) => {\n      allRankList.map((itm, indx) => {\n        if (item === Number(itm.rankCode)) {\n          rankArr = [...rankArr, itm];\n        }\n      });\n    });\n    setRankList(rankArr);\n  }\n\n  const AuditorSave = () => {\n    console.log(dgnInputObj);\n    let valid = true;\n    const actionableRequiredField = {\n      dak: {},\n      dgnAuthority: \"\",\n      dgnDate: \"\",\n      employee: {\n        icNo: \"\",\n        cdaoNo: \"\",\n        officerName: \"\",\n        rank: {\n          rankName: \"\"\n        }\n      },\n      rank: {},\n      promotDate: \"\"\n    };\n\n    for (let x in actionableRequiredField) {\n      if (!dgnInputObj.actionable && (x === \"rank\" || x === \"promotDate\")) continue;\n\n      if (typeof dgnInputObj[x] === \"object\") {\n        if (!dgnInputObj[x][\"id\"]) {\n          valid = false;\n          break;\n        }\n      } else {\n        if (!dgnInputObj[x]) {\n          valid = false;\n          break;\n        }\n      }\n    }\n\n    console.log(\"valid >> \", valid);\n    let dgnNewObj = { ...dgnInputObj\n    };\n\n    if (!dgnNewObj.rank.id) {\n      dgnNewObj = { ...dgnNewObj,\n        rank: null\n      };\n    }\n\n    console.log(dgnNewObj);\n\n    if (valid) {\n      axios.post(`/dgn/audSave`, dgnNewObj).then(response => {\n        console.log(response.data);\n\n        if (response.data == \"ok\") {\n          window.location.reload(); // FetchDgnData();\n        }\n      });\n    }\n  };\n\n  const FinalSubmit = () => {\n    axios.put(`/dgn/submit/${dakId}`).then(response => {\n      console.log(response.data);\n\n      if (response.data == \"ok\") {\n        history.push(\"/dgns\");\n      }\n    });\n  };\n\n  const RollBackDgnDak = () => {\n    axios.put(`/dgn/rollBack/${dakId}`).then(response => {\n      console.log(response.data);\n\n      if (response.data == \"ok\") {\n        history.push(\"/dgns\");\n      }\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-3\",\n            children: /*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"text-center underline\",\n              children: [\"Dgn\", (dak === null || dak === void 0 ? void 0 : dak.disposalApproved) ? \" View\" : ` ${dakId == \"new\" ? \"Add\" : \"Edit\"}`]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 237,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-around\",\n            children: [(usr === null || usr === void 0 ? void 0 : (_usr$designation = usr.designation) === null || _usr$designation === void 0 ? void 0 : _usr$designation.designationLevel) < 30 && !(dak === null || dak === void 0 ? void 0 : dak.disposalApproved) && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-green-200 px-3 py-3 rounded-xl flex flex-col justify-between m-0\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"p-0 \",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mt-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    children: \"DGN No\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 250,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"p-0\",\n                    children: /*#__PURE__*/_jsxDEV(\"input\", {\n                      className: \"px-2 py-1\",\n                      name: \"dgnAuthority\",\n                      value: dgnInputObj.dgnAuthority,\n                      onChange: e => handleInputChange(e),\n                      disabled: dgnData.length > 0\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 252,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 251,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 249,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mt-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    children: \"DGN Date\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 262,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"p-0\",\n                    children: /*#__PURE__*/_jsxDEV(\"input\", {\n                      className: \"w-full px-2 py-1\",\n                      name: \"dgnDate\",\n                      type: \"date\",\n                      value: dgnInputObj.dgnDate,\n                      onChange: e => handleInputChange(e),\n                      disabled: dgnData.length > 0\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 264,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 263,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 261,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mt-3\",\n                  children: /*#__PURE__*/_jsxDEV(\"label\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"p-0\",\n                      children: /*#__PURE__*/_jsxDEV(\"input\", {\n                        className: \"px-2 py-1 w-10 h-10 mx-3\",\n                        name: \"actionable\",\n                        type: \"checkbox\",\n                        checked: dgnInputObj.actionable,\n                        onChange: e => {\n                          const {\n                            name,\n                            checked\n                          } = e.target;\n                          setDgnInputObj({ ...dgnInputObj,\n                            [name]: checked\n                          });\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 278,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 277,\n                      columnNumber: 27\n                    }, this), \"Actionable\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 276,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 275,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mt-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    children: \"IC No\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 296,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"p-0\",\n                    children: /*#__PURE__*/_jsxDEV(\"input\", {\n                      className: \"px-2 py-1\",\n                      maxLength: 8,\n                      name: \"icNo\",\n                      value: (_dgnInputObj$employee = dgnInputObj.employee) === null || _dgnInputObj$employee === void 0 ? void 0 : _dgnInputObj$employee.icNo,\n                      onChange: e => handleIcNoInputChange(e)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 298,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 297,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 295,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mt-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    children: \"Cdao No\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 308,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"p-0\",\n                    children: /*#__PURE__*/_jsxDEV(\"input\", {\n                      className: \"px-2 py-1\",\n                      maxLength: 6,\n                      name: \"cdaoNo\",\n                      value: (_dgnInputObj$employee2 = dgnInputObj.employee) === null || _dgnInputObj$employee2 === void 0 ? void 0 : _dgnInputObj$employee2.cdaoNo,\n                      onChange: e => handleCdaoNoInputChange(e)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 310,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 309,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 307,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mt-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    children: \"Officer Name\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 320,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"p-0\",\n                    children: /*#__PURE__*/_jsxDEV(\"input\", {\n                      className: \"px-2 py-1\",\n                      name: \"cdaoNo\",\n                      value: (_dgnInputObj$employee3 = dgnInputObj.employee) === null || _dgnInputObj$employee3 === void 0 ? void 0 : _dgnInputObj$employee3.officerName,\n                      readOnly: true\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 322,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 321,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 319,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mt-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    children: \"Current Rank\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 331,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"p-0\",\n                    children: /*#__PURE__*/_jsxDEV(\"input\", {\n                      className: \"px-2 py-1\",\n                      name: \"cdaoNo\",\n                      value: ((_dgnInputObj$employee4 = dgnInputObj.employee) === null || _dgnInputObj$employee4 === void 0 ? void 0 : (_dgnInputObj$employee5 = _dgnInputObj$employee4.rank) === null || _dgnInputObj$employee5 === void 0 ? void 0 : _dgnInputObj$employee5.rankCode) + \" \" + ((_dgnInputObj$employee6 = dgnInputObj.employee) === null || _dgnInputObj$employee6 === void 0 ? void 0 : (_dgnInputObj$employee7 = _dgnInputObj$employee6.rank) === null || _dgnInputObj$employee7 === void 0 ? void 0 : _dgnInputObj$employee7.rankName),\n                      readOnly: true\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 333,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 332,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 330,\n                  columnNumber: 23\n                }, this), dgnInputObj.actionable ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"mt-3\",\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      children: \"Promoted Rank\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 348,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"p-0\",\n                      children: /*#__PURE__*/_jsxDEV(\"select\", {\n                        className: \"w-full bg-white px-2 py-1\",\n                        value: (_dgnInputObj$rank = dgnInputObj.rank) === null || _dgnInputObj$rank === void 0 ? void 0 : _dgnInputObj$rank.id,\n                        onChange: e => {\n                          allRankList.map((itm, indx) => {\n                            if (itm.id == e.target.value) {\n                              setDgnInputObj({ ...dgnInputObj,\n                                rank: itm\n                              });\n                            }\n                          });\n                        },\n                        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                          children: \"--Select Rank--\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 364,\n                          columnNumber: 33\n                        }, this), rankList === null || rankList === void 0 ? void 0 : rankList.map((item, index) => /*#__PURE__*/_jsxDEV(\"option\", {\n                          value: item.id,\n                          children: [item.rankCode, \" \", item.rankName]\n                        }, index, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 366,\n                          columnNumber: 35\n                        }, this))]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 350,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 349,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 347,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"mt-3\",\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      children: \"Date of Promotion\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 374,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"p-0\",\n                      children: /*#__PURE__*/_jsxDEV(\"input\", {\n                        className: \"w-full px-2 py-1\",\n                        name: \"promotDate\",\n                        type: \"date\",\n                        value: dgnInputObj.promotDate,\n                        onChange: e => handleInputChange(e)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 376,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 375,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 373,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true) : /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mt-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    children: \"Remarks\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 388,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"p-0\",\n                    children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n                      className: \"w-full px-2 py-1\",\n                      name: \"remarks\",\n                      value: dgnInputObj.remarks,\n                      onChange: e => handleInputChange(e)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 390,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 389,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 387,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => AuditorSave(),\n                    children: \"Save\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 400,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 399,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 248,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"h-32 flex justify-center items-center font-bold m-0 p-0\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"bg-white px-3 py-2 m-0 p-0\",\n                  children: [\"Updated DGN Records: \", dgnData === null || dgnData === void 0 ? void 0 : dgnData.length]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 404,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 403,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 247,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"overflow-auto \",\n              style: {\n                maxHeight: \"80vh\"\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"\",\n                children: /*#__PURE__*/_jsxDEV(\"table\", {\n                  className: \" bg-white relative\",\n                  children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                    className: \" sticky top-0 bg-green-200 \",\n                    children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                      className: \"\",\n                      children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                        className: \"text-center px-2 py-1\",\n                        children: \"Sl No\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 416,\n                        columnNumber: 25\n                      }, this), !(dak === null || dak === void 0 ? void 0 : dak.disposalApproved) ? (usr === null || usr === void 0 ? void 0 : (_usr$designation2 = usr.designation) === null || _usr$designation2 === void 0 ? void 0 : _usr$designation2.designationLevel) < 30 && !(dak === null || dak === void 0 ? void 0 : dak.auditorDate) && /*#__PURE__*/_jsxDEV(\"th\", {\n                        className: \"text-center px-4 py-1\",\n                        children: \"Action\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 420,\n                        columnNumber: 31\n                      }, this) : \"\", /*#__PURE__*/_jsxDEV(\"th\", {\n                        className: \"text-center px-4 py-1\",\n                        children: \"DGN Authority\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 424,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                        className: \"text-center px-4 py-1\",\n                        children: \"IC No\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 425,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                        className: \"text-center px-4 py-1\",\n                        children: \"CDAO No\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 426,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                        className: \"text-center px-4 py-1\",\n                        children: \"Officer Name\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 427,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                        className: \"text-center px-4 py-1\",\n                        children: \"Promoted Rank\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 428,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                        className: \"text-center px-4 py-1\",\n                        children: \"Promotion Date\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 429,\n                        columnNumber: 25\n                      }, this), !(dak === null || dak === void 0 ? void 0 : dak.disposalApproved) && /*#__PURE__*/_jsxDEV(\"th\", {\n                        className: \"text-center px-4 py-1\",\n                        children: \"Action\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 433,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 415,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 414,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                    children: dgnData && dgnData.map((item, index) => {\n                      var _usr$designation3, _item$rank, _item$rank2;\n\n                      return /*#__PURE__*/_jsxDEV(\"tr\", {\n                        className: `border-l-2 border-r-2 border-b-2 border-gray-200 ${index % 2 === 0 ? \"bg-white \" : \"bg-gray-200\"}`,\n                        children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                          className: \"text-center px-2 py-2 \",\n                          children: index + 1\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 446,\n                          columnNumber: 29\n                        }, this), !(dak === null || dak === void 0 ? void 0 : dak.disposalApproved) ? (usr === null || usr === void 0 ? void 0 : (_usr$designation3 = usr.designation) === null || _usr$designation3 === void 0 ? void 0 : _usr$designation3.designationLevel) < 30 && !(dak === null || dak === void 0 ? void 0 : dak.auditorDate) && /*#__PURE__*/_jsxDEV(\"td\", {\n                          className: \"text-center px-2 py-2\",\n                          children: /*#__PURE__*/_jsxDEV(\"button\", {\n                            className: \"m-0 \",\n                            onClick: () => {\n                              setDgnInputObj(dgnData[index]);\n                            },\n                            children: \"Edit\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 453,\n                            columnNumber: 37\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 452,\n                          columnNumber: 35\n                        }, this) : \"\", /*#__PURE__*/_jsxDEV(\"td\", {\n                          className: \"text-center px-2 py-2\",\n                          children: item.dgnAuthority\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 465,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                          className: \"text-center px-2 py-2\",\n                          children: item.employee.icNo\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 468,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                          className: \"text-center px-2 py-2\",\n                          children: item.employee.cdaoNo\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 471,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                          className: \"text-left px-2 py-2\",\n                          children: [`(${item.employee.rank.rankCode})`, \" \", item.employee.rank.rankName, \" \", item.employee.officerName]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 474,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                          className: \"text-center px-2 py-2\",\n                          children: [`(${(_item$rank = item.rank) === null || _item$rank === void 0 ? void 0 : _item$rank.rankCode}) `, (_item$rank2 = item.rank) === null || _item$rank2 === void 0 ? void 0 : _item$rank2.rankName]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 479,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                          className: \"text-center px-2 py-2\",\n                          children: item.promotDate\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 483,\n                          columnNumber: 29\n                        }, this), !(dak === null || dak === void 0 ? void 0 : dak.disposalApproved) && /*#__PURE__*/_jsxDEV(\"td\", {\n                          className: \"text-center px-2 py-2\",\n                          children: /*#__PURE__*/_jsxDEV(\"button\", {\n                            className: \"m-0 bg-red-500 hover:bg-red-700\",\n                            onClick: () => {\n                              axios.put(`/dgn/delete/${item.id}`).then(response => {\n                                if (response.data == \"ok\") {\n                                  window.location.reload();\n                                }\n                              });\n                            },\n                            children: \"Delete\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 488,\n                            columnNumber: 33\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 487,\n                          columnNumber: 31\n                        }, this)]\n                      }, index, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 440,\n                        columnNumber: 27\n                      }, this);\n                    })\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 437,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 413,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 411,\n                columnNumber: 17\n              }, this), (dgnData.length > 0 && (usr === null || usr === void 0 ? void 0 : (_usr$designation4 = usr.designation) === null || _usr$designation4 === void 0 ? void 0 : _usr$designation4.designationLevel) < 30 || (usr === null || usr === void 0 ? void 0 : (_usr$designation5 = usr.designation) === null || _usr$designation5 === void 0 ? void 0 : _usr$designation5.designationLevel) >= 30) && !(dak === null || dak === void 0 ? void 0 : dak.disposalApproved) && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-center mt-6\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"w-7/12 flex\",\n                  children: [(usr === null || usr === void 0 ? void 0 : (_usr$designation6 = usr.designation) === null || _usr$designation6 === void 0 ? void 0 : _usr$designation6.designationLevel) >= 30 && /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"m-2 bg-red-500\",\n                    onClick: () => RollBackDgnDak(),\n                    children: \"Roll Back\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 516,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"m-2\",\n                    onClick: () => FinalSubmit(),\n                    children: [(usr === null || usr === void 0 ? void 0 : (_usr$designation7 = usr.designation) === null || _usr$designation7 === void 0 ? void 0 : _usr$designation7.designationLevel) < 30 && \"Final Submit\", (usr === null || usr === void 0 ? void 0 : (_usr$designation8 = usr.designation) === null || _usr$designation8 === void 0 ? void 0 : _usr$designation8.designationLevel) == 30 && \"Submit\", (usr === null || usr === void 0 ? void 0 : (_usr$designation9 = usr.designation) === null || _usr$designation9 === void 0 ? void 0 : _usr$designation9.designationLevel) > 30 && \"Approve\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 523,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"m-2 bg-red-400\",\n                    onClick: () => history.push(\"/dgnsNew/dakList\"),\n                    children: \"Exit\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 530,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 514,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 513,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 410,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 232,\n    columnNumber: 5\n  }, this);\n}\n\nexport default DgnEdit;","map":{"version":3,"sources":["/home/itsdc3/Imp Tulip files/falconws160424/falconws/falcon_face/src/components/DgnEdit.js"],"names":["axios","useEffect","useMemo","useState","Link","useHistory","useParams","TableCopy","DgnEdit","dakId","history","dgnObj","cdaoNo","dak","promotDate","dgnDate","dgnAuthority","employee","icNo","officerName","rank","rankName","action","actionable","remarks","setDak","dgnData","setDgnData","dgnInputObj","setDgnInputObj","rankOrder","setRankOrder","allRankList","setAllRankList","rankList","setRankList","usr","setUsr","user","JSON","parse","sessionStorage","getItem","console","log","get","then","response","data","dakidNo","id","FetchDgnData","length","handleInputChange","e","name","value","target","handleIcNoInputChange","toUpperCase","rankCode","DeterminigPromotionRankList","handleCdaoNoInputChange","emp","empRankCode","Number","orderArr","rankArr","map","item","index","itm","indx","AuditorSave","valid","actionableRequiredField","x","dgnNewObj","post","window","location","reload","FinalSubmit","put","push","RollBackDgnDak","disposalApproved","designation","designationLevel","checked","maxHeight","auditorDate"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nimport { useEffect, useMemo, useState } from \"react\";\nimport {\n  Link,\n  useHistory,\n  useParams,\n} from \"react-router-dom/cjs/react-router-dom.min\";\nimport TableCopy from \"../utils/TableCopy\";\n\nfunction DgnEdit() {\n  let { dakId } = useParams();\n  let history = useHistory();\n\n  const dgnObj = {\n    cdaoNo: \"\",\n    dak: {},\n    promotDate: \"\",\n    dgnDate: \"\",\n    dgnAuthority: \"\",\n    employee: { icNo: \"\", cdaoNo: \"\", officerName: \"\", rank: { rankName: \"\" } },\n    rank: {},\n    action: \"\",\n    actionable: true,\n    remarks: \"\",\n  };\n\n  const [dak, setDak] = useState({});\n  const [dgnData, setDgnData] = useState([]);\n  const [dgnInputObj, setDgnInputObj] = useState(dgnObj);\n  const [rankOrder, setRankOrder] = useState([\n    1, 2, 3, 4, 14, 5, 15, 6, 7, 8, 9, 11, 12, 13, 10,\n  ]);\n  const [allRankList, setAllRankList] = useState();\n  const [rankList, setRankList] = useState([]);\n  const [usr, setUsr] = useState({});\n\n  useEffect(() => {\n    let user = JSON.parse(sessionStorage.getItem(\"usr\"));\n    setUsr(user);\n  }, []);\n\n  useEffect(() => {\n    if (dakId !== \"new\") {\n      console.log(\"dakId >>> \", dakId);\n      axios.get(`/daks/${dakId}`).then((response) => {\n        if (response.data?.dakidNo) {\n          console.log(\"dak data >>> \", response.data);\n          setDak(response.data);\n          setDgnInputObj({ ...dgnInputObj, dak: response.data });\n        }\n      });\n    }\n  }, [dakId]);\n\n  useEffect(() => {\n    if (dgnInputObj.dak?.id) {\n      FetchDgnData();\n    }\n  }, [dgnInputObj.dak.id]);\n\n  async function FetchDgnData() {\n    await axios.get(`/dgn/fkdak/${dgnInputObj.dak.id}`).then((response) => {\n      console.log(response.data);\n      if (response.data?.length > 0) {\n        setDgnData(response.data);\n        setDgnInputObj({\n          ...dgnObj,\n          dak: dgnInputObj.dak,\n          dgnAuthority: response.data[0].dgnAuthority,\n          dgnDate: response.data[0]?.dgnDate,\n          actionable: response.data[0]?.actionable,\n        });\n      }\n    });\n  }\n\n  useEffect(() => {\n    axios.get(`/ranks/allRanks`).then((response) => {\n      setAllRankList(response.data);\n    });\n  }, []);\n\n  const handleInputChange = (e) => {\n    const { name, value } = e.target;\n    setDgnInputObj({ ...dgnInputObj, [name]: value });\n  };\n\n  const handleIcNoInputChange = (e) => {\n    let { name, value } = e.target;\n    value = value.toUpperCase();\n    if (value.length > 6 && value.length < 10) {\n      axios.get(`/employees/byIcNo/${value}`).then((response) => {\n        if (response.data.icNo) {\n          console.log(\"employee data >>> \", response.data);\n          setDgnInputObj({ ...dgnInputObj, employee: response.data });\n          if (response.data?.rank?.rankCode) {\n            DeterminigPromotionRankList(response.data);\n          }\n        } else {\n          setDgnInputObj({\n            ...dgnInputObj,\n            employee: { ...dgnObj.employee, [name]: value },\n          });\n        }\n      });\n    } else {\n      setDgnInputObj({\n        ...dgnInputObj,\n        employee: { ...dgnObj.employee, [name]: value },\n      });\n    }\n  };\n\n  const handleCdaoNoInputChange = (e) => {\n    const { name, value } = e.target;\n    if (value.length == 6) {\n      axios.get(`/employees/byCdaoNo/${value}`).then((response) => {\n        if (response.data.cdaoNo) {\n          console.log(\"employee data >>> \", response.data);\n          setDgnInputObj({ ...dgnInputObj, employee: response.data });\n          if (response.data?.rank?.rankCode) {\n            DeterminigPromotionRankList(response.data);\n          }\n        } else {\n          setDgnInputObj({\n            ...dgnInputObj,\n            employee: { ...dgnObj.employee, [name]: value },\n          });\n        }\n      });\n    } else {\n      setDgnInputObj({\n        ...dgnInputObj,\n        employee: { ...dgnObj.employee, [name]: value },\n      });\n    }\n  };\n\n  function DeterminigPromotionRankList(emp) {\n    let empRankCode = Number(emp.rank?.rankCode);\n    let orderArr = [];\n    let rankArr = [];\n    rankOrder.map((item, index) => {\n      if (item === empRankCode) {\n        if (empRankCode == 10) {\n          orderArr = [item];\n        } else if (empRankCode == 4 || empRankCode == 5 || empRankCode == 12) {\n          orderArr = [item, rankOrder[index + 1], rankOrder[index + 2]];\n        } else {\n          orderArr = [item, rankOrder[index + 1]];\n        }\n      }\n    });\n    orderArr.map((item, index) => {\n      allRankList.map((itm, indx) => {\n        if (item === Number(itm.rankCode)) {\n          rankArr = [...rankArr, itm];\n        }\n      });\n    });\n    setRankList(rankArr);\n  }\n\n  const AuditorSave = () => {\n    console.log(dgnInputObj);\n    let valid = true;\n    const actionableRequiredField = {\n      dak: {},\n      dgnAuthority: \"\",\n      dgnDate: \"\",\n      employee: {\n        icNo: \"\",\n        cdaoNo: \"\",\n        officerName: \"\",\n        rank: { rankName: \"\" },\n      },\n      rank: {},\n      promotDate: \"\",\n    };\n    for (let x in actionableRequiredField) {\n      if (!dgnInputObj.actionable && (x === \"rank\" || x === \"promotDate\"))\n        continue;\n      if (typeof dgnInputObj[x] === \"object\") {\n        if (!dgnInputObj[x][\"id\"]) {\n          valid = false;\n          break;\n        }\n      } else {\n        if (!dgnInputObj[x]) {\n          valid = false;\n          break;\n        }\n      }\n    }\n    console.log(\"valid >> \", valid);\n    let dgnNewObj = { ...dgnInputObj };\n    if (!dgnNewObj.rank.id) {\n      dgnNewObj = { ...dgnNewObj, rank: null };\n    }\n    console.log(dgnNewObj);\n\n    if (valid) {\n      axios.post(`/dgn/audSave`, dgnNewObj).then((response) => {\n        console.log(response.data);\n        if (response.data == \"ok\") {\n          window.location.reload();\n          // FetchDgnData();\n        }\n      });\n    }\n  };\n\n  const FinalSubmit = () => {\n    axios.put(`/dgn/submit/${dakId}`).then((response) => {\n      console.log(response.data);\n      if (response.data == \"ok\") {\n        history.push(\"/dgns\");\n      }\n    });\n  };\n\n  const RollBackDgnDak = () => {\n    axios.put(`/dgn/rollBack/${dakId}`).then((response) => {\n      console.log(response.data);\n      if (response.data == \"ok\") {\n        history.push(\"/dgns\");\n      }\n    });\n  };\n\n  return (\n    <div className=\"\">\n      <div>\n        <div>\n          <div>\n            <div className=\"mb-3\">\n              <h1 className=\"text-center underline\">\n                Dgn\n                {dak?.disposalApproved\n                  ? \" View\"\n                  : ` ${dakId == \"new\" ? \"Add\" : \"Edit\"}`}\n              </h1>\n            </div>\n            <div className=\"flex justify-around\">\n              {usr?.designation?.designationLevel < 30 &&\n                !dak?.disposalApproved && (\n                  <div className=\"bg-green-200 px-3 py-3 rounded-xl flex flex-col justify-between m-0\">\n                    <div className=\"p-0 \">\n                      <div className=\"mt-3\">\n                        <label>DGN No</label>\n                        <div className=\"p-0\">\n                          <input\n                            className=\"px-2 py-1\"\n                            name=\"dgnAuthority\"\n                            value={dgnInputObj.dgnAuthority}\n                            onChange={(e) => handleInputChange(e)}\n                            disabled={dgnData.length > 0}\n                          />\n                        </div>\n                      </div>\n                      <div className=\"mt-3\">\n                        <label>DGN Date</label>\n                        <div className=\"p-0\">\n                          <input\n                            className=\"w-full px-2 py-1\"\n                            name=\"dgnDate\"\n                            type=\"date\"\n                            value={dgnInputObj.dgnDate}\n                            onChange={(e) => handleInputChange(e)}\n                            disabled={dgnData.length > 0}\n                          />\n                        </div>\n                      </div>\n\n                      <div className=\"mt-3\">\n                        <label>\n                          <span className=\"p-0\">\n                            <input\n                              className=\"px-2 py-1 w-10 h-10 mx-3\"\n                              name=\"actionable\"\n                              type=\"checkbox\"\n                              checked={dgnInputObj.actionable}\n                              onChange={(e) => {\n                                const { name, checked } = e.target;\n                                setDgnInputObj({\n                                  ...dgnInputObj,\n                                  [name]: checked,\n                                });\n                              }}\n                            />\n                          </span>\n                          Actionable\n                        </label>\n                      </div>\n                      <div className=\"mt-3\">\n                        <label>IC No</label>\n                        <div className=\"p-0\">\n                          <input\n                            className=\"px-2 py-1\"\n                            maxLength={8}\n                            name=\"icNo\"\n                            value={dgnInputObj.employee?.icNo}\n                            onChange={(e) => handleIcNoInputChange(e)}\n                          />\n                        </div>\n                      </div>\n                      <div className=\"mt-3\">\n                        <label>Cdao No</label>\n                        <div className=\"p-0\">\n                          <input\n                            className=\"px-2 py-1\"\n                            maxLength={6}\n                            name=\"cdaoNo\"\n                            value={dgnInputObj.employee?.cdaoNo}\n                            onChange={(e) => handleCdaoNoInputChange(e)}\n                          />\n                        </div>\n                      </div>\n                      <div className=\"mt-3\">\n                        <label>Officer Name</label>\n                        <div className=\"p-0\">\n                          <input\n                            className=\"px-2 py-1\"\n                            name=\"cdaoNo\"\n                            value={dgnInputObj.employee?.officerName}\n                            readOnly\n                          />\n                        </div>\n                      </div>\n                      <div className=\"mt-3\">\n                        <label>Current Rank</label>\n                        <div className=\"p-0\">\n                          <input\n                            className=\"px-2 py-1\"\n                            name=\"cdaoNo\"\n                            value={\n                              dgnInputObj.employee?.rank?.rankCode +\n                              \" \" +\n                              dgnInputObj.employee?.rank?.rankName\n                            }\n                            readOnly\n                          />\n                        </div>\n                      </div>\n                      {dgnInputObj.actionable ? (\n                        <>\n                          <div className=\"mt-3\">\n                            <label>Promoted Rank</label>\n                            <div className=\"p-0\">\n                              <select\n                                className=\"w-full bg-white px-2 py-1\"\n                                value={dgnInputObj.rank?.id}\n                                onChange={(e) => {\n                                  allRankList.map((itm, indx) => {\n                                    if (itm.id == e.target.value) {\n                                      setDgnInputObj({\n                                        ...dgnInputObj,\n                                        rank: itm,\n                                      });\n                                    }\n                                  });\n                                }}\n                              >\n                                <option>--Select Rank--</option>\n                                {rankList?.map((item, index) => (\n                                  <option value={item.id} key={index}>\n                                    {item.rankCode} {item.rankName}\n                                  </option>\n                                ))}\n                              </select>\n                            </div>\n                          </div>\n                          <div className=\"mt-3\">\n                            <label>Date of Promotion</label>\n                            <div className=\"p-0\">\n                              <input\n                                className=\"w-full px-2 py-1\"\n                                name=\"promotDate\"\n                                type=\"date\"\n                                value={dgnInputObj.promotDate}\n                                onChange={(e) => handleInputChange(e)}\n                              />\n                            </div>\n                          </div>\n                        </>\n                      ) : (\n                        <div className=\"mt-3\">\n                          <label>Remarks</label>\n                          <div className=\"p-0\">\n                            <textarea\n                              className=\"w-full px-2 py-1\"\n                              name=\"remarks\"\n                              value={dgnInputObj.remarks}\n                              onChange={(e) => handleInputChange(e)}\n                            />\n                          </div>\n                        </div>\n                      )}\n                      <div>\n                        <button onClick={() => AuditorSave()}>Save</button>\n                      </div>\n                    </div>\n                    <div className=\"h-32 flex justify-center items-center font-bold m-0 p-0\">\n                      <div className=\"bg-white px-3 py-2 m-0 p-0\">\n                        Updated DGN Records: {dgnData?.length}\n                      </div>\n                    </div>\n                  </div>\n                )}\n              <div className=\"overflow-auto \" style={{ maxHeight: \"80vh\" }}>\n                <div className=\"\">\n                  {/* <TableCopy data={dgnData} columns={columns} /> */}\n                  <table className=\" bg-white relative\">\n                    <thead className=\" sticky top-0 bg-green-200 \">\n                      <tr className=\"\">\n                        <th className=\"text-center px-2 py-1\">Sl No</th>\n                        {!dak?.disposalApproved\n                          ? usr?.designation?.designationLevel < 30 &&\n                            !dak?.auditorDate && (\n                              <th className=\"text-center px-4 py-1\">Action</th>\n                            )\n                          : \"\"}\n\n                        <th className=\"text-center px-4 py-1\">DGN Authority</th>\n                        <th className=\"text-center px-4 py-1\">IC No</th>\n                        <th className=\"text-center px-4 py-1\">CDAO No</th>\n                        <th className=\"text-center px-4 py-1\">Officer Name</th>\n                        <th className=\"text-center px-4 py-1\">Promoted Rank</th>\n                        <th className=\"text-center px-4 py-1\">\n                          Promotion Date\n                        </th>\n                        {!dak?.disposalApproved && (\n                          <th className=\"text-center px-4 py-1\">Action</th>\n                        )}\n                      </tr>\n                    </thead>\n                    <tbody>\n                      {dgnData &&\n                        dgnData.map((item, index) => (\n                          <tr\n                            key={index}\n                            className={`border-l-2 border-r-2 border-b-2 border-gray-200 ${\n                              index % 2 === 0 ? \"bg-white \" : \"bg-gray-200\"\n                            }`}\n                          >\n                            <td className=\"text-center px-2 py-2 \">\n                              {index + 1}\n                            </td>\n                            {!dak?.disposalApproved\n                              ? usr?.designation?.designationLevel < 30 &&\n                                !dak?.auditorDate && (\n                                  <td className=\"text-center px-2 py-2\">\n                                    <button\n                                      className=\"m-0 \"\n                                      onClick={() => {\n                                        setDgnInputObj(dgnData[index]);\n                                      }}\n                                    >\n                                      Edit\n                                    </button>\n                                  </td>\n                                )\n                              : \"\"}\n\n                            <td className=\"text-center px-2 py-2\">\n                              {item.dgnAuthority}\n                            </td>\n                            <td className=\"text-center px-2 py-2\">\n                              {item.employee.icNo}\n                            </td>\n                            <td className=\"text-center px-2 py-2\">\n                              {item.employee.cdaoNo}\n                            </td>\n                            <td className=\"text-left px-2 py-2\">\n                              {`(${item.employee.rank.rankCode})`}{\" \"}\n                              {item.employee.rank.rankName}{\" \"}\n                              {item.employee.officerName}\n                            </td>\n                            <td className=\"text-center px-2 py-2\">\n                              {`(${item.rank?.rankCode}) `}\n                              {item.rank?.rankName}\n                            </td>\n                            <td className=\"text-center px-2 py-2\">\n                              {item.promotDate}\n                            </td>\n                            {!dak?.disposalApproved && (\n                              <td className=\"text-center px-2 py-2\">\n                                <button\n                                  className=\"m-0 bg-red-500 hover:bg-red-700\"\n                                  onClick={() => {\n                                    axios\n                                      .put(`/dgn/delete/${item.id}`)\n                                      .then((response) => {\n                                        if (response.data == \"ok\") {\n                                          window.location.reload();\n                                        }\n                                      });\n                                  }}\n                                >\n                                  Delete\n                                </button>\n                              </td>\n                            )}\n                          </tr>\n                        ))}\n                    </tbody>\n                  </table>\n                </div>\n                {((dgnData.length > 0 &&\n                  usr?.designation?.designationLevel < 30) ||\n                  usr?.designation?.designationLevel >= 30) &&\n                  !dak?.disposalApproved && (\n                    <div className=\"flex justify-center mt-6\">\n                      <div className=\"w-7/12 flex\">\n                        {usr?.designation?.designationLevel >= 30 && (\n                          <button\n                            className=\"m-2 bg-red-500\"\n                            onClick={() => RollBackDgnDak()}\n                          >\n                            Roll Back\n                          </button>\n                        )}\n                        <button className=\"m-2\" onClick={() => FinalSubmit()}>\n                          {usr?.designation?.designationLevel < 30 &&\n                            \"Final Submit\"}\n                          {usr?.designation?.designationLevel == 30 && \"Submit\"}\n                          {usr?.designation?.designationLevel > 30 && \"Approve\"}\n                        </button>\n\n                        <button\n                          className=\"m-2 bg-red-400\"\n                          onClick={() => history.push(\"/dgnsNew/dakList\")}\n                        >\n                          Exit\n                        </button>\n                      </div>\n                    </div>\n                  )}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\nexport default DgnEdit;\n"]},"metadata":{},"sourceType":"module"}