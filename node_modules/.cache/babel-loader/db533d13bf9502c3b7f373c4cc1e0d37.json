{"ast":null,"code":"import _toConsumableArray from\"/home/itsdcsec/falconws/falcon_face/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _defineProperty from\"/home/itsdcsec/falconws/falcon_face/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _regeneratorRuntime from\"/home/itsdcsec/falconws/falcon_face/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _objectSpread from\"/home/itsdcsec/falconws/falcon_face/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _asyncToGenerator from\"/home/itsdcsec/falconws/falcon_face/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/itsdcsec/falconws/falcon_face/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";/**\n * Code generated using Python\n * @author Raja Reddy\n * Date : 17 Oct 2021\n *\n * Modified By :\n */import{useState,useEffect}from\"react\";import{withRouter,useParams,useHistory}from\"react-router-dom\";import{useForm}from\"react-hook-form\";import axios from\"axios\";import*as yup from\"yup\";import{yupResolver}from\"@hookform/resolvers/yup\";import LiveSearch from\"../utils/LiveSearch\";import DatePicker from\"react-datepicker\";import\"react-datepicker/dist/react-datepicker.css\";import addDays from\"date-fns/addDays\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var schema=yup.object({//   cdaCode: yup.string().required('Required'),\n//    subOfficeCode: yup.string().required('Required'),\n//     minNo: yup.string().required('Required'),\n//    transactionNo: yup.string().required('Required'),\n//     transactionDate: yup.string().required('Required'),\n//    organisation: yup.string().required('Required'),\n//    depositorName: yup.string().required('Required'),\n//    personnnelNo: yup.string().required('Required'),\n//    pcdaoNo: yup.string().required('Required'),\n//    mobileNo: yup.string().required('Required'),\n//    address: yup.string().required('Required'),\n//     amount: yup.number().required('Required'),\n//   paymentNature: yup.string().required('Required'),\n//  emroOffice: yup.string().required('Required'),\n//   remarks: yup.string().required('Required'),\n//     teNoAccountsSec: yup.number().integer().required('Required'),\n//   teMonthAccountsSec: yup.string().required('Required'),\n//    teDateAccountsSec: yup.string().required('Required'),\n//    dakAccountsSec: yup.object().required('Required'),\n//    auditSec: yup.object().required('Required'),\n//    teNoAuditSec: yup.number().integer().required('Required'),\n//    teMonthAuditSec: yup.string().required('Required'),\n//    teDateAuditSec: yup.string().required('Required'),\n//    dakAuditSec: yup.object().required('Required'),\n//    remarksAccountsSec: yup.string().required('Required'),\n//    remarksAuditSec: yup.string().required('Required'),\n//    serviceHead: yup.string().required('Required'),\n//    unit: yup.object().required('Required'),\n//    projectCode: yup.string().required('Required'),\n//   auditorDateAuditSec: yup.string().required('Required'),\n//   aaoDateAuditSec: yup.string().required('Required'),\n//     aoDateAuditSec: yup.string().required('Required'),\n//    auditorDateAccountsSec: yup.string().required('Required'),\n//     aaoDateAccountsSec: yup.string().required('Required'),\n//    aoDateAccountsSec: yup.string().required('Required'),\n//     recordStatusAudit: yup.string().required('Required'),\n//    recordStatusAccounts: yup.string().required('Required'),\n//     approvedAudit: yup.boolean().required('Required'),\n//    approvedAccounts: yup.boolean().required('Required'),\n//    reasonAuditSec: yup.string().required('Required'),\n//   reasonAccounts: yup.string().required('Required'),\n//   scrollDate: yup.string().required('Required'),\n});var OmroEdit=function OmroEdit(){var _errors$mroDate,_errors$minNo,_errors$remittanceDet,_errors$licMaturityFi;var _useForm=useForm({resolver:yupResolver(schema)}),register=_useForm.register,handleSubmit=_useForm.handleSubmit,setValue=_useForm.setValue,errors=_useForm.formState.errors,clearErrors=_useForm.clearErrors;var _useParams=useParams(),id=_useParams.id;//console.log(id);\nvar history=useHistory();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),serverErrors=_useState2[0],setServerErrors=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),entity=_useState4[0],setEntity=_useState4[1];var _useState5=useState({}),_useState6=_slicedToArray(_useState5,2),state=_useState6[0],setState=_useState6[1];var _useState7=useState(true),_useState8=_slicedToArray(_useState7,2),loading=_useState8[0],setLoading=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),dakidNo=_useState10[0],setDakidNo=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),monthEnding=_useState12[0],setMonthEnding=_useState12[1];var _useState13=useState(\"\"),_useState14=_slicedToArray(_useState13,2),rankName=_useState14[0],setRankName=_useState14[1];var _useState15=useState(\"\"),_useState16=_slicedToArray(_useState15,2),cdaoNo=_useState16[0],setCdaoNo=_useState16[1];var _useState17=useState(\"\"),_useState18=_slicedToArray(_useState17,2),name=_useState18[0],setName=_useState18[1];var _useState19=useState([{codeHead:\"\",signRc:\"\",amount:\"\"}]),_useState20=_slicedToArray(_useState19,2),pmDetailObj=_useState20[0],setPmDetailObj=_useState20[1];// const [pmDetail, setPmDetail] = useState([{receiptCodeHead: \"\", chargeCodeHead: \"\",receiptPlusAmount:\"\"\n//   \t\t\t\t,receiptMinusAmount:\"\",chargePlusAmount:\"\",chargeMinusAmount:\"\"}]);\nvar _useState21=useState([{cdaoNo:\"\",plusCharge:\"\",amount:\"\"}]),_useState22=_slicedToArray(_useState21,2),depList=_useState22[0],setDepList=_useState22[1];var _useState23=useState(\"\"),_useState24=_slicedToArray(_useState23,2),secCode=_useState24[0],setSecCode=_useState24[1];// const [secCodeList,setSecCodeList]=useState([]);\n//const [secCodeItems,setSecCodeItems]=useState([]);\nvar _useState25=useState([]),_useState26=_slicedToArray(_useState25,2),pmSecData=_useState26[0],setPmSecData=_useState26[1];var _useState27=useState([]),_useState28=_slicedToArray(_useState27,2),pmSecItems=_useState28[0],setPmSecItems=_useState28[1];var _useState29=useState(),_useState30=_slicedToArray(_useState29,2),pmSecItem=_useState30[0],setPmSecItem=_useState30[1];var _useState31=useState(\"\"),_useState32=_slicedToArray(_useState31,2),mesg=_useState32[0],setMesg=_useState32[1];var _useState33=useState(false),_useState34=_slicedToArray(_useState33,2),disable=_useState34[0],setDisable=_useState34[1];var _useState35=useState(),_useState36=_slicedToArray(_useState35,2),mroAmount=_useState36[0],setmroAmount=_useState36[1];var _useState37=useState(false),_useState38=_slicedToArray(_useState37,2),lic=_useState38[0],setLic=_useState38[1];useEffect(function(){var isCancelled=false;console.log(id);if(id!==\"new\"){function fetchData(){return _fetchData.apply(this,arguments);}function _fetchData(){_fetchData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var record,fields;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:record=\"\";_context.next=3;return axios.get(\"/omros/\"+id).then(function(response){record=response.data;setmroAmount(response.data.amount);}).catch(function(error){//console.log(error);\n//console.log(error.response.status);\n//console.log(error.response.headers);\nif(error.response)setServerErrors(error.response.data.error);else setServerErrors(error.Error);});case 3:fields=[\"id\",\"dak\",\"bank\",\"section\",\"sectionCode\",\"employee\",\"unit\",\"minNo\",\"mroDate\",\"memoNo\",\"memoDate\",\"receivedMonth\",\"adjustmentMonth\",\"voucherNumber\",\"voucherDate\",\"amount\",\"remittanceDetail\",\"auditorDate\",\"aaoDate\",\"aoDate\",\"reason\",\"remarks\",\"otherDepositorDetail\",\"approved\",\"recordStatus\",\"itemAmount\",\"depositorType\",\"panNo\",\"itAmount\",\"projectcode\",\"personalClaimStatus\",\"mroType\",\"cdaoNo\",\"pmDetail\"];console.log(\"%%%%%:\"+record['dak'].dakType.description);setSecCode(record[\"section\"]);setPmDetailObj(record[\"pmDetail\"]);if(record['dak'].dakType.description==='Lic Mro'){setLic(true);}console.log(\"%%%%%SecCode is:\"+secCode);fields.forEach(function(field){return setValue(field,record[field]);});if(!isCancelled){setEntity(record);setState(function(prev){return _objectSpread(_objectSpread({},prev),{},{state:record});});}case 11:case\"end\":return _context.stop();}}},_callee);}));return _fetchData.apply(this,arguments);}fetchData();return function(){isCancelled=true;};}},[id,setValue]);useEffect(function(){var fetching=false;var unmounted=false;function fetchEmpData(){return _fetchEmpData.apply(this,arguments);}function _fetchEmpData(){_fetchEmpData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!(!fetching&&lic===false)){_context2.next=3;break;}_context2.next=3;return axios.get(\"/omros/\".concat(id,\"/empData\")).then(function(response){setCdaoNo(response.data[\"cdaoNo\"]);setName(response.data[\"officerName\"]);}).catch(function(error){//console.log(error);\n//console.log(error.response.status);\n//console.log(error.response.headers);\nif(error.response)setServerErrors(error.response.data.error);else setServerErrors(error.Error);});case 3:case\"end\":return _context2.stop();}}},_callee2);}));return _fetchEmpData.apply(this,arguments);}fetchEmpData();return function(){fetching=true;unmounted=true;};// eslint-disable-next-line react-hooks/exhaustive-deps\n},[id]);useEffect(function(){var fetching=false;var unmounted=false;function fetchRankData(){return _fetchRankData.apply(this,arguments);}function _fetchRankData(){_fetchRankData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:console.log(\"---lic Mro---:\"+lic);if(!(!fetching&&lic===false)){_context3.next=4;break;}_context3.next=4;return axios.get(\"/omros/\".concat(id,\"/rankName\")).then(function(response){setRankName(response.data[\"rankName\"]);}).catch(function(error){//console.log(error);\n//console.log(error.response.status);\n//console.log(error.response.headers);\nif(error.response)setServerErrors(error.response.data.error);else setServerErrors(error.Error);});case 4:case\"end\":return _context3.stop();}}},_callee3);}));return _fetchRankData.apply(this,arguments);}fetchRankData();return function(){fetching=true;unmounted=true;};// eslint-disable-next-line react-hooks/exhaustive-deps\n},[id,lic]);useEffect(function(){var fetching=false;var unmounted=false;function fetchDakData(){return _fetchDakData.apply(this,arguments);}function _fetchDakData(){_fetchDakData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:if(fetching){_context4.next=3;break;}_context4.next=3;return axios.get(\"/omros/\".concat(id,\"/dakid\")).then(function(response){setDakidNo(response.data[\"dakidNo\"]);}).catch(function(error){//console.log(error);\n//console.log(error.response.status);\n//console.log(error.response.headers);\nif(error.response)setServerErrors(error.response.data.error);else setServerErrors(error.Error);});case 3:case\"end\":return _context4.stop();}}},_callee4);}));return _fetchDakData.apply(this,arguments);}fetchDakData();return function(){fetching=true;unmounted=true;};// eslint-disable-next-line react-hooks/exhaustive-deps\n},[id]);useEffect(function(){var fetching=false;var unmounted=false;console.log(\"-------:\"+secCode);function fetchSectionCodeData(){return _fetchSectionCodeData.apply(this,arguments);}function _fetchSectionCodeData(){_fetchSectionCodeData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(){return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:if(!(!fetching&&secCode)){_context5.next=3;break;}_context5.next=3;return axios.get(\"/sectionDvBlocks/\".concat(secCode,\"/sectionData\")).then(function(response){console.log(\"response>>\"+response.data);setPmSecData(response.data);if(!unmounted){setLoading(false);}}).catch(function(error){//console.log(error);\n//console.log(error.response.status);\n//console.log(error.response.headers);\nif(error.response)setServerErrors(error.response.data.error);else setServerErrors(error.Error);});case 3:case\"end\":return _context5.stop();}}},_callee5);}));return _fetchSectionCodeData.apply(this,arguments);}fetchSectionCodeData();return function(){fetching=true;unmounted=true;};// eslint-disable-next-line react-hooks/exhaustive-deps\n},[secCode]);var onSubmit=function onSubmit(data,event){event.preventDefault();setDisable(true);console.log(\"Omro Data \",data);console.log(\"&&&&&&&&---:\"+pmDetailObj.length);console.log(\"&&&&&&&&---:\"+data.pmDetail);if(data.id&&!disable){axios.put(\"/omros/submitAudMro/\"+data.id,data).then(function(response){if(response.status==200){setMesg(response.data[\"reason\"]);history.push(\"/omros\");console.log(\"----***:\"+response.data);}}).catch(function(error){//console.log(error.response.data);\n//console.log(error.response.status);\n//console.log(error.response.headers);\nsetServerErrors(error.response.data[\"reason\"]);});}};var onError=function onError(errors,e){return console.log(errors,e);};//All foreign keys.\n// XXXXXX Add search fields and adjust the values as necessary\nvar parentData={employee:{title:\"Officer\",url:\"employees/all/effective\",searchList:[\"cdaoNo\",\"checkDigit\",\"officerName\"],//XXXXXXXXX Add search fields\nfkEntity:\"employee\",preload:false//XXXXXX Set this to true for small tables like designations\n}};//Callback for child components (Foreign Keys)\nvar callback=function callback(childData){//console.log(\"Parent Callback\");\nsetEntity(function(prev){return _objectSpread(_objectSpread({},prev),{},_defineProperty({},childData.fk,childData.entity));});setValue(childData.fk,childData.entity);//\tif(childData.fk==='section')\n//\t\tsetSecCode(childData.entity.id);\n//console.log(errors);\nclearErrors(childData.fk);};var errorCallback=function errorCallback(err){//console.log(err);\nsetServerErrors(err);};var handleSectionChange=function handleSectionChange(e){console.log(e.target.value);setValue(\"sectionCode\",e.target.value);};var handleInputChange=function handleInputChange(e,index){console.log(e.target.value);console.log(index);var _e$target=e.target,name=_e$target.name,value=_e$target.value;console.log(name);console.log(value);var list=_toConsumableArray(pmDetailObj);list[index][name]=value;console.log(\"----The code head is----:\"+list[index].codeHead);console.log(\"----The sign is----:\"+list[index].signRc);console.log(\"----The amt is----:\"+list[index].amount);setPmDetailObj(list);setValue(\"pmDetail\",list);};var handleInputCdaChange=function handleInputCdaChange(e,index){console.log(e.target.value);console.log(index);var _e$target2=e.target,name=_e$target2.name,value=_e$target2.value;var list=_toConsumableArray(depList);list[index][name]=value;setDepList(list);};var handleRemoveClick=function handleRemoveClick(index){var list=_toConsumableArray(pmDetailObj);list.splice(index,1);setPmDetailObj(list);};var handleCdaRemoveClick=function handleCdaRemoveClick(index){var list=_toConsumableArray(depList);list.splice(index,1);setDepList(list);};// handle click event of the Add button\nvar handleAddClick=function handleAddClick(){setPmDetailObj([].concat(_toConsumableArray(pmDetailObj),[{codeHead:\"\",signRc:\"\",amount:\"\"}]));};var handleCdaAddClick=function handleCdaAddClick(){setDepList([].concat(_toConsumableArray(depList),[{cdaoNo:\"\",plusCharge:\"\",amount:\"\"}]));};return/*#__PURE__*/_jsx(\"div\",{className:\"max-w-3xl mx-auto \",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-full w-3/4  mx-auto \",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(onSubmit,onError),children:[/*#__PURE__*/_jsxs(\"h1\",{children:[id===\"new\"?\"Add\":\"Edit\",\" Omro \"]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-red-500\",children:serverErrors}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-0\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"DakId\"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control py-0 max-w-xs\",type:\"text\",readOnly:true,value:dakidNo})]}),lic===false&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"CdaoNo/Name\"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control py-0 max-w-xs\",type:\"text\",readOnly:true,value:cdaoNo}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control py-0 max-w-xs\",type:\"text\",readOnly:true,value:name})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Rank\"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control py-0 max-w-xs\",type:\"text\",readOnly:true,value:rankName})]})]}),lic===true&&/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"h1\",{children:\" Lic Adjustment\"})})]}),/*#__PURE__*/_jsx(\"h1\",{children:\" MRO Details\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-0\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"MRO Date\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({type:\"date\",name:\"mroDate\"},register(\"mroDate\")),{},{className:\"form-control py-0\"})),/*#__PURE__*/_jsx(\"div\",{className:\"text-red-500\",children:(_errors$mroDate=errors.mroDate)===null||_errors$mroDate===void 0?void 0:_errors$mroDate.message})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"MRO Identification No\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({type:\"text\",name:\"minNo\"},register(\"minNo\")),{},{className:\"form-control py-0\"})),/*#__PURE__*/_jsx(\"div\",{className:\"text-red-500\",children:(_errors$minNo=errors.minNo)===null||_errors$minNo===void 0?void 0:_errors$minNo.message})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"PM Section Code\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-control py-0\",value:pmSecItem,onChange:handleSectionChange,children:[/*#__PURE__*/_jsx(\"option\",{value:0,children:\"---select---\"},0),pmSecData.map(function(item){return/*#__PURE__*/_jsxs(\"option\",{value:item,children:[\" \",item,\" \"]},item.id);})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Remittance Details\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({type:\"text\",name:\"remittanceDetail\"},register(\"remittanceDetail\")),{},{className:\"form-control py-0\"})),/*#__PURE__*/_jsx(\"div\",{className:\"text-red-500\",children:(_errors$remittanceDet=errors.remittanceDetail)===null||_errors$remittanceDet===void 0?void 0:_errors$remittanceDet.message})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Lic Maturity File Name\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({type:\"text\",name:\"licMaturityFileName\"},register(\"licMaturityFileName\")),{},{className:\"form-control py-0\"})),/*#__PURE__*/_jsx(\"div\",{className:\"text-red-500\",children:(_errors$licMaturityFi=errors.licMaturityFileName)===null||_errors$licMaturityFi===void 0?void 0:_errors$licMaturityFi.message})]})]}),/*#__PURE__*/_jsx(\"h1\",{children:\" Depositor's Details\"}),/*#__PURE__*/_jsx(\"div\",{className:\"row cols-3 gap-0\",children:depList.map(function(x,k){return/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-3 gap-0 flex flex-wrap content-start ...\",children:[/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({name:\"cdaoNo\"},register(\"cdaoNo\")),{},{type:\"text\",placeholder:\"Enter CDAO No\"//value={cdaoNo}\n//readOnly\n,onChange:function onChange(e){return handleInputCdaChange(e,k);}})),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({name:\"MRO Amt\"},register(\"itemAmount\")),{},{type:\"text\",placeholder:\"Enter MRO Amt\"//value={mroAmount}\n//readOnly\n,onChange:function onChange(e){return handleInputCdaChange(e,k);}})),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({name:\"Tax Amt\"},register(\"itAmount\")),{},{type:\"text\",placeholder:\"Enter Tax Amt\",onChange:function onChange(e){return handleInputCdaChange(e,k);}})),/*#__PURE__*/_jsx(\"div\",{}),/*#__PURE__*/_jsx(\"div\",{className:\" w-16 m-0 p-0 flex flex-wrap content-start ...\",children:depList.length!==1&&/*#__PURE__*/_jsx(\"button\",{className:\" w-16 m-0 p-0 \",onClick:function onClick(){return handleCdaRemoveClick(k);},children:\"Remove\"})}),/*#__PURE__*/_jsx(\"div\",{className:\" w-16 m-0 p-0 flex flex-wrap content-start ...\",children:depList.length-1===k&&/*#__PURE__*/_jsx(\"button\",{className:\" w-16 m-0 p-0 \",onClick:handleCdaAddClick,children:\"Add\"})})]});})}),/*#__PURE__*/_jsx(\"h1\",{children:\" Punching Media Details\"}),/*#__PURE__*/_jsx(\"div\",{className:\"row cols-3 gap-0\",children:pmDetailObj.map(function(x,i){return/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap content-start ...\",children:[/*#__PURE__*/_jsxs(\"select\",{name:\"codeHead\",type:\"text\",className:\"mx-2 px-2\",placeholder:\"Enter Code Head\",value:x.codeHead,onChange:function onChange(e){return handleInputChange(e,i);},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",label:\"--Code Head--\"},\"default\"),/*#__PURE__*/_jsx(\"option\",{value:\"00/020/80\",label:\"Omro:00/020/80\"},\"1\"),/*#__PURE__*/_jsx(\"option\",{value:\"93/020/80\",label:\"Emro:93/020/80\"},\"2\"),/*#__PURE__*/_jsx(\"option\",{value:\"01/250/01\",label:\"TD:01/250/01\"},\"3\"),/*#__PURE__*/_jsx(\"option\",{value:\"01/250/05\",label:\"PD:01/250/05\"},\"4\"),/*#__PURE__*/_jsx(\"option\",{value:\"01/136/01\",label:\"LTC:01/136/01\"},\"5\")]}),/*#__PURE__*/_jsxs(\"select\",{name:\"signRc\",value:x.signRc,onChange:function onChange(e){return handleInputChange(e,i);},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",label:\"--Sign RC--\"},\"default\"),/*#__PURE__*/_jsx(\"option\",{value:\"+R\",label:\"+R\"},\"+R\"),/*#__PURE__*/_jsx(\"option\",{value:\"-R\",label:\"-R\"},\"-R\"),/*#__PURE__*/_jsx(\"option\",{value:\"+C\",label:\"+C\"},\"+C\"),/*#__PURE__*/_jsx(\"option\",{value:\"-C\",label:\"-C\"},\"-C\")]}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Enter Amount\",name:\"amount\",value:x.amount,onChange:function onChange(e){return handleInputChange(e,i);}}),/*#__PURE__*/_jsx(\"div\",{className:\" w-16 m-0 p-0 flex flex-wrap content-start ...\",children:pmDetailObj.length!==1&&/*#__PURE__*/_jsx(\"button\",{className:\" w-16 m-0 p-0 \",onClick:function onClick(){return handleRemoveClick(i);},children:\"Remove\"})}),/*#__PURE__*/_jsx(\"div\",{children:pmDetailObj.length-1===i&&/*#__PURE__*/_jsx(\"button\",{className:\" w-16 m-0 p-0 \",onClick:handleAddClick,children:\"Add\"})})]});})}),/*#__PURE__*/_jsx(\"div\",{className:\"px-4\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Save\"})})]})})});};export default withRouter(OmroEdit);","map":{"version":3,"sources":["/home/itsdcsec/falconws/falcon_face/src/components/OmroEdit.js"],"names":["useState","useEffect","withRouter","useParams","useHistory","useForm","axios","yup","yupResolver","LiveSearch","DatePicker","addDays","schema","object","OmroEdit","resolver","register","handleSubmit","setValue","errors","formState","clearErrors","id","history","serverErrors","setServerErrors","entity","setEntity","state","setState","loading","setLoading","dakidNo","setDakidNo","monthEnding","setMonthEnding","rankName","setRankName","cdaoNo","setCdaoNo","name","setName","codeHead","signRc","amount","pmDetailObj","setPmDetailObj","plusCharge","depList","setDepList","secCode","setSecCode","pmSecData","setPmSecData","pmSecItems","setPmSecItems","pmSecItem","setPmSecItem","mesg","setMesg","disable","setDisable","mroAmount","setmroAmount","lic","setLic","isCancelled","console","log","fetchData","record","get","then","response","data","catch","error","Error","fields","dakType","description","forEach","field","prev","fetching","unmounted","fetchEmpData","fetchRankData","fetchDakData","fetchSectionCodeData","onSubmit","event","preventDefault","length","pmDetail","put","status","push","onError","e","parentData","employee","title","url","searchList","fkEntity","preload","callback","childData","fk","errorCallback","err","handleSectionChange","target","value","handleInputChange","index","list","handleInputCdaChange","handleRemoveClick","splice","handleCdaRemoveClick","handleAddClick","handleCdaAddClick","mroDate","message","minNo","map","item","remittanceDetail","licMaturityFileName","x","k","i"],"mappings":"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","sourcesContent":["/**\n * Code generated using Python\n * @author Raja Reddy\n * Date : 17 Oct 2021\n *\n * Modified By :\n */\n\nimport { useState, useEffect } from \"react\";\nimport { withRouter, useParams, useHistory } from \"react-router-dom\";\nimport { useForm } from \"react-hook-form\";\nimport axios from \"axios\";\nimport * as yup from \"yup\";\n\nimport { yupResolver } from \"@hookform/resolvers/yup\";\nimport LiveSearch from \"../utils/LiveSearch\";\n\nimport DatePicker from \"react-datepicker\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport addDays from \"date-fns/addDays\";\n\nconst schema = yup.object({\n  //   cdaCode: yup.string().required('Required'),\n  //    subOfficeCode: yup.string().required('Required'),\n  //     minNo: yup.string().required('Required'),\n  //    transactionNo: yup.string().required('Required'),\n  //     transactionDate: yup.string().required('Required'),\n  //    organisation: yup.string().required('Required'),\n  //    depositorName: yup.string().required('Required'),\n  //    personnnelNo: yup.string().required('Required'),\n  //    pcdaoNo: yup.string().required('Required'),\n  //    mobileNo: yup.string().required('Required'),\n  //    address: yup.string().required('Required'),\n  //     amount: yup.number().required('Required'),\n  //   paymentNature: yup.string().required('Required'),\n  //  emroOffice: yup.string().required('Required'),\n  //   remarks: yup.string().required('Required'),\n  //     teNoAccountsSec: yup.number().integer().required('Required'),\n  //   teMonthAccountsSec: yup.string().required('Required'),\n  //    teDateAccountsSec: yup.string().required('Required'),\n  //    dakAccountsSec: yup.object().required('Required'),\n  //    auditSec: yup.object().required('Required'),\n  //    teNoAuditSec: yup.number().integer().required('Required'),\n  //    teMonthAuditSec: yup.string().required('Required'),\n  //    teDateAuditSec: yup.string().required('Required'),\n  //    dakAuditSec: yup.object().required('Required'),\n  //    remarksAccountsSec: yup.string().required('Required'),\n  //    remarksAuditSec: yup.string().required('Required'),\n  //    serviceHead: yup.string().required('Required'),\n  //    unit: yup.object().required('Required'),\n  //    projectCode: yup.string().required('Required'),\n  //   auditorDateAuditSec: yup.string().required('Required'),\n  //   aaoDateAuditSec: yup.string().required('Required'),\n  //     aoDateAuditSec: yup.string().required('Required'),\n  //    auditorDateAccountsSec: yup.string().required('Required'),\n  //     aaoDateAccountsSec: yup.string().required('Required'),\n  //    aoDateAccountsSec: yup.string().required('Required'),\n  //     recordStatusAudit: yup.string().required('Required'),\n  //    recordStatusAccounts: yup.string().required('Required'),\n  //     approvedAudit: yup.boolean().required('Required'),\n  //    approvedAccounts: yup.boolean().required('Required'),\n  //    reasonAuditSec: yup.string().required('Required'),\n  //   reasonAccounts: yup.string().required('Required'),\n  //   scrollDate: yup.string().required('Required'),\n});\n\nconst OmroEdit = () => {\n  const {\n    register,\n    handleSubmit,\n    setValue,\n    formState: { errors },\n    clearErrors,\n  } = useForm({\n    resolver: yupResolver(schema),\n  });\n\n  let { id } = useParams();\n  //console.log(id);\n\n  let history = useHistory();\n  const [serverErrors, setServerErrors] = useState([]);\n  const [entity, setEntity] = useState({});\n  const [state, setState] = useState({});\n\n  const [loading, setLoading] = useState(true);\n  const [dakidNo, setDakidNo] = useState(\"\");\n  const [monthEnding, setMonthEnding] = useState(\"\");\n  const [rankName, setRankName] = useState(\"\");\n  const [cdaoNo, setCdaoNo] = useState(\"\");\n  const [name, setName] = useState(\"\");\n  const [pmDetailObj, setPmDetailObj] = useState([\n    { codeHead: \"\", signRc: \"\", amount: \"\" },\n  ]);\n  // const [pmDetail, setPmDetail] = useState([{receiptCodeHead: \"\", chargeCodeHead: \"\",receiptPlusAmount:\"\"\n  //   \t\t\t\t,receiptMinusAmount:\"\",chargePlusAmount:\"\",chargeMinusAmount:\"\"}]);\n  const [depList, setDepList] = useState([\n    { cdaoNo: \"\", plusCharge: \"\", amount: \"\" },\n  ]);\n  const [secCode, setSecCode] = useState(\"\");\n  // const [secCodeList,setSecCodeList]=useState([]);\n  //const [secCodeItems,setSecCodeItems]=useState([]);\n  const [pmSecData, setPmSecData] = useState([]);\n  const [pmSecItems, setPmSecItems] = useState([]);\n  const [pmSecItem, setPmSecItem] = useState();\n  const [mesg, setMesg] = useState(\"\");\n  const [disable, setDisable] = useState(false);\n  const [mroAmount, setmroAmount] = useState();\n  const [lic,setLic]=useState(false);\n\n  useEffect(() => {\n    let isCancelled = false;\n    console.log(id);\n    if (id !== \"new\") {\n      async function fetchData() {\n        let record = \"\";\n        await axios\n          .get(\"/omros/\" + id)\n          .then((response) => {\n            record = response.data;\n            setmroAmount(response.data.amount);\n          })\n          .catch((error) => {\n            //console.log(error);\n            //console.log(error.response.status);\n            //console.log(error.response.headers);\n            if (error.response) setServerErrors(error.response.data.error);\n            else setServerErrors(error.Error);\n          });\n\n        const fields = [\n          \"id\",\n          \"dak\",\n          \"bank\",\n          \"section\",\n          \"sectionCode\",\n          \"employee\",\n          \"unit\",\n          \"minNo\",\n          \"mroDate\",\n          \"memoNo\",\n          \"memoDate\",\n          \"receivedMonth\",\n          \"adjustmentMonth\",\n          \"voucherNumber\",\n          \"voucherDate\",\n          \"amount\",\n          \"remittanceDetail\",\n          \"auditorDate\",\n          \"aaoDate\",\n          \"aoDate\",\n          \"reason\",\n          \"remarks\",\n          \"otherDepositorDetail\",\n          \"approved\",\n          \"recordStatus\",\n          \"itemAmount\",\n          \"depositorType\",\n          \"panNo\",\n          \"itAmount\",\n          \"projectcode\",\n          \"personalClaimStatus\",\n          \"mroType\",\n          \"cdaoNo\",\n          \"pmDetail\",\n        ];\n        console.log(\"%%%%%:\" + record['dak'].dakType.description);\n        setSecCode(record[\"section\"]);\n        setPmDetailObj(record[\"pmDetail\"]);\n        \n        if(record['dak'].dakType.description==='Lic Mro'){\n\t\t\t\t\tsetLic(true);\n\t\t\t\t}\n\n        console.log(\"%%%%%SecCode is:\" + secCode);\n        fields.forEach((field) => setValue(field, record[field]));\n        if (!isCancelled) {\n          setEntity(record);\n          setState((prev) => ({ ...prev, state: record }));\n        }\n      }\n\n      fetchData();\n      return () => {\n        isCancelled = true;\n      };\n    }\n  }, [id, setValue]);\n\n  useEffect(() => {\n    let fetching = false;\n    let unmounted = false;\n    async function fetchEmpData() {\n      if (!fetching && lic===false)\n        await axios\n          .get(`/omros/${id}/empData`)\n          .then((response) => {\n            setCdaoNo(response.data[\"cdaoNo\"]);\n            setName(response.data[\"officerName\"]);\n          })\n          .catch((error) => {\n            //console.log(error);\n            //console.log(error.response.status);\n            //console.log(error.response.headers);\n            if (error.response) setServerErrors(error.response.data.error);\n            else setServerErrors(error.Error);\n          });\n    }\n    fetchEmpData();\n\n    return () => {\n      fetching = true;\n      unmounted = true;\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [id]);\n\n  useEffect(() => {\n    let fetching = false;\n    let unmounted = false;\n    async function fetchRankData() {\n\tconsole.log(\"---lic Mro---:\"+lic);\n      if (!fetching && lic===false)\n        await axios\n          .get(`/omros/${id}/rankName`)\n          .then((response) => {\n            setRankName(response.data[\"rankName\"]);\n          })\n          .catch((error) => {\n            //console.log(error);\n            //console.log(error.response.status);\n            //console.log(error.response.headers);\n            if (error.response) setServerErrors(error.response.data.error);\n            else setServerErrors(error.Error);\n          });\n    }\n    fetchRankData();\n\n    return () => {\n      fetching = true;\n      unmounted = true;\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [id,lic]);\n\n  useEffect(() => {\n    let fetching = false;\n    let unmounted = false;\n    async function fetchDakData() {\n      if (!fetching)\n        await axios\n          .get(`/omros/${id}/dakid`)\n          .then((response) => {\n            setDakidNo(response.data[\"dakidNo\"]);\n          })\n          .catch((error) => {\n            //console.log(error);\n            //console.log(error.response.status);\n            //console.log(error.response.headers);\n            if (error.response) setServerErrors(error.response.data.error);\n            else setServerErrors(error.Error);\n          });\n    }\n    fetchDakData();\n\n    return () => {\n      fetching = true;\n      unmounted = true;\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [id]);\n\n  useEffect(() => {\n    let fetching = false;\n    let unmounted = false;\n    console.log(\"-------:\" + secCode);\n    async function fetchSectionCodeData() {\n      if (!fetching && secCode)\n        await axios\n          .get(`/sectionDvBlocks/${secCode}/sectionData`)\n          .then((response) => {\n            console.log(\"response>>\" + response.data);\n            setPmSecData(response.data);\n            if (!unmounted) {\n              setLoading(false);\n            }\n          })\n          .catch((error) => {\n            //console.log(error);\n            //console.log(error.response.status);\n            //console.log(error.response.headers);\n            if (error.response) setServerErrors(error.response.data.error);\n            else setServerErrors(error.Error);\n          });\n    }\n    fetchSectionCodeData();\n\n    return () => {\n      fetching = true;\n      unmounted = true;\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [secCode]);\n\n  const onSubmit = (data, event) => {\n    event.preventDefault();\n    setDisable(true);\n    console.log(\"Omro Data \", data);\n    console.log(\"&&&&&&&&---:\" + pmDetailObj.length);\n    console.log(\"&&&&&&&&---:\" + data.pmDetail);\n\n    if (data.id && !disable) {\n      axios\n        .put(\"/omros/submitAudMro/\" + data.id, data)\n\n        .then((response) => {\n          if (response.status == 200) {\n            setMesg(response.data[\"reason\"]);\n            history.push(\"/omros\");\n            console.log(\"----***:\" + response.data);\n          }\n        })\n        .catch((error) => {\n          //console.log(error.response.data);\n          //console.log(error.response.status);\n          //console.log(error.response.headers);\n          setServerErrors(error.response.data[\"reason\"]);\n        });\n    }\n  };\n\n  const onError = (errors, e) => console.log(errors, e);\n\n  //All foreign keys.\n  // XXXXXX Add search fields and adjust the values as necessary\n  const parentData = {\n    employee: {\n      title: \"Officer\",\n      url: \"employees/all/effective\",\n      searchList: [\"cdaoNo\", \"checkDigit\", \"officerName\"], //XXXXXXXXX Add search fields\n      fkEntity: \"employee\",\n      preload: false, //XXXXXX Set this to true for small tables like designations\n    },\n  };\n\n  //Callback for child components (Foreign Keys)\n  const callback = (childData) => {\n    //console.log(\"Parent Callback\");\n    setEntity((prev) => ({ ...prev, [childData.fk]: childData.entity }));\n    setValue(childData.fk, childData.entity);\n\n    //\tif(childData.fk==='section')\n    //\t\tsetSecCode(childData.entity.id);\n    //console.log(errors);\n    clearErrors(childData.fk);\n  };\n\n  const errorCallback = (err) => {\n    //console.log(err);\n    setServerErrors(err);\n  };\n\n  const handleSectionChange = (e) => {\n    console.log(e.target.value);\n\n    setValue(\"sectionCode\", e.target.value);\n  };\n\n  const handleInputChange = (e, index) => {\n    console.log(e.target.value);\n    console.log(index);\n    const { name, value } = e.target;\n    console.log(name);\n    console.log(value);\n    const list = [...pmDetailObj];\n    list[index][name] = value;\n    console.log(\"----The code head is----:\" + list[index].codeHead);\n    console.log(\"----The sign is----:\" + list[index].signRc);\n    console.log(\"----The amt is----:\" + list[index].amount);\n    setPmDetailObj(list);\n    setValue(\"pmDetail\", list);\n  };\n\n  const handleInputCdaChange = (e, index) => {\n    console.log(e.target.value);\n    console.log(index);\n    const { name, value } = e.target;\n    const list = [...depList];\n    list[index][name] = value;\n    setDepList(list);\n  };\n  const handleRemoveClick = (index) => {\n    const list = [...pmDetailObj];\n    list.splice(index, 1);\n    setPmDetailObj(list);\n  };\n  const handleCdaRemoveClick = (index) => {\n    const list = [...depList];\n    list.splice(index, 1);\n    setDepList(list);\n  };\n  // handle click event of the Add button\n  const handleAddClick = () => {\n    setPmDetailObj([...pmDetailObj, { codeHead: \"\", signRc: \"\", amount: \"\" }]);\n  };\n  const handleCdaAddClick = () => {\n    setDepList([...depList, { cdaoNo: \"\", plusCharge: \"\", amount: \"\" }]);\n  };\n  return (\n    <div className=\"max-w-3xl mx-auto \">\n      <div className=\"w-full w-3/4  mx-auto \">\n        <form onSubmit={handleSubmit(onSubmit, onError)}>\n          <h1>{id === \"new\" ? \"Add\" : \"Edit\"} Omro </h1>\n          <div className=\"text-red-500\">{serverErrors}</div>\n\n          <div className=\"grid grid-cols-2 gap-0\">\n            <div>\n              <label>DakId</label>\n              <input\n                className=\"form-control py-0 max-w-xs\"\n                type=\"text\"\n                readOnly\n                value={dakidNo}\n              />\n            </div>\n {lic===false && <>\n            <div>\n              <label>CdaoNo/Name</label>\n              <input\n                className=\"form-control py-0 max-w-xs\"\n                type=\"text\"\n                readOnly\n                value={cdaoNo}\n              />\n              <input\n                className=\"form-control py-0 max-w-xs\"\n                type=\"text\"\n                readOnly\n                value={name}\n              />\n            </div>\n\n            <div>\n              <label>Rank</label>\n              <input\n                className=\"form-control py-0 max-w-xs\"\n                type=\"text\"\n                readOnly\n                value={rankName}\n              />\n            </div>\n            </>\n            }\n            {lic===true &&\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t <h1 > Lic Adjustment</h1>\n\t\t\t\t\t\t\t\t  \n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t}\n          </div>\n\n          <h1> MRO Details</h1>\n          <div className=\"grid grid-cols-2 gap-0\">\n            <div>\n              <label>MRO Date</label>\n              <input\n                type=\"date\"\n                name=\"mroDate\"\n                {...register(\"mroDate\")}\n                className=\"form-control py-0\"\n              />\n              <div className=\"text-red-500\">{errors.mroDate?.message}</div>\n            </div>\n\n            <div>\n              <label>MRO Identification No</label>\n              <input\n                type=\"text\"\n                name=\"minNo\"\n                {...register(\"minNo\")}\n                className=\"form-control py-0\"\n              />\n              <div className=\"text-red-500\">{errors.minNo?.message}</div>\n            </div>\n\n            <div>\n              <b>PM Section Code</b>\n              <select\n                className=\"form-control py-0\"\n                value={pmSecItem}\n                onChange={handleSectionChange}\n              >\n                <option key={0} value={0}>\n                  ---select---\n                </option>\n                {pmSecData.map((item) => (\n                  <option key={item.id} value={item}>\n                    {\" \"}\n                    {item}{\" \"}\n                  </option>\n                ))}\n              </select>\n            </div>\n\n            <div>\n              <label>Remittance Details</label>\n              <input\n                type=\"text\"\n                name=\"remittanceDetail\"\n                {...register(\"remittanceDetail\")}\n                className=\"form-control py-0\"\n              />\n              <div className=\"text-red-500\">\n                {errors.remittanceDetail?.message}\n              </div>\n            </div>\n            \n            <div>\n\t\t\t\t\t\t\t<label>Lic Maturity File Name</label>\n\t\t\t\t\t\t\t<input type=\"text\" name=\"licMaturityFileName\" {...register(\"licMaturityFileName\")}\n\t\t\t\t\t\t\t\tclassName=\"form-control py-0\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<div className=\"text-red-500\">{errors.licMaturityFileName?.message}</div>\n\t\t\t\t\t\t</div>\n          </div>\n\n          <h1> Depositor's Details</h1>\n          <div className=\"row cols-3 gap-0\">\n            {depList.map((x, k) => {\n              return (\n                <div className=\"grid grid-cols-3 gap-0 flex flex-wrap content-start ...\">\n                  <input\n                    name=\"cdaoNo\"\n                    {...register(\"cdaoNo\")}\n                    type=\"text\"\n                    placeholder=\"Enter CDAO No\"\n                    //value={cdaoNo}\n                    //readOnly\n                    onChange={(e) => handleInputCdaChange(e, k)}\n                  />\n                  <input\n                    name=\"MRO Amt\"\n                    {...register(\"itemAmount\")}\n                    type=\"text\"\n                    placeholder=\"Enter MRO Amt\"\n                    //value={mroAmount}\n                    //readOnly\n                    onChange={(e) => handleInputCdaChange(e, k)}\n                  />\n                  <input\n                    name=\"Tax Amt\"\n                    {...register(\"itAmount\")}\n                    type=\"text\"\n                    placeholder=\"Enter Tax Amt\"\n                    onChange={(e) => handleInputCdaChange(e, k)}\n                  />\n\n                  <div></div>\n                  <div className=\" w-16 m-0 p-0 flex flex-wrap content-start ...\">\n                    {depList.length !== 1 && (\n                      <button\n                        className=\" w-16 m-0 p-0 \"\n                        onClick={() => handleCdaRemoveClick(k)}\n                      >\n                        Remove\n                      </button>\n                    )}\n                  </div>\n                  <div className=\" w-16 m-0 p-0 flex flex-wrap content-start ...\">\n                    {depList.length - 1 === k && (\n                      <button\n                        className=\" w-16 m-0 p-0 \"\n                        onClick={handleCdaAddClick}\n                      >\n                        Add\n                      </button>\n                    )}\n                  </div>\n                </div>\n              );\n            })}\n          </div>\n\n          <h1> Punching Media Details</h1>\n\n          <div className=\"row cols-3 gap-0\">\n            {pmDetailObj.map((x, i) => {\n              return (\n                <div className=\"flex flex-wrap content-start ...\">\n                  <select\n                    name=\"codeHead\"\n                    type=\"text\"\n                    className=\"mx-2 px-2\"\n                    placeholder=\"Enter Code Head\"\n                    value={x.codeHead}\n                    onChange={(e) => handleInputChange(e, i)}\n                  >\n                    <option key=\"default\" value=\"\" label=\"--Code Head--\" />\n\n                    <option key=\"1\" value=\"00/020/80\" label=\"Omro:00/020/80\" />\n                    <option key=\"2\" value=\"93/020/80\" label=\"Emro:93/020/80\" />\n                    <option key=\"3\" value=\"01/250/01\" label=\"TD:01/250/01\" />\n                    <option key=\"4\" value=\"01/250/05\" label=\"PD:01/250/05\" />\n                    <option key=\"5\" value=\"01/136/01\" label=\"LTC:01/136/01\" />\n                  </select>\n                  <select\n                    name=\"signRc\"\n                    value={x.signRc}\n                    onChange={(e) => handleInputChange(e, i)}\n                  >\n                    <option key=\"default\" value=\"\" label=\"--Sign RC--\" />\n                    <option key=\"+R\" value=\"+R\" label=\"+R\" />\n                    <option key=\"-R\" value=\"-R\" label=\"-R\" />\n                    <option key=\"+C\" value=\"+C\" label=\"+C\" />\n                    <option key=\"-C\" value=\"-C\" label=\"-C\" />\n                  </select>\n                  <input\n                    placeholder=\"Enter Amount\"\n                    name=\"amount\"\n                    value={x.amount}\n                    onChange={(e) => handleInputChange(e, i)}\n                  />\n\n                  <div className=\" w-16 m-0 p-0 flex flex-wrap content-start ...\">\n                    {pmDetailObj.length !== 1 && (\n                      <button\n                        className=\" w-16 m-0 p-0 \"\n                        onClick={() => handleRemoveClick(i)}\n                      >\n                        Remove\n                      </button>\n                    )}\n                  </div>\n                  <div>\n                    {pmDetailObj.length - 1 === i && (\n                      <button\n                        className=\" w-16 m-0 p-0 \"\n                        onClick={handleAddClick}\n                      >\n                        Add\n                      </button>\n                    )}\n                  </div>\n                </div>\n              );\n            })}\n          </div>\n          <div className=\"px-4\">\n            <button type=\"submit\">Save</button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default withRouter(OmroEdit);\n"]},"metadata":{},"sourceType":"module"}