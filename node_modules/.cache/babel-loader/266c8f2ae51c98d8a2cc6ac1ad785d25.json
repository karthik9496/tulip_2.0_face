{"ast":null,"code":"import _slicedToArray from\"/home/itsdcsec/falconws/falcon_face/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState,useEffect}from\"react\";import{withRouter,useParams,useHistory}from\"react-router-dom\";import{useForm}from\"react-hook-form\";import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var UploadAirData=function UploadAirData(){var _useState=useState(),_useState2=_slicedToArray(_useState,2),selectedFile=_useState2[0],setSelectedFile=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),lightTheme=_useState4[0],setLightTheme=_useState4[1];useEffect(function(){console.log(selectedFile);},[selectedFile,setSelectedFile]);var handleInputChange=function handleInputChange(e){e.preventDefault();console.log(e);setSelectedFile(e.target.files[0]);console.log(selectedFile);};var fileChangeHandler=function fileChangeHandler(){console.log(selectedFile);var formData=new FormData();formData.append('file',selectedFile);//ApiService.upload(formData)\naxios.post(\"/dtsTransactions/upload/airDts\",formData,{headers:{'Content-Type':'multipart/form-data'}}).then(function(res){console.log(res.data);alert(\"File uploaded successfully.\");}).catch(function(error){alert(error.response.data.message);console.log(error.response.data.message);console.log(error.response.status);console.log(error.response.headers);/*\n\t\t\tif (error.response)\n\t\t\t\tsetServerErrors(error.response.data.error);\n\t\t\telse\n\t\t\t\tsetServerErrors(error.Error);\n\t\t\t*/});};return/*#__PURE__*/_jsx(\"div\",{className:lightTheme?'theme-light':'theme-dark',children:/*#__PURE__*/_jsx(\"form\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group files color\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Upload Air Travel Data  \"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",className:\"form-control\",name:\"file\",onChange:handleInputChange})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"w-40\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:fileChangeHandler,children:\"Upload\"})})]})})});};export default withRouter(UploadAirData);","map":{"version":3,"sources":["/home/itsdcsec/falconws/falcon_face/src/components/UploadAirData.js"],"names":["useState","useEffect","withRouter","useParams","useHistory","useForm","axios","UploadAirData","selectedFile","setSelectedFile","lightTheme","setLightTheme","console","log","handleInputChange","e","preventDefault","target","files","fileChangeHandler","formData","FormData","append","post","headers","then","res","data","alert","catch","error","response","message","status"],"mappings":"0JAEA,OAASA,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,CACA,OAASC,UAAT,CAAqBC,SAArB,CAAgCC,UAAhC,KAAkD,kBAAlD,CACA,OAASC,OAAT,KAAwB,iBAAxB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,wFAGA,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,EAAM,eAEaP,QAAQ,EAFrB,wCAEpBQ,YAFoB,eAENC,eAFM,8BAGST,QAAQ,CAAC,IAAD,CAHjB,yCAGpBU,UAHoB,eAGRC,aAHQ,eAK3BV,SAAS,CAAC,UAAI,CACbW,OAAO,CAACC,GAAR,CAAYL,YAAZ,EACA,CAFQ,CAEP,CAACA,YAAD,CAAcC,eAAd,CAFO,CAAT,CAIA,GAAMK,CAAAA,iBAAiB,CAAE,QAAnBA,CAAAA,iBAAmB,CAACC,CAAD,CAAM,CAC9BA,CAAC,CAACC,cAAF,GACDJ,OAAO,CAACC,GAAR,CAAYE,CAAZ,EACCN,eAAe,CAACM,CAAC,CAACE,MAAF,CAASC,KAAT,CAAe,CAAf,CAAD,CAAf,CACAN,OAAO,CAACC,GAAR,CAAYL,YAAZ,EAEA,CAND,CAQD,GAAMW,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,EAAM,CAC9BP,OAAO,CAACC,GAAR,CAAYL,YAAZ,EAEA,GAAMY,CAAAA,QAAQ,CAAG,GAAIC,CAAAA,QAAJ,EAAjB,CACAD,QAAQ,CAACE,MAAT,CAAgB,MAAhB,CAAwBd,YAAxB,EACA;AACAF,KAAK,CAACiB,IAAN,CAAW,gCAAX,CAA6CH,QAA7C,CAAuD,CACtDI,OAAO,CAAE,CACR,eAAgB,qBADR,CAD6C,CAAvD,EAIGC,IAJH,CAIQ,SAAAC,GAAG,CAAI,CACdd,OAAO,CAACC,GAAR,CAAYa,GAAG,CAACC,IAAhB,EACAC,KAAK,CAAC,6BAAD,CAAL,CACA,CAPD,EAOGC,KAPH,CAOS,SAACC,KAAD,CAAW,CACnBF,KAAK,CAACE,KAAK,CAACC,QAAN,CAAeJ,IAAf,CAAoBK,OAArB,CAAL,CACApB,OAAO,CAACC,GAAR,CAAYiB,KAAK,CAACC,QAAN,CAAeJ,IAAf,CAAoBK,OAAhC,EACApB,OAAO,CAACC,GAAR,CAAYiB,KAAK,CAACC,QAAN,CAAeE,MAA3B,EACArB,OAAO,CAACC,GAAR,CAAYiB,KAAK,CAACC,QAAN,CAAeP,OAA3B,EACA;AACH;AACA;AACA;AACA;AACA,KACG,CAlBD,EAmBA,CAzBF,CA2BC,mBACE,YAAK,SAAS,CAAEd,UAAU,CAAG,aAAH,CAAmB,YAA7C,uBACA,mCACA,aAAK,SAAS,CAAC,WAAf,wBACE,YAAK,SAAS,CAAC,KAAf,uBACC,YAAK,SAAS,CAAC,UAAf,uBACC,aAAK,SAAS,CAAC,wBAAf,wBACC,mDADD,cAEC,cAAO,IAAI,CAAC,MAAZ,CAAmB,SAAS,CAAC,cAA7B,CAA4C,IAAI,CAAC,MAAjD,CAAwD,QAAQ,CAAEI,iBAAlE,EAFD,GADD,EADD,EADF,cAaE,YAAK,SAAS,CAAC,MAAf,uBACE,eAAQ,IAAI,CAAC,QAAb,CAAsB,OAAO,CAAEK,iBAA/B,oBADF,EAbF,GADA,EADA,EADF,CA4BA,CAxED,CA0EA,cAAejB,CAAAA,UAAU,CAACK,aAAD,CAAzB","sourcesContent":["\n\nimport { useState, useEffect } from \"react\";\nimport { withRouter, useParams, useHistory } from \"react-router-dom\";\nimport { useForm } from \"react-hook-form\";\nimport axios from 'axios';\n\n\nconst UploadAirData = () => {\n\n\tconst [selectedFile, setSelectedFile] = useState();\n\tconst [lightTheme, setLightTheme] = useState(true);\n\t\n\tuseEffect(()=>{\n\t\tconsole.log(selectedFile);\n\t},[selectedFile,setSelectedFile])\n\t\n\tconst handleInputChange =(e) =>{\n\t\te.preventDefault();\n\tconsole.log(e);\n\t\tsetSelectedFile(e.target.files[0]);\n\t\tconsole.log(selectedFile);\n\t\t\n\t}\n\nconst fileChangeHandler = () => {\n\t\tconsole.log(selectedFile);\n\t\t\n\t\tconst formData = new FormData();\n\t\tformData.append('file', selectedFile);\n\t\t//ApiService.upload(formData)\n\t\taxios.post(\"/dtsTransactions/upload/airDts\", formData, {\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'multipart/form-data'\n\t\t\t}\n\t\t}).then(res => {\n\t\t\tconsole.log(res.data);\n\t\t\talert(\"File uploaded successfully.\")\n\t\t}).catch((error) => {\n\t\t\talert(error.response.data.message)\n\t\t\tconsole.log(error.response.data.message);\n\t\t\tconsole.log(error.response.status);\n\t\t\tconsole.log(error.response.headers);\n\t\t\t/*\n\t\t\tif (error.response)\n\t\t\t\tsetServerErrors(error.response.data.error);\n\t\t\telse\n\t\t\t\tsetServerErrors(error.Error);\n\t\t\t*/\n\t\t})\n\t};\n\t\n\treturn(\n\t\t\t<div className={lightTheme ? 'theme-light' : 'theme-dark'}>\n\t\t\t<form>\n\t\t\t<div className=\"container\">\n\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t<div className=\"col-md-6\">\n\t\t\t\t\t\t\t<div className=\"form-group files color\">\n\t\t\t\t\t\t\t\t<label>Upload Air Travel Data  </label>\n\t\t\t\t\t\t\t\t<input type=\"file\" className=\"form-control\" name=\"file\" onChange={handleInputChange} />\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\n\t\t\t\t\t\t\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"w-40\">\n\t\t\t\t\t\t\t<button type=\"button\" onClick={fileChangeHandler}>Upload</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t \n\t\t\t</form>\n\t\t\t</div>\n\t\t\n\t\t\n\t);\n\t\n\n};\n\nexport default withRouter(UploadAirData);"]},"metadata":{},"sourceType":"module"}