{"ast":null,"code":"var _jsxFileName = \"/home/pcdaopune/ITSDC/falcon_face/src/components/ManualDtsSettlementOption.js\",\n    _s = $RefreshSig$();\n\n/**\n * Code generated using Python\n * @author Raja Reddy\n * Date : 17 Oct 2021\n *\n * Modified By : \n */\nimport { useState, useEffect, useRef } from \"react\";\nimport { withRouter, useParams, useHistory } from \"react-router-dom\";\nimport { useForm } from \"react-hook-form\";\nimport axios from 'axios';\nimport * as yup from \"yup\";\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport LiveSearch from '../utils/LiveSearch';\nimport DatePicker from 'react-datepicker';\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport addDays from 'date-fns/addDays';\nimport Tabs from 'react-bootstrap/Tabs';\nimport Tab from 'react-bootstrap/Tab';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst schema = yup.object({\n  employee: yup.object().required('Required') //\tdemandDate:yup.date().required('Required'), \n\n});\n\nconst ManualDtsSettlementOption = () => {\n  _s();\n\n  const {\n    register,\n    handleSubmit,\n    formState: {\n      errors\n    },\n    clearErrors\n  } = useForm({\n    resolver: yupResolver(schema)\n  });\n  let {\n    id\n  } = useParams();\n  console.log(\">>>>>>>>>>Dts Reference Id---:\" + id);\n  let history = useHistory();\n  const [serverErrors, setServerErrors] = useState([]);\n  const [entity, setEntity] = useState({});\n  const [state, setState] = useState({});\n  const [loading, setLoading] = useState(true);\n  const [value, setValue] = useState('');\n  const [action, setAction] = useState('');\n  const [dtsData, setDtsData] = useState([]);\n  const [dts, setDts] = useState(false);\n  const [status, setStatus] = useState('');\n  const [refId, setRefId] = useState(0);\n  const [option, setOption] = useState('');\n  useEffect(() => {\n    let isCancelled = false;\n    let fetching = false;\n    let unmounted = false;\n\n    async function fetchData() {\n      let record = '';\n      console.log(\">>>>>>>>>>Dts Reference Id before call ---:\" + id);\n      await axios.get(`/demandRegisters/manualDtsSettlementOption/${id}`).then(response => {\n        console.log(\">>>>> Data DTS----:\" + response.data[0].status);\n        console.log(\">>>>> Data DTS-Id For Ref---:\" + response.data[0].dtsIdForReference);\n        setRefId(response.data[0].dtsIdForReference);\n        setStatus(response.data[0].status);\n        setDtsData(response.data);\n      }).catch(error => {\n        //console.log(error);\n        //console.log(error.response.status);\n        //console.log(error.response.headers);\n        if (error.response) setServerErrors(error.response.data.error);else setServerErrors(error.Error);\n      });\n      const fields = ['dtsLossToGovt', 'dtsRecoveryFromPay'];\n      fields.forEach(field => setValue(field, record[field]));\n\n      if (!isCancelled) {\n        setEntity(record);\n        setState(prev => ({ ...prev,\n          state: record\n        }));\n      }\n    }\n\n    fetchData();\n    return () => {\n      fetching = true;\n      unmounted = true;\n    };\n  }, [id]);\n\n  const onSubmit = (data, event) => {\n    event.preventDefault();\n    console.log(\"777777777:\" + data);\n\n    if (data.id) {\n      axios.put(\"/demandRegisters/manualDtsSettle/\" + data.id, data).then(response => {\n        history.push(\"/manualDtsSettlement\");\n      }).catch(error => {\n        //console.log(error.response.data);\n        //console.log(\"response--------\"+error.response.status);\n        setServerErrors(error.response.data['reason']);\n      });\n    }\n  };\n\n  const onError = (errors, e) => console.log(errors, e);\n\n  const errorCallback = err => {\n    //console.log(err);\n    setServerErrors(err);\n  };\n\n  const handleLossChange = event => {\n    console.log(\">>>>>>>Loss to Govt----:\" + event.target.value);\n    setDts(event.target.value);\n    if (event.target.value === 'loss') setValue('dtsLossToGovt', true);\n    setOption(\"loss\");\n  };\n\n  const handleRecoverChange = event => {\n    setDts(event.target.value);\n    setValue('dtsRecoveryFromPay', event.target.value);\n    setOption(\"recover\");\n  };\n\n  const resetRadioState = () => {\n    setDts('');\n  };\n\n  async function submitManDts(refId) {\n    console.log(\">>>>>>Option id is---:\" + refId);\n    await axios.put(`/demandRegisters/submitDts/${refId}/${option}/manualDtsSettle`).then(response => {\n      console.log(\"response from controller\"); //let updatedRecords = [...data].filter((i) => i.id !== id);\n      //\tconsole.log(updatedRecords);\n      //setData(updatedRecords);\n      //setUpdate(!update);\n\n      history.push(\"/manualDtsSettlement\"); //history.push(\"/cbillTadaLtcs\");\n    }).catch(error => {\n      console.log(error); //console.log(error.response.status);\n      //console.log(error.response.headers);\n\n      if (error.response) setServerErrors(error.response.data.error);else setServerErrors(error.Error);\n    });\n  }\n  /*\tasync function approveManDts(id) {\n  \t\tawait axios.put(`/demandRegisters/${id}/approveManualDts`)\n  \t\t\t.then((response) => {\n  \t\t\t\t//console.log(data);\n  \t\t\t\t//let updatedRecords = [...data].filter((i) => i.id !== id);\n  \t\t\t\t//console.log(updatedRecords);\n  \t\t\t\t//setData(updatedRecords);\n  \t\t\t\t//setUpdate(!update);\n  \t\t\t\thistory.push({ pathname: '/manualDtsSettlement', state: response.data });\n  \t\t\t})\n  \t\t\t.catch((error) => {\n  \t\t\t\tconsole.log(error);\n  \t\t\t\t//console.log(error.response.status);\n  \t\t\t\t//console.log(error.response.headers);\n  \t\t\t\tif (error.response)\n  \t\t\t\t\tsetServerErrors(error.response.data.error);\n  \t\t\t\telse\n  \t\t\t\t\tsetServerErrors(error.Error);\n  \t\t\t});\n  \t}*/\n\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-100 text-gray-900\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-10xl mx-auto px-4 sm:px-6 lg:px-8 pt-4\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit(onSubmit, onError),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            class: \"text-blue-600\",\n            align: \"center\",\n            children: \"Transaction ID Details for corresponding Reference ID \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n            className: \"table table-striped table-bordered\",\n            children: /*#__PURE__*/_jsxDEV(\"thead\", {\n              children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"CDAO_No\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 224,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Advance_Type\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 225,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Amount\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 226,\n                  columnNumber: 26\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Journey_Start_Date\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 227,\n                  columnNumber: 27\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Journey_End_Date\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 228,\n                  columnNumber: 28\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Journey_Station_From\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 229,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Journey_Station_To\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 230,\n                  columnNumber: 30\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Transaction_Id\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 231,\n                  columnNumber: 31\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 223,\n                columnNumber: 21\n              }, this), dtsData && dtsData.map(tt => /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  children: tt.cdaoNo\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 236,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: tt.demandType\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 237,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: tt.transAmount\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 238,\n                  columnNumber: 30\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: tt.journeyFromDate\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 239,\n                  columnNumber: 31\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: tt.journeyToDate\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 240,\n                  columnNumber: 32\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: tt.journeyStationFrom\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 241,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: tt.journeyStationTo\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 242,\n                  columnNumber: 34\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: tt.transactionId\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 243,\n                  columnNumber: 35\n                }, this)]\n              }, tt.cdaoNo, true, {\n                fileName: _jsxFileName,\n                lineNumber: 235,\n                columnNumber: 25\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 222,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 256,\n            columnNumber: 4\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            class: \"text-blue-600\",\n            align: \"center\",\n            children: \"Reference ID Details for the Cancelled Transaction \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n            className: \"table table-striped table-bordered\",\n            children: /*#__PURE__*/_jsxDEV(\"thead\", {\n              children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"CDAO_No\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 265,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Advance_Type\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 266,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Amount\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 267,\n                  columnNumber: 24\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Journey_Start_Date\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 268,\n                  columnNumber: 24\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Journey_End_Date\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 269,\n                  columnNumber: 24\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Journey_Station_From\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 270,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Journey_Station_To\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 271,\n                  columnNumber: 30\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Reference_Id/Reference_Amount\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 272,\n                  columnNumber: 31\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Cancellation_charges/Cancellation_ground/Cancellation_remarks\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 273,\n                  columnNumber: 31\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 264,\n                columnNumber: 21\n              }, this), dtsData && dtsData.map(tr => /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  children: tr.cdaoNo\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 279,\n                  columnNumber: 26\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: tr.demandType\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 280,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: tr.refAmount\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 281,\n                  columnNumber: 30\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: tr.journeyFromDate\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 282,\n                  columnNumber: 31\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: tr.journeyToDate\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 283,\n                  columnNumber: 32\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: tr.journeyStationFrom\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 284,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: tr.journeyStationTo\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 285,\n                  columnNumber: 34\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: [\"Reference_Id:\", tr.referenceId, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 286,\n                    columnNumber: 68\n                  }, this), \"Reference_Amount:\", tr.referenceAmount]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 286,\n                  columnNumber: 35\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: [\"Cancellation_charges:\", tr.cancellationCharges, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 287,\n                    columnNumber: 82\n                  }, this), \"Cancellation_ground:\", tr.cancellationGround, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 288,\n                    columnNumber: 33\n                  }, this), \"Cancellation_remarks:\", tr.cancellationRemarks, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 288,\n                    columnNumber: 83\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 287,\n                  columnNumber: 33\n                }, this)]\n              }, tr.cdaoNo, true, {\n                fileName: _jsxFileName,\n                lineNumber: 278,\n                columnNumber: 25\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 263,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 262,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 1\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 303,\n          columnNumber: 4\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 304,\n          columnNumber: 4\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \" Select Mode Of Recovery:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 306,\n            columnNumber: 3\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 307,\n            columnNumber: 3\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 308,\n            columnNumber: 3\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 314,\n            columnNumber: 3\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 315,\n            columnNumber: 3\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"label\", {\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"radio\",\n                value: \"recover\",\n                checked: dts === 'recover',\n                onChange: handleRecoverChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 319,\n                columnNumber: 3\n              }, this), \" Recovery From Pay Of The Officer\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 318,\n              columnNumber: 3\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 317,\n            columnNumber: 3\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"reset\",\n              onClick: resetRadioState\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 324,\n              columnNumber: 9\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 323,\n            columnNumber: 3\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 305,\n          columnNumber: 4\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          align: \"center\",\n          children: [' ', status != null && status.includes(\"audSubmit\") && /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"w-16 m-0 p-0 bg-red-500 hover:bg-red-700 \",\n            onClick: () => submitManDts(refId),\n            children: \" Submit  \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 336,\n            columnNumber: 8\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 332,\n          columnNumber: 3\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 4\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 215,\n    columnNumber: 3\n  }, this);\n};\n\n_s(ManualDtsSettlementOption, \"83RiQkuhHFNXhedWGVOapfvrFN8=\", false, function () {\n  return [useForm, useParams, useHistory];\n});\n\n_c = ManualDtsSettlementOption;\nexport default _c2 = withRouter(ManualDtsSettlementOption);\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"ManualDtsSettlementOption\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"sources":["/home/pcdaopune/ITSDC/falcon_face/src/components/ManualDtsSettlementOption.js"],"names":["useState","useEffect","useRef","withRouter","useParams","useHistory","useForm","axios","yup","yupResolver","LiveSearch","DatePicker","addDays","Tabs","Tab","schema","object","employee","required","ManualDtsSettlementOption","register","handleSubmit","formState","errors","clearErrors","resolver","id","console","log","history","serverErrors","setServerErrors","entity","setEntity","state","setState","loading","setLoading","value","setValue","action","setAction","dtsData","setDtsData","dts","setDts","status","setStatus","refId","setRefId","option","setOption","isCancelled","fetching","unmounted","fetchData","record","get","then","response","data","dtsIdForReference","catch","error","Error","fields","forEach","field","prev","onSubmit","event","preventDefault","put","push","onError","e","errorCallback","err","handleLossChange","target","handleRecoverChange","resetRadioState","submitManDts","map","tt","cdaoNo","demandType","transAmount","journeyFromDate","journeyToDate","journeyStationFrom","journeyStationTo","transactionId","tr","refAmount","referenceId","referenceAmount","cancellationCharges","cancellationGround","cancellationRemarks","includes"],"mappings":"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","sourcesContent":["/**\n * Code generated using Python\n * @author Raja Reddy\n * Date : 17 Oct 2021\n *\n * Modified By : \n */\n\nimport { useState, useEffect, useRef } from \"react\";\nimport { withRouter, useParams, useHistory } from \"react-router-dom\";\nimport { useForm } from \"react-hook-form\";\n \nimport axios from 'axios';\nimport * as yup from \"yup\";\n\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport LiveSearch from '../utils/LiveSearch';\n\nimport DatePicker from 'react-datepicker';\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport addDays from 'date-fns/addDays'\n\nimport Tabs from 'react-bootstrap/Tabs'\nimport Tab from 'react-bootstrap/Tab'\n\n\nconst schema = yup.object({\n\t \n\temployee: yup.object().required('Required'),\n//\tdemandDate:yup.date().required('Required'), \n\t \n});\n\n \n\nconst ManualDtsSettlementOption = () => {\n\tconst { register, handleSubmit, formState: { errors }, clearErrors } = useForm({\n\t\tresolver: yupResolver(schema)\n\t});\n\n\tlet { id } = useParams();\n\tconsole.log(\">>>>>>>>>>Dts Reference Id---:\" + id);\n\n\tlet history = useHistory();\n \n\tconst [serverErrors, setServerErrors] = useState([]);\n\tconst [entity, setEntity] = useState({});\n\tconst [state, setState] = useState({});\n\tconst [loading, setLoading] = useState(true);\n\tconst [value,setValue] =useState('');\n\t \n\tconst [action, setAction] = useState('');\n\tconst [dtsData, setDtsData]=useState([]);\n\tconst [dts,setDts]=useState(false);\n\tconst [status,setStatus]=useState('');\n\tconst [refId, setRefId]=useState(0);\n\tconst [option, setOption]=useState('');\n \n\t\n\n\tuseEffect(() => {\n\t\tlet isCancelled = false;\n\t\tlet fetching = false;\n\t\tlet unmounted = false;\n\t\t\tasync function fetchData() {\n\t\t\t\tlet record = '';\n\t\t\t\t console.log(\">>>>>>>>>>Dts Reference Id before call ---:\" + id);\n\t\t\t\t \n\t\t\t\tawait axios.get(`/demandRegisters/manualDtsSettlementOption/${id}`)\n\t\t\t\t\t.then((response) => {\n\t\t\t\t\t\t\n\t\t\t\t\t\tconsole.log(\">>>>> Data DTS----:\" + response.data[0].status);\n\t\t\t\t\t\tconsole.log(\">>>>> Data DTS-Id For Ref---:\" + response.data[0].dtsIdForReference);\n\t\t\t\t\t\tsetRefId(response.data[0].dtsIdForReference);\n\t\t\t\t\t\tsetStatus(response.data[0].status);\n\t\t\t\t\t\t setDtsData(response.data);\n\t\t\t\t\t\t \n\t\t\t\t\t})\n\t\t\t\t\t.catch((error) => {\n\t\t\t\t\t\t//console.log(error);\n\t\t\t\t\t\t//console.log(error.response.status);\n\t\t\t\t\t\t//console.log(error.response.headers);\n\t\t\t\t\t\tif (error.response)\n\t\t\t\t\t\t\tsetServerErrors(error.response.data.error);\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tsetServerErrors(error.Error);\n\t\t\t\t\t});\n   \n     \n\t\t\t\t \n\t\t\t\t\t\t\tconst fields = [\n\t\t\t\t\t'dtsLossToGovt', 'dtsRecoveryFromPay' \n\t\t\t\t];\n\t\t\t\tfields.forEach(field => setValue(field, record[field]));\n\t\t\t\tif (!isCancelled) {\n\t\t\t\t\tsetEntity(record);\n\t\t\t\t\t\n\t\t\t\t\tsetState(prev => ({ ...prev, state: record }));\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfetchData();\n\t\t\treturn () => { fetching = true; unmounted = true; }\n\t\t\n\n\t}, [id]);\n\n  \n\t \n\tconst onSubmit = (data, event,) => {\n\t\tevent.preventDefault();\n\t\tconsole.log(\"777777777:\"+data);\n\t\tif (data.id) {\n\t\t\taxios.put(\"/demandRegisters/manualDtsSettle/\" + data.id, data)\n\t\t\t\t.then((response) => { \n\t\t\t\t\t history.push(\"/manualDtsSettlement\");\n\t\t\t\t\t \n\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\t//console.log(error.response.data);\n\t\t\t\t\t//console.log(\"response--------\"+error.response.status);\n\t\t\t\t \n\t\t\t\t\tsetServerErrors(error.response.data['reason']);\n\t\t\t\t});\n\t \n\t\t} \n\n\t\t \n\t}\n\n\t \n\n\tconst onError = (errors, e) => console.log(errors, e);\n\n \n\t \n\n\tconst errorCallback = (err) => {\n\t\t//console.log(err);\n\t\tsetServerErrors(err);\n\t}\n\t\n\tconst handleLossChange = (event) => {\n\t\tconsole.log(\">>>>>>>Loss to Govt----:\" + event.target.value);\n    setDts(event.target.value)\n    if(event.target.value==='loss')\n    \tsetValue('dtsLossToGovt',true);\n    \tsetOption(\"loss\");\n    \n    \n  }\n\t\n\tconst handleRecoverChange = (event) => {\n    setDts(event.target.value)\n    setValue('dtsRecoveryFromPay',event.target.value);\n    setOption(\"recover\");\n  }\n\t\n\tconst resetRadioState = () => {\n    setDts('');\n  }\n\t\n\t \n\t\n\t \n\n\t \n\tasync function submitManDts(refId) {\n\t\tconsole.log(\">>>>>>Option id is---:\" + refId);\n\t\tawait axios.put(`/demandRegisters/submitDts/${refId}/${option}/manualDtsSettle`)\n\t\t \n\t\t\t.then((response) => {\n\t\t\t\tconsole.log(\"response from controller\");\n\t\t\t\t//let updatedRecords = [...data].filter((i) => i.id !== id);\n\t\t\t\t//\tconsole.log(updatedRecords);\n\t\t\t\t//setData(updatedRecords);\n\t\t\t\t//setUpdate(!update);\n\t\t\t\thistory.push(\"/manualDtsSettlement\");\n\t\t\t\t//history.push(\"/cbillTadaLtcs\");\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tconsole.log(error);\n\t\t\t\t//console.log(error.response.status);\n\t\t\t\t//console.log(error.response.headers);\n\t\t\t\tif (error.response)\n\t\t\t\t\tsetServerErrors(error.response.data.error);\n\t\t\t\telse\n\t\t\t\t\tsetServerErrors(error.Error);\n\t\t\t});\n\t}\n/*\tasync function approveManDts(id) {\n\t\tawait axios.put(`/demandRegisters/${id}/approveManualDts`)\n\t\t\t.then((response) => {\n\t\t\t\t//console.log(data);\n\t\t\t\t//let updatedRecords = [...data].filter((i) => i.id !== id);\n\t\t\t\t//console.log(updatedRecords);\n\t\t\t\t//setData(updatedRecords);\n\t\t\t\t//setUpdate(!update);\n\t\t\t\thistory.push({ pathname: '/manualDtsSettlement', state: response.data });\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tconsole.log(error);\n\t\t\t\t//console.log(error.response.status);\n\t\t\t\t//console.log(error.response.headers);\n\t\t\t\tif (error.response)\n\t\t\t\t\tsetServerErrors(error.response.data.error);\n\t\t\t\telse\n\t\t\t\t\tsetServerErrors(error.Error);\n\t\t\t});\n\t}*/\n\t \n\t\n\t \n\treturn (\n\t\t<div className=\"min-h-screen bg-gray-100 text-gray-900\">\n\t\t\t<div  className=\"max-w-10xl mx-auto px-4 sm:px-6 lg:px-8 pt-4\" >\n\t\t\t\t<form onSubmit={handleSubmit(onSubmit, onError)}>\n\t\t\t\t\t \n\t\t \t\t\t\t <div className=\"container\">\n\t\t\t\t\t\t\t<h1 class=\"text-blue-600\" align=\"center\">Transaction ID Details for corresponding Reference ID </h1>\n            <table className=\"table table-striped table-bordered\">\n                <thead>\n                    <tr>\n                        <th>CDAO_No</th>\n                        <th>Advance_Type</th>\n                         <th>Amount</th>\n                          <th>Journey_Start_Date</th>\n                           <th>Journey_End_Date</th>\n                            <th>Journey_Station_From</th>\n                             <th>Journey_Station_To</th>\n                              <th>Transaction_Id</th>\n                         \n                    </tr>\n                     {dtsData && dtsData.map(tt =>\n                        <tr key={tt.cdaoNo}>\n                            <td>{tt.cdaoNo}</td>\n                            <td>{tt.demandType}</td>\n                             <td>{tt.transAmount}</td>\n                              <td>{tt.journeyFromDate}</td>\n                               <td>{tt.journeyToDate}</td>\n                                <td>{tt.journeyStationFrom}</td>\n                                 <td>{tt.journeyStationTo}</td>\n                                  <td>{tt.transactionId}</td>\n                                  \n                             \n                        </tr>\n                    )}\n                    \n                     \n                     \n                </thead>\n\t\t\t\t\n\t\t\t\t \n\t\t\t\t\n\t\t </table>\n\t\t <br/>\n\t\t </div>\n\t\t\t\t\t\n<div className=\"container\">\n\t\t\t\t\t\t\t<h1 class=\"text-blue-600\" align=\"center\">Reference ID Details for the Cancelled Transaction </h1>\n\t\t\t\t\t\t\t \n            <table className=\"table table-striped table-bordered\">\n                <thead>\n                    <tr>\n                      <th>CDAO_No</th>\n                      <th>Advance_Type</th>\n                       <th>Amount</th>\n                       <th>Journey_Start_Date</th>\n                       <th>Journey_End_Date</th>\n                            <th>Journey_Station_From</th>\n                             <th>Journey_Station_To</th>\n                              <th>Reference_Id/Reference_Amount</th>\n                              <th>Cancellation_charges/Cancellation_ground/Cancellation_remarks</th>\n                             \n                         \n                    </tr>\n                     {dtsData && dtsData.map(tr =>\n                        <tr key={tr.cdaoNo}>\n                         <td>{tr.cdaoNo}</td>\n                            <td>{tr.demandType}</td>\n                             <td>{tr.refAmount}</td>\n                              <td>{tr.journeyFromDate}</td>\n                               <td>{tr.journeyToDate}</td>\n                                <td>{tr.journeyStationFrom}</td>\n                                 <td>{tr.journeyStationTo}</td>\n                                  <td>Reference_Id:{tr.referenceId}<br/>Reference_Amount:{tr.referenceAmount}</td>\n                             \t  <td>Cancellation_charges:{tr.cancellationCharges}<br/>Cancellation_ground:{tr.cancellationGround}\n                             \t  <br/>Cancellation_remarks:{tr.cancellationRemarks}<br/></td>\n                             \t   \n                        </tr>\n                    )}\n                    \n                     \n                     \n                </thead>\n\t\t\t\t\n\t\t\t\t \n\t\t\t\t\n\t\t </table>\n\t\t </div>\n\t\t \n\t\t \n\t\t <br/>\n\t\t <br/>\n\t\t <div>\n\t <strong> Select Mode Of Recovery:</strong>\n\t <br/>\n\t <br/>\n\t {/* <div>\n\t <label>\n\t <input type=\"radio\" value=\"loss\" checked={dts==='loss'} onChange={handleLossChange}/> Loss To Government Exchequer\n\t </label>\n\t </div> */}\n\t <br/>\n\t <br/>\n\t \n\t <div>\n\t <label>\n\t <input type=\"radio\" value=\"recover\" checked={dts==='recover'} onChange={handleRecoverChange}/> Recovery From Pay Of The Officer\n\t </label>\n\t </div>\n\t \n\t <div>\n        <button\n          type=\"reset\"\n          onClick={resetRadioState}\n        />\n      </div>\n\t\t \n\t\t \n\t\t </div>\n\t\t<div align=\"center\">\n\t\t \n\t\t\t\t\t\t{' '}\n\t\t\t\t\t\t{status!=null &&  status.includes(\"audSubmit\")&&\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclassName=\"w-16 m-0 p-0 bg-red-500 hover:bg-red-700 \"\n\t\t\t\t\t\t\t\tonClick={() => submitManDts(refId)}\n\t\t\t\t\t\t\t>\tSubmit \t</button>\n\t\t\t\t\t\t}\n\t\t\t\t\t\t \n\t\t\t\t\t\t \n\t\t\t\t\t</div>\n\t\t \n\t\t\t\t</form>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n \nexport default withRouter(ManualDtsSettlementOption);"]},"metadata":{},"sourceType":"module"}