{"ast":null,"code":"import _regeneratorRuntime from\"/home/itsdcsec/falconws/falcon_face/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/itsdcsec/falconws/falcon_face/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/itsdcsec/falconws/falcon_face/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState,useEffect,useMemo}from\"react\";import{withRouter}from\"react-router-dom\";import axios from\"axios\";import Table from\"../utils/Table\";//\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SectionWisePendency=function SectionWisePendency(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),serverErrors=_useState4[0],setServerErrors=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),loading=_useState6[0],setLoading=_useState6[1];useEffect(function(){var fetching=false;var unmounted=false;function fetchData(){return _fetchData.apply(this,arguments);}function _fetchData(){_fetchData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(fetching){_context.next=3;break;}_context.next=3;return axios.get(\"/cbillTadaLtcs/twControls/sectionwisePendency\").then(function(response){console.log(\"response>>\"+response.data);//setSh3List(response.data);\nsetData(response.data);}).catch(function(error){//console.log(error);\n//console.log(error.response.status);\n//console.log(error.response.headers);\nif(error.response)setServerErrors(error.response.data.error);else setServerErrors(error.Error);});case 3:case\"end\":return _context.stop();}}},_callee);}));return _fetchData.apply(this,arguments);}fetchData();return function(){fetching=true;unmounted=true;};// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);var columns=useMemo(function(){return[{Header:\"Section\",accessor:\"sectionname\"},{Header:\"Bills Pending\",accessor:\"count\"},{Header:\"Oldest Date\",accessor:\"oldestDate\"}];},[data]);return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-100 text-gray-900\",children:/*#__PURE__*/_jsxs(\"main\",{className:\"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 pt-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\" \",children:/*#__PURE__*/_jsx(\"h1\",{className:\"text-xl font-semibold ml-4\",children:\"TWING Section Task Wise Pendency\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"-mt-2 max-h-1 py-0 ml-0\",children:/*#__PURE__*/_jsx(Table,{columns:columns,data:data,page:50,className:\"table-auto\"})})]})});};export default withRouter(SectionWisePendency);","map":{"version":3,"sources":["/home/itsdcsec/falconws/falcon_face/src/components/SectionWisePendency.js"],"names":["useState","useEffect","useMemo","withRouter","axios","Table","SectionWisePendency","data","setData","serverErrors","setServerErrors","loading","setLoading","fetching","unmounted","fetchData","get","then","response","console","log","catch","error","Error","columns","Header","accessor"],"mappings":"2cACA,OAASA,QAAT,CAAmBC,SAAnB,CAA8BC,OAA9B,KAA6C,OAA7C,CACA,OAASC,UAAT,KAA2B,kBAA3B,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,KAAP,KAAkB,gBAAlB,CAAoC;wFAGpC,GAAMC,CAAAA,mBAAmB,CAAG,QAAtBA,CAAAA,mBAAsB,EAAM,eAERN,QAAQ,CAAC,EAAD,CAFA,wCAEzBO,IAFyB,eAEnBC,OAFmB,8BAGQR,QAAQ,CAAC,IAAD,CAHhB,yCAGzBS,YAHyB,eAGXC,eAHW,8BAIFV,QAAQ,CAAC,IAAD,CAJN,yCAIzBW,OAJyB,eAIhBC,UAJgB,eAMhCX,SAAS,CAAC,UAAM,CACd,GAAIY,CAAAA,QAAQ,CAAG,KAAf,CACA,GAAIC,CAAAA,SAAS,CAAG,KAAhB,CAFc,QAICC,CAAAA,SAJD,qIAId,sIACOF,QADP,+CAEUT,CAAAA,KAAK,CACRY,GADG,kDAEHC,IAFG,CAEE,SAACC,QAAD,CAAc,CAClBC,OAAO,CAACC,GAAR,CAAY,aAAeF,QAAQ,CAACX,IAApC,EACA;AACAC,OAAO,CAACU,QAAQ,CAACX,IAAV,CAAP,CACD,CANG,EAOHc,KAPG,CAOG,SAACC,KAAD,CAAW,CAChB;AACA;AACA;AACA,GAAIA,KAAK,CAACJ,QAAV,CAAoBR,eAAe,CAACY,KAAK,CAACJ,QAAN,CAAeX,IAAf,CAAoBe,KAArB,CAAf,CAApB,IACKZ,CAAAA,eAAe,CAACY,KAAK,CAACC,KAAP,CAAf,CACN,CAbG,CAFV,uDAJc,4CAqBdR,SAAS,GAET,MAAO,WAAM,CACXF,QAAQ,CAAG,IAAX,CACAC,SAAS,CAAG,IAAZ,CACD,CAHD,CAIA;AACD,CA5BQ,CA4BN,EA5BM,CAAT,CA8BA,GAAMU,CAAAA,OAAO,CAAGtB,OAAO,CACrB,iBAAM,CACJ,CACEuB,MAAM,CAAE,SADV,CAEEC,QAAQ,CAAE,aAFZ,CADI,CAMJ,CACED,MAAM,CAAE,eADV,CAEEC,QAAQ,CAAE,OAFZ,CANI,CAUJ,CACED,MAAM,CAAE,aADV,CAEEC,QAAQ,CAAE,YAFZ,CAVI,CAAN,EADqB,CAgBrB,CAACnB,IAAD,CAhBqB,CAAvB,CAmBA,mBACE,YAAK,SAAS,CAAC,wCAAf,uBACE,cAAM,SAAS,CAAC,6CAAhB,wBACE,YAAK,SAAS,CAAC,GAAf,uBACE,WAAI,SAAS,CAAC,4BAAd,8CADF,EADF,cAME,YAAK,SAAS,CAAC,yBAAf,uBACE,KAAC,KAAD,EACE,OAAO,CAAEiB,OADX,CAEE,IAAI,CAAEjB,IAFR,CAGE,IAAI,CAAE,EAHR,CAIE,SAAS,CAAC,YAJZ,EADF,EANF,GADF,EADF,CAmBD,CA1ED,CA4EA,cAAeJ,CAAAA,UAAU,CAACG,mBAAD,CAAzB","sourcesContent":["\nimport { useState, useEffect, useMemo } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport axios from \"axios\";\nimport Table from \"../utils/Table\"; //\n\n\nconst SectionWisePendency = () => {\n  \n  const [data, setData] = useState([]);\n  const [serverErrors, setServerErrors] = useState(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    let fetching = false;\n    let unmounted = false;\n\n    async function fetchData() {\n      if (!fetching)\n        await axios\n          .get(`/cbillTadaLtcs/twControls/sectionwisePendency`)\n          .then((response) => {\n            console.log(\"response>>\" + response.data);\n            //setSh3List(response.data);\n            setData(response.data);\n          })\n          .catch((error) => {\n            //console.log(error);\n            //console.log(error.response.status);\n            //console.log(error.response.headers);\n            if (error.response) setServerErrors(error.response.data.error);\n            else setServerErrors(error.Error);\n          });\n    }\n    fetchData();\n\n    return () => {\n      fetching = true;\n      unmounted = true;\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const columns = useMemo(\n    () => [\n      {\n        Header: \"Section\",\n        accessor: \"sectionname\",\n      },\n     \n      {\n        Header: \"Bills Pending\",\n        accessor: \"count\",\n      },\n      {\n        Header: \"Oldest Date\",\n        accessor: \"oldestDate\",\n      },\n    ],\n    [data]\n  );\n\n  return (\n    <div className=\"min-h-screen bg-gray-100 text-gray-900\">\n      <main className=\"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 pt-4\">\n        <div className=\" \">\n          <h1 className=\"text-xl font-semibold ml-4\">\n            TWING Section Task Wise Pendency\n          </h1>\n        </div>\n        <div className=\"-mt-2 max-h-1 py-0 ml-0\">\n          <Table\n            columns={columns}\n            data={data}\n            page={50}\n            className=\"table-auto\"\n          />\n        </div>\n      </main>\n    </div>\n  );\n};\n\nexport default withRouter(SectionWisePendency);\n"]},"metadata":{},"sourceType":"module"}