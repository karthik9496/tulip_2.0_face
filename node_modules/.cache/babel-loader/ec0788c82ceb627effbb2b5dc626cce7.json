{"ast":null,"code":"var _jsxFileName = \"/home/itsdcsec/falconws/falcon_face/src/components/LetterEdit.js\";\nimport { useState, useEffect, useMemo } from \"react\";\nimport { withRouter, useParams, useHistory } from \"react-router-dom\";\nimport axios from \"axios\";\nimport ReactQuill from \"react-quill\";\nimport \"react-quill/dist/quill.snow.css\";\nimport * as yup from \"yup\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst LetterEdit = () => {\n  var _data$dak, _data$dak2, _data$employee, _data$employee$rank, _data$employee2, _data$section, _data$employee3, _data$employee4, _data$employee5, _data$unit, _data$unit2, _data$unit3, _data$unit4;\n\n  let {\n    id\n  } = useParams();\n  let history = useHistory();\n  const [data, setData] = useState({});\n  const [serverErrors, setServerErrors] = useState([]);\n  const [buttonState, setButtonState] = useState();\n  const [loading, setLoading] = useState(true);\n  const [disabled, setDisabled] = useState(false);\n  const [unitCode, setUnitCode] = useState({});\n  const [letterDisposed, setLetterDisposed] = useState(false);\n  const schema = yup.object({});\n  const quillModuleToolBar = {\n    toolbar: [// [{ header: [1, 2, 3, 4, 5, 6] }],\n    // [{ align: [] }],\n    [\"bold\", \"italic\", \"underline\"], [{\n      list: \"ordered\"\n    }, {\n      list: \"bullet\"\n    } //{ indent: \"-1\" },\n    //{ indent: \"+1\" },\n    ] // [\"link\", \"image\"],\n    // [\"clean\"],\n    ]\n  };\n  const quillFormats = [\"bold\", \"italic\", \"list\", \"underline\"];\n  useEffect(() => {\n    // console.log(\"hehwurihwuehruighuih\");\n    if (id !== \"new\") {\n      async function fetchData() {\n        await axios.get(\"/letters/\" + id).then(response => {\n          var _record$unit;\n\n          let record = response.data;\n\n          if (!((_record$unit = record.unit) === null || _record$unit === void 0 ? void 0 : _record$unit.susNo)) {\n            record = { ...record,\n              unit: {\n                unitCode: \"\",\n                susNo: \"\",\n                unitName: \"\"\n              }\n            };\n          }\n\n          if (record.approved == true) {\n            setLetterDisposed(true);\n          }\n\n          setData(record);\n          console.log(\"letter detail\", response.data);\n          setLoading(false);\n        }).catch(error => {\n          setLoading(false);\n          if (error.response) setServerErrors(error.response.data.error);else setServerErrors(error.Error);\n        });\n      }\n\n      fetchData();\n    }\n  }, []);\n\n  const handleInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setData({ ...data,\n      [name]: value\n    });\n  };\n\n  useEffect(() => {\n    if (unitCode.length > 5 && unitCode.length < 7) {\n      axios.get(`/units/unitCode/${unitCode.toUpperCase()}`).then(response => {\n        console.log(response.data);\n\n        if (response.data.susNo) {\n          // setData({...data,unit:{...data.unit,...response.data}})\n          setData({ ...data,\n            unit: response.data\n          });\n        } else {\n          setData({ ...data,\n            unit: {\n              unitCode: \"\"\n            }\n          });\n        }\n      });\n    } else {\n      setData({ ...data,\n        unit: { ...data.unit,\n          unitCode: unitCode,\n          susNo: \"\",\n          unitName: \"\"\n        }\n      });\n    }\n  }, [unitCode]);\n  useEffect(() => {\n    if (buttonState === \"submitLetter\") {\n      console.log(\"data\", data);\n      axios.put(`/letters/submitLetter/${id}`, data).then(() => {\n        history.push(\"/letter\");\n      }).catch(error => {\n        setServerErrors(error.response.data);\n      });\n    } else if (buttonState === \"approveLetter\") {\n      console.log(\"approve data\", data);\n      axios.put(`/letters/approve/${id}`, data).then(() => {\n        history.push(\"/letter\");\n      }).catch(error => {\n        setServerErrors(error.response.data);\n      });\n    }\n\n    return () => {\n      setButtonState(\"\");\n    };\n  }, [buttonState]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"\",\n    children: (data === null || data === void 0 ? void 0 : (_data$dak = data.dak) === null || _data$dak === void 0 ? void 0 : _data$dak.dakidNo) && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center p-3 flex-col\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-black font-bold text-4xl underline pb-3 font-mono\",\n        children: [!(data === null || data === void 0 ? void 0 : data.approved) ? \"Edit\" : \"Disposed\", \" Letter\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `${!(data === null || data === void 0 ? void 0 : data.approved) ? \" w-7/12\" : \"w-11/12\"}  rounded-3xl p-3 bg-white`,\n        style: {\n          boxShadow: \"rgba(17, 17, 26, 0.3) 0px 8px 54px 10px, rgba(17, 17, 26, 0.1) 0px 16px 56px, rgba(17, 17, 26, 0.1) 0px 24px 80px\"\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white pb-4  \",\n          style: {\n            borderRadius: \"25px 25px 0 0\",\n            borderBottom: \"none\",\n            boxShadow: \"none\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between my-2  pb-2 flex-wrap\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-xl font-bold\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [\"Dak Id:\", /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"bg-gray-200 rounded-lg px-2\",\n                  children: data === null || data === void 0 ? void 0 : (_data$dak2 = data.dak) === null || _data$dak2 === void 0 ? void 0 : _data$dak2.dakidNo\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 157,\n                  columnNumber: 21\n                }, this), \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 155,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 154,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-xl font-bold\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [data === null || data === void 0 ? void 0 : (_data$employee = data.employee) === null || _data$employee === void 0 ? void 0 : (_data$employee$rank = _data$employee.rank) === null || _data$employee$rank === void 0 ? void 0 : _data$employee$rank.rankName, \" \", data === null || data === void 0 ? void 0 : (_data$employee2 = data.employee) === null || _data$employee2 === void 0 ? void 0 : _data$employee2.officerName, \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 164,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-center rounded-lg bg-gray-200 px-2\",\n                children: [data === null || data === void 0 ? void 0 : (_data$section = data.section) === null || _data$section === void 0 ? void 0 : _data$section.sectionName, \" \", \"/\", \" \", data === null || data === void 0 ? void 0 : (_data$employee3 = data.employee) === null || _data$employee3 === void 0 ? void 0 : _data$employee3.task, \" \", \"/\", \" \", data === null || data === void 0 ? void 0 : (_data$employee4 = data.employee) === null || _data$employee4 === void 0 ? void 0 : _data$employee4.cdaoNo, data === null || data === void 0 ? void 0 : (_data$employee5 = data.employee) === null || _data$employee5 === void 0 ? void 0 : _data$employee5.checkDigit]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 168,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 163,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-xl font-bold\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [\"Letter date:\", \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \" bg-gray-200 rounded-lg px-2\",\n                  children: data === null || data === void 0 ? void 0 : data.letterDate\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 177,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 175,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 174,\n              columnNumber: 17\n            }, this), (data === null || data === void 0 ? void 0 : data.approved) && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-xl font-bold\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: \"Disposal date:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 184,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \" bg-gray-200 rounded-lg px-2\",\n                children: data === null || data === void 0 ? void 0 : data.disposalDate\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 185,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 183,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"px-8\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-0 flex flex-wrap justify-between\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-xl font-bold -ml-2\",\n                  children: \"Unit Code\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 194,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  className: \"px-3 py-1 border-black text-black w-40\",\n                  name: \"reference\",\n                  value: data === null || data === void 0 ? void 0 : (_data$unit = data.unit) === null || _data$unit === void 0 ? void 0 : _data$unit.unitCode,\n                  onChange: e => {\n                    setUnitCode(e.target.value);\n                  },\n                  readOnly: letterDisposed\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 195,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 193,\n                columnNumber: 19\n              }, this), (data === null || data === void 0 ? void 0 : (_data$unit2 = data.unit) === null || _data$unit2 === void 0 ? void 0 : _data$unit2.susNo) && /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-xl font-bold -ml-2\",\n                    children: \"SUS No\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 208,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    className: \"px-3 py-1 border-black text-black w-40\",\n                    name: \"susNo\",\n                    value: data === null || data === void 0 ? void 0 : (_data$unit3 = data.unit) === null || _data$unit3 === void 0 ? void 0 : _data$unit3.susNo,\n                    readOnly: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 209,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 207,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-xl font-bold -ml-2\",\n                    children: \"Unit Name\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 217,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    className: \"px-3 py-1 border-black text-black w-40\",\n                    name: \"unitName\",\n                    value: data === null || data === void 0 ? void 0 : (_data$unit4 = data.unit) === null || _data$unit4 === void 0 ? void 0 : _data$unit4.unitName,\n                    readOnly: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 218,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 216,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 192,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex flex-wrap p-0 justify-between\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-xl font-bold -ml-2\",\n                  children: \"Reference No:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 230,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  className: \"px-3 py-1 border-black text-black\",\n                  name: \"reference\",\n                  value: data === null || data === void 0 ? void 0 : data.reference,\n                  onChange: e => handleInputChange(e),\n                  readOnly: letterDisposed\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 231,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 229,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-xl font-bold -ml-2\",\n                  children: \"Upload to website\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 240,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"checkbox\",\n                  name: \"uploadToWebsite\",\n                  checked: data === null || data === void 0 ? void 0 : data.uploadToWebsite,\n                  onChange: e => {\n                    !letterDisposed && setData({ ...data,\n                      uploadToWebsite: e.target.checked\n                    });\n                  } // disabled={letterDisposed}\n\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 243,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 239,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 228,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-xl font-bold -ml-2\",\n                children: \"Subject\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 259,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                className: \"px-3 py-1 border-black text-black w-full\",\n                name: \"subject\",\n                value: data === null || data === void 0 ? void 0 : data.subject,\n                onChange: e => handleInputChange(e),\n                readOnly: letterDisposed\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 260,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 258,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-xl font-bold -ml-2\",\n                children: \"Reply/Remarks\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 269,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(ReactQuill, {\n                className: `form-control pt-0 px-0 pb-10 h-96 ${(data === null || data === void 0 ? void 0 : data.approved) ? \"bg-gray-200\" : \"bg-white\"}`,\n                theme: \"snow\",\n                readOnly: (data === null || data === void 0 ? void 0 : data.approved) || disabled,\n                modules: quillModuleToolBar,\n                formats: quillFormats,\n                value: data.remarks,\n                onChange: remarks => {\n                  setData({ ...data,\n                    remarks: remarks\n                  });\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 270,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 268,\n              columnNumber: 17\n            }, this), !(data === null || data === void 0 ? void 0 : data.approved) ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-center text-lg\",\n              children: [(data === null || data === void 0 ? void 0 : data.action) === \"edit\" ? /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"w-32 rounded-full h-10 \",\n                type: \"submit\",\n                name: \"submitLetter\",\n                onClick: () => setButtonState(\"submitLetter\"),\n                children: \"Submit\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 287,\n                columnNumber: 23\n              }, this) : \"\", data.action === \"approve\" ? /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"submit\",\n                className: \" rounded-full h-10 w-32 \",\n                name: \"approveLetter\",\n                onClick: () => setButtonState(\"approveLetter\"),\n                children: \"Approve\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 299,\n                columnNumber: 23\n              }, this) : \"\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 285,\n              columnNumber: 19\n            }, this) : \"\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 130,\n    columnNumber: 5\n  }, this);\n};\n\nexport default withRouter(LetterEdit);","map":{"version":3,"sources":["/home/itsdcsec/falconws/falcon_face/src/components/LetterEdit.js"],"names":["useState","useEffect","useMemo","withRouter","useParams","useHistory","axios","ReactQuill","yup","LetterEdit","id","history","data","setData","serverErrors","setServerErrors","buttonState","setButtonState","loading","setLoading","disabled","setDisabled","unitCode","setUnitCode","letterDisposed","setLetterDisposed","schema","object","quillModuleToolBar","toolbar","list","quillFormats","fetchData","get","then","response","record","unit","susNo","unitName","approved","console","log","catch","error","Error","handleInputChange","e","name","value","target","length","toUpperCase","put","push","dak","dakidNo","boxShadow","borderRadius","borderBottom","employee","rank","rankName","officerName","section","sectionName","task","cdaoNo","checkDigit","letterDate","disposalDate","reference","uploadToWebsite","checked","subject","remarks","action"],"mappings":"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","sourcesContent":["import { useState, useEffect, useMemo } from \"react\";\nimport { withRouter, useParams, useHistory } from \"react-router-dom\";\nimport axios from \"axios\";\nimport ReactQuill from \"react-quill\";\nimport \"react-quill/dist/quill.snow.css\";\nimport * as yup from \"yup\";\n\nconst LetterEdit = () => {\n  let { id } = useParams();\n  let history = useHistory();\n\n  const [data, setData] = useState({});\n  const [serverErrors, setServerErrors] = useState([]);\n  const [buttonState, setButtonState] = useState();\n  const [loading, setLoading] = useState(true);\n  const [disabled, setDisabled] = useState(false);\n  const [unitCode, setUnitCode] = useState({});\n  const [letterDisposed, setLetterDisposed] = useState(false);\n\n  const schema = yup.object({});\n\n  const quillModuleToolBar = {\n    toolbar: [\n      // [{ header: [1, 2, 3, 4, 5, 6] }],\n      // [{ align: [] }],\n      [\"bold\", \"italic\", \"underline\"],\n      [\n        { list: \"ordered\" },\n        { list: \"bullet\" },\n        //{ indent: \"-1\" },\n        //{ indent: \"+1\" },\n      ],\n      // [\"link\", \"image\"],\n      // [\"clean\"],\n    ],\n  };\n\n  const quillFormats = [\"bold\", \"italic\", \"list\", \"underline\"];\n\n  useEffect(() => {\n    // console.log(\"hehwurihwuehruighuih\");\n    if (id !== \"new\") {\n      async function fetchData() {\n        await axios\n          .get(\"/letters/\" + id)\n          .then((response) => {\n            let record = response.data;\n            if (!record.unit?.susNo) {\n              record = {\n                ...record,\n                unit: { unitCode: \"\", susNo: \"\", unitName: \"\" },\n              };\n            }\n            if (record.approved == true) {\n              setLetterDisposed(true);\n            }\n            setData(record);\n            console.log(\"letter detail\", response.data);\n            setLoading(false);\n          })\n          .catch((error) => {\n            setLoading(false);\n            if (error.response) setServerErrors(error.response.data.error);\n            else setServerErrors(error.Error);\n          });\n      }\n      fetchData();\n    }\n  }, []);\n\n  const handleInputChange = (e) => {\n    const { name, value } = e.target;\n    setData({ ...data, [name]: value });\n  };\n\n  useEffect(() => {\n    if (unitCode.length > 5 && unitCode.length < 7) {\n      axios\n        .get(`/units/unitCode/${unitCode.toUpperCase()}`)\n        .then((response) => {\n          console.log(response.data);\n          if (response.data.susNo) {\n            // setData({...data,unit:{...data.unit,...response.data}})\n            setData({ ...data, unit: response.data });\n          } else {\n            setData({ ...data, unit: { unitCode: \"\" } });\n          }\n        });\n    } else {\n      setData({\n        ...data,\n        unit: {\n          ...data.unit,\n          unitCode: unitCode,\n          susNo: \"\",\n          unitName: \"\",\n        },\n      });\n    }\n  }, [unitCode]);\n\n  useEffect(() => {\n    if (buttonState === \"submitLetter\") {\n      console.log(\"data\", data);\n      axios\n        .put(`/letters/submitLetter/${id}`, data)\n        .then(() => {\n          history.push(\"/letter\");\n        })\n        .catch((error) => {\n          setServerErrors(error.response.data);\n        });\n    } else if (buttonState === \"approveLetter\") {\n      console.log(\"approve data\", data);\n      axios\n        .put(`/letters/approve/${id}`, data)\n        .then(() => {\n          history.push(\"/letter\");\n        })\n        .catch((error) => {\n          setServerErrors(error.response.data);\n        });\n    }\n    return () => {\n      setButtonState(\"\");\n    };\n  }, [buttonState]);\n\n  return (\n    <div className=\"\">\n      {data?.dak?.dakidNo && (\n        <div className=\"flex items-center p-3 flex-col\">\n          <h1 className=\"text-black font-bold text-4xl underline pb-3 font-mono\">\n            {!data?.approved ? \"Edit\" : \"Disposed\"} Letter\n          </h1>\n          <div\n            className={`${\n              !data?.approved ? \" w-7/12\" : \"w-11/12\"\n            }  rounded-3xl p-3 bg-white`}\n            style={{\n              boxShadow:\n                \"rgba(17, 17, 26, 0.3) 0px 8px 54px 10px, rgba(17, 17, 26, 0.1) 0px 16px 56px, rgba(17, 17, 26, 0.1) 0px 24px 80px\",\n            }}\n          >\n            <div\n              className=\"bg-white pb-4  \"\n              style={{\n                borderRadius: \"25px 25px 0 0\",\n                borderBottom: \"none\",\n                boxShadow: \"none\",\n              }}\n            >\n              <div className=\"flex justify-between my-2  pb-2 flex-wrap\">\n                <div className=\"text-xl font-bold\">\n                  <div>\n                    Dak Id:\n                    <span className=\"bg-gray-200 rounded-lg px-2\">\n                      {data?.dak?.dakidNo}\n                    </span>{\" \"}\n                  </div>\n                </div>\n\n                <div className=\"text-xl font-bold\">\n                  <div>\n                    {data?.employee?.rank?.rankName}{\" \"}\n                    {data?.employee?.officerName}{\" \"}\n                  </div>\n                  <div className=\"flex justify-center rounded-lg bg-gray-200 px-2\">\n                    {data?.section?.sectionName} {\"/\"} {data?.employee?.task}{\" \"}\n                    {\"/\"} {data?.employee?.cdaoNo}\n                    {data?.employee?.checkDigit}\n                  </div>\n                </div>\n                <div className=\"text-xl font-bold\">\n                  <div>\n                    Letter date:{\" \"}\n                    <span className=\" bg-gray-200 rounded-lg px-2\">\n                      {data?.letterDate}\n                    </span>\n                  </div>\n                </div>\n                {data?.approved && (\n                  <div className=\"text-xl font-bold\">\n                    <div>Disposal date:</div>\n                    <div className=\" bg-gray-200 rounded-lg px-2\">\n                      {data?.disposalDate}\n                    </div>\n                  </div>\n                )}\n              </div>\n              <div className=\"px-8\">\n                <div className=\"p-0 flex flex-wrap justify-between\">\n                  <div>\n                    <div className=\"text-xl font-bold -ml-2\">Unit Code</div>\n                    <input\n                      className=\"px-3 py-1 border-black text-black w-40\"\n                      name=\"reference\"\n                      value={data?.unit?.unitCode}\n                      onChange={(e) => {\n                        setUnitCode(e.target.value);\n                      }}\n                      readOnly={letterDisposed}\n                    />\n                  </div>\n                  {data?.unit?.susNo && (\n                    <>\n                      <div>\n                        <div className=\"text-xl font-bold -ml-2\">SUS No</div>\n                        <input\n                          className=\"px-3 py-1 border-black text-black w-40\"\n                          name=\"susNo\"\n                          value={data?.unit?.susNo}\n                          readOnly\n                        />\n                      </div>\n                      <div>\n                        <div className=\"text-xl font-bold -ml-2\">Unit Name</div>\n                        <input\n                          className=\"px-3 py-1 border-black text-black w-40\"\n                          name=\"unitName\"\n                          value={data?.unit?.unitName}\n                          readOnly\n                        />\n                      </div>\n                    </>\n                  )}\n                </div>\n                <div className=\"flex flex-wrap p-0 justify-between\">\n                  <div>\n                    <div className=\"text-xl font-bold -ml-2\">Reference No:</div>\n                    <input\n                      className=\"px-3 py-1 border-black text-black\"\n                      name=\"reference\"\n                      value={data?.reference}\n                      onChange={(e) => handleInputChange(e)}\n                      readOnly={letterDisposed}\n                    />\n                  </div>\n                  <div>\n                    <div className=\"text-xl font-bold -ml-2\">\n                      Upload to website\n                    </div>\n                    <input\n                      type=\"checkbox\"\n                      name=\"uploadToWebsite\"\n                      checked={data?.uploadToWebsite}\n                      onChange={(e) => {\n                        !letterDisposed &&\n                          setData({\n                            ...data,\n                            uploadToWebsite: e.target.checked,\n                          });\n                      }}\n                      // disabled={letterDisposed}\n                    />\n                  </div>\n                </div>\n                <div className=\"mt-2\">\n                  <div className=\"text-xl font-bold -ml-2\">Subject</div>\n                  <input\n                    className=\"px-3 py-1 border-black text-black w-full\"\n                    name=\"subject\"\n                    value={data?.subject}\n                    onChange={(e) => handleInputChange(e)}\n                    readOnly={letterDisposed}\n                  />\n                </div>\n                <div className=\"mt-2\">\n                  <div className=\"text-xl font-bold -ml-2\">Reply/Remarks</div>\n                  <ReactQuill\n                    className={`form-control pt-0 px-0 pb-10 h-96 ${\n                      data?.approved ? \"bg-gray-200\" : \"bg-white\"\n                    }`}\n                    theme=\"snow\"\n                    readOnly={data?.approved || disabled}\n                    modules={quillModuleToolBar}\n                    formats={quillFormats}\n                    value={data.remarks}\n                    onChange={(remarks) => {\n                      setData({ ...data, remarks: remarks });\n                    }}\n                  />\n                </div>\n                {!data?.approved ? (\n                  <div className=\"flex justify-center text-lg\">\n                    {data?.action === \"edit\" ? (\n                      <button\n                        className=\"w-32 rounded-full h-10 \"\n                        type=\"submit\"\n                        name=\"submitLetter\"\n                        onClick={() => setButtonState(\"submitLetter\")}\n                      >\n                        Submit\n                      </button>\n                    ) : (\n                      \"\"\n                    )}\n                    {data.action === \"approve\" ? (\n                      <button\n                        type=\"submit\"\n                        className=\" rounded-full h-10 w-32 \"\n                        name=\"approveLetter\"\n                        onClick={() => setButtonState(\"approveLetter\")}\n                      >\n                        Approve\n                      </button>\n                    ) : (\n                      \"\"\n                    )}\n                  </div>\n                ) : (\n                  \"\"\n                )}\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default withRouter(LetterEdit);\n"]},"metadata":{},"sourceType":"module"}