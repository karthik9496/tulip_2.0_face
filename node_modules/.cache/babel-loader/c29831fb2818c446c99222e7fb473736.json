{"ast":null,"code":"import _defineProperty from\"/home/itsdcsec/falconws/falcon_face/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _regeneratorRuntime from\"/home/itsdcsec/falconws/falcon_face/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _objectSpread from\"/home/itsdcsec/falconws/falcon_face/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _asyncToGenerator from\"/home/itsdcsec/falconws/falcon_face/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/itsdcsec/falconws/falcon_face/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";/**\n * Code generated using Python\n * @author Raja Reddy\n * Date : 17 Oct 2021\n *\n * Modified By : \n */import{useState,useEffect}from\"react\";import{withRouter,useParams,useHistory}from\"react-router-dom\";import{useForm}from\"react-hook-form\";import axios from'axios';import*as yup from\"yup\";import{yupResolver}from'@hookform/resolvers/yup';import LiveSearch from'../utils/LiveSearch';//import DatePicker  from 'react-datepicker';\n//import \"react-datepicker/dist/react-datepicker.css\";\n//import addDays from 'date-fns/addDays'\nimport Tabs from'react-bootstrap/Tabs';import Tab from'react-bootstrap/Tab';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var schema=yup.object({//dakType: yup.object().required('Required'),\ndescription:yup.string().required('Required')});var BillTypeEdit=function BillTypeEdit(){var _errors$description;var _useForm=useForm({resolver:yupResolver(schema)}),register=_useForm.register,handleSubmit=_useForm.handleSubmit,setValue=_useForm.setValue,errors=_useForm.formState.errors,clearErrors=_useForm.clearErrors;var _useParams=useParams(),id=_useParams.id;var history=useHistory();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),serverErrors=_useState2[0],setServerErrors=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),entity=_useState4[0],setEntity=_useState4[1];var _useState5=useState({}),_useState6=_slicedToArray(_useState5,2),state=_useState6[0],setState=_useState6[1];var _useState7=useState('page1'),_useState8=_slicedToArray(_useState7,2),key=_useState8[0],setKey=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),sectionData=_useState10[0],setSectionData=_useState10[1];var _useState11=useState([]),_useState12=_slicedToArray(_useState11,2),dakTypeData=_useState12[0],setDakTypeData=_useState12[1];var _useState13=useState(),_useState14=_slicedToArray(_useState13,2),secId=_useState14[0],setSecId=_useState14[1];var _useState15=useState([]),_useState16=_slicedToArray(_useState15,2),secItems=_useState16[0],setSecItems=_useState16[1];var _useState17=useState([]),_useState18=_slicedToArray(_useState17,2),dakTypeItems=_useState18[0],setDakTypeItems=_useState18[1];var _useState19=useState(),_useState20=_slicedToArray(_useState19,2),dakTypeItem=_useState20[0],setDakTypeItem=_useState20[1];var _useState21=useState(true),_useState22=_slicedToArray(_useState21,2),loading=_useState22[0],setLoading=_useState22[1];var _useState23=useState(),_useState24=_slicedToArray(_useState23,2),dakType=_useState24[0],setDakType=_useState24[1];var _useState25=useState([]),_useState26=_slicedToArray(_useState25,2),secItem=_useState26[0],setSecItem=_useState26[1];var _useState27=useState(''),_useState28=_slicedToArray(_useState27,2),secGroup=_useState28[0],setSecGroup=_useState28[1];var _useState29=useState([]),_useState30=_slicedToArray(_useState29,2),sectionGroupList=_useState30[0],setSectionGroupList=_useState30[1];useEffect(function(){var isCancelled=false;console.log(id);if(id!=='new'){function fetchData(){return _fetchData.apply(this,arguments);}function _fetchData(){_fetchData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var record;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:record='';_context.next=3;return axios.get('/billTypes/'+id).then(function(response){record=response.data;var fields=['id','dakType','task','description','sectionGroup'];fields.forEach(function(field){return setValue(field,record[field]);});console.log(\">>>>> \"+record['id']);console.log(\">>>>> \"+record.dakType.id);console.log(\">>>>> \"+record.dakType.section.id);//console.log(\">>>>> \" + record['dakType'].id);\n//setDakTypeItem(response.data.dakType.id);\n//if(record.dakType){\nsetSecId(record.dakType.section.id);setDakTypeItem(record.dakType.id);console.log(secId);console.log(dakTypeItem);//}\n}).catch(function(error){//console.log(error);\n//console.log(error.response.status);\n//console.log(error.response.headers);\nif(error.response)setServerErrors(error.response.data.error);else setServerErrors(error.Error);});case 3:if(!isCancelled){setEntity(record);setState(function(prev){return _objectSpread(_objectSpread({},prev),{},{state:record});});console.log(\">>>>>>\"+entity.dakType+\"--\"+entity);/*\n\t\t\t\t\tif (entity.dakType) {\n\t\t\t\t\t\tconsole.log(\"set dak type \" + entity.dakType + \"--\" + entity.dakType.section.id);\n\t\t\t\t\t\t//setSecId(entity.dakType.section.id);\n\t\t\t\t\t\tsetDakType(entity.dakType.id)\n\t\t\t\t\t}\n\t\t\t\t\t*/}case 4:case\"end\":return _context.stop();}}},_callee);}));return _fetchData.apply(this,arguments);}fetchData();return function(){isCancelled=true;};}},[id]);useEffect(function(){var fetching=false;var unmounted=false;function fetchSectionGroup(){return _fetchSectionGroup.apply(this,arguments);}function _fetchSectionGroup(){_fetchSectionGroup=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(fetching){_context2.next=3;break;}_context2.next=3;return axios.get(\"/sections/999/sectionGroup\").then(function(response){console.log(\"response>>\"+response.data);setSectionGroupList(response.data);if(!unmounted){setLoading(false);}}).catch(function(error){//console.log(error);\n//console.log(error.response.status);\n//console.log(error.response.headers);\nif(error.response)setServerErrors(error.response.data.error);else setServerErrors(error.Error);});case 3:case\"end\":return _context2.stop();}}},_callee2);}));return _fetchSectionGroup.apply(this,arguments);}fetchSectionGroup();return function(){fetching=true;unmounted=true;};// eslint-disable-next-line react-hooks/exhaustive-deps\n},[id]);useEffect(function(){var fetching=false;var unmounted=false;console.log(\"hello\");function fetchSectionData(){return _fetchSectionData.apply(this,arguments);}function _fetchSectionData(){_fetchSectionData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:if(fetching){_context3.next=3;break;}_context3.next=3;return axios.get(\"/sections\").then(function(response){setSectionData(response.data);if(!unmounted){setSecItems(response.data.map(function(_ref){var id=_ref.id,sectionName=_ref.sectionName;return{id:id,label:sectionName};}));setLoading(false);}}).catch(function(error){//console.log(error);\n//console.log(error.response.status);\n//console.log(error.response.headers);\nif(error.response)setServerErrors(error.response.data.error);else setServerErrors(error.Error);});case 3:case\"end\":return _context3.stop();}}},_callee3);}));return _fetchSectionData.apply(this,arguments);}fetchSectionData();return function(){fetching=true;unmounted=true;};// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);useEffect(function(){var fetching=false;var unmounted=false;console.log(\"daktype\");function fetchDakTypeData(){return _fetchDakTypeData.apply(this,arguments);}function _fetchDakTypeData(){_fetchDakTypeData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:console.log(secGroup);if(!(!fetching&&secGroup)){_context4.next=4;break;}_context4.next=4;return axios.get(\"/sections/0/dakTypes/\".concat(secGroup)).then(function(response){console.log(\"response>>\"+response.data);setDakTypeData(response.data);if(!unmounted){setDakTypeItems(response.data.map(function(_ref2){var id=_ref2.id,description=_ref2.description;return{id:id,label:description,value:id};}));setLoading(false);}}).catch(function(error){//console.log(error);\n//console.log(error.response.status);\n//console.log(error.response.headers);\nif(error.response)setServerErrors(error.response.data.error);else setServerErrors(error.Error);});case 4:case\"end\":return _context4.stop();}}},_callee4);}));return _fetchDakTypeData.apply(this,arguments);}fetchDakTypeData();return function(){fetching=true;unmounted=true;};// eslint-disable-next-line react-hooks/exhaustive-deps\n},[secGroup]);var onSubmit=function onSubmit(data,event){event.preventDefault();if(data.id){axios.put(\"/billTypes/\"+data.id,data).then(function(response){history.push(\"/billTypes\");}).catch(function(error){console.log(error.response.data);console.log(error.response.status);console.log(error.response.headers);setServerErrors(error.response.data);});}else{axios.post(\"/billTypes\",data).then(function(response){history.push(\"/billTypes\");}).catch(function(error){//console.log(error.response.data);\n//console.log(error.response.status);\n//console.log(error.response.headers);\nsetServerErrors(error.response.data);});}};var onError=function onError(errors,e){return console.log(errors,e);};//All foreign keys. \n// XXXXXX Add search fields and adjust the values as necessary\nvar parentData={};//Callback for child components (Foreign Keys)\nvar callback=function callback(childData){//console.log(\"Parent Callback\");\nsetEntity(function(prev){return _objectSpread(_objectSpread({},prev),{},_defineProperty({},childData.fk,childData.entity));});setValue(childData.fk,childData.entity);//console.log(errors);\nclearErrors(childData.fk);};var errorCallback=function errorCallback(err){//console.log(err);\nsetServerErrors(err);};var handleInputChange=function handleInputChange(e){//console.log(e.target.value);\n};var handleSectionChange=function handleSectionChange(e){setSecId(e.target.value);//setDakTypeItem('');\nconsole.log(\"secid\"+e.target.value);};var handleGroupChange=function handleGroupChange(e){setSecGroup(sectionGroupList[e.target.selectedIndex-1]);setValue('sectionGroup',sectionGroupList[e.target.selectedIndex-1]);console.log(sectionGroupList[e.target.selectedIndex-1]);};var handleDakTypeChange=function handleDakTypeChange(e){console.log(\">>>\"+e.target.value);console.log(e.target.selectedIndex);console.log(dakTypeData[e.target.selectedIndex]);setDakTypeItem(e.target.value);setValue('dakType',dakTypeData[e.target.selectedIndex]);/*\t\t\n\t\tfor (var k in dakTypeData) {\n\t\t\tconsole.log(\"-----\" + dakTypeData[k].id + \"--\" + e.target.value + \"--\");\n\n\t\t\tif (dakTypeData[k].id == e.target.value) {\n\t\t\t\tconsole.log(\"setting entity daktype\");\n\t\t\t\tsetValue('dakType', dakTypeData[k]);\n\t\t\t}\n\t\t}\n\t\t*/ //console.log(\"entit---\" + entity.description + \"--\" + entity.dakType + \" \" + entity.description + \"--\" + entity.id);\n};return/*#__PURE__*/_jsx(\"div\",{className:\"max-w-xl mx-auto \",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-full w-3/4  mx-auto \",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(onSubmit,onError),children:[/*#__PURE__*/_jsxs(\"h1\",{children:[id==='new'?'Add':'Edit',\" Bill Type \"]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-red-500\",children:serverErrors}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-0\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Section Group\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-control py-0\",disabled:loading,value:secGroup,onChange:handleGroupChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",label:\"--select--\"},\"default\"),sectionGroupList.map(function(item,index){return/*#__PURE__*/_jsxs(\"option\",{value:item.toString(),children:[\"   \",item.toString(),\" \"]},item);})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Dak Types\"}),/*#__PURE__*/_jsx(\"select\",{className:\"form-control py-0\",disabled:loading,value:dakTypeItem,onChange:handleDakTypeChange,children:dakTypeItems.map(function(item){return/*#__PURE__*/_jsxs(\"option\",{value:item.value,children:[\" \",item.label,\" \"]},item.id);})})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Description\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({type:\"text\",name:\"description\"},register(\"description\")),{},{className:\"form-control py-0\"})),/*#__PURE__*/_jsx(\"div\",{className:\"text-red-500\",children:(_errors$description=errors.description)===null||_errors$description===void 0?void 0:_errors$description.message})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"px-4\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Save\"})})]})})});};export default withRouter(BillTypeEdit);","map":{"version":3,"sources":["/home/itsdcsec/falconws/falcon_face/src/components/BillTypeEdit.js"],"names":["useState","useEffect","withRouter","useParams","useHistory","useForm","axios","yup","yupResolver","LiveSearch","Tabs","Tab","schema","object","description","string","required","BillTypeEdit","resolver","register","handleSubmit","setValue","errors","formState","clearErrors","id","history","serverErrors","setServerErrors","entity","setEntity","state","setState","key","setKey","sectionData","setSectionData","dakTypeData","setDakTypeData","secId","setSecId","secItems","setSecItems","dakTypeItems","setDakTypeItems","dakTypeItem","setDakTypeItem","loading","setLoading","dakType","setDakType","secItem","setSecItem","secGroup","setSecGroup","sectionGroupList","setSectionGroupList","isCancelled","console","log","fetchData","record","get","then","response","data","fields","forEach","field","section","catch","error","Error","prev","fetching","unmounted","fetchSectionGroup","fetchSectionData","map","sectionName","label","fetchDakTypeData","value","onSubmit","event","preventDefault","put","push","status","headers","post","onError","e","parentData","callback","childData","fk","errorCallback","err","handleInputChange","handleSectionChange","target","handleGroupChange","selectedIndex","handleDakTypeChange","item","index","toString","message"],"mappings":"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","sourcesContent":["/**\n * Code generated using Python\n * @author Raja Reddy\n * Date : 17 Oct 2021\n *\n * Modified By : \n */\n\nimport { useState, useEffect } from \"react\";\nimport { withRouter, useParams, useHistory } from \"react-router-dom\";\nimport { useForm } from \"react-hook-form\";\nimport axios from 'axios';\nimport * as yup from \"yup\";\n\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport LiveSearch from '../utils/LiveSearch';\n\n//import DatePicker  from 'react-datepicker';\n//import \"react-datepicker/dist/react-datepicker.css\";\n//import addDays from 'date-fns/addDays'\n\nimport Tabs from 'react-bootstrap/Tabs'\nimport Tab from 'react-bootstrap/Tab'\n\nconst schema = yup.object({\n\t//dakType: yup.object().required('Required'),\n\tdescription: yup.string().required('Required'),\n});\n\n\nconst BillTypeEdit = () => {\n\tconst { register, handleSubmit, setValue, formState: { errors }, clearErrors } = useForm({\n\t\tresolver: yupResolver(schema)\n\t});\n\n\tlet { id } = useParams();\n\n\tlet history = useHistory();\n\tconst [serverErrors, setServerErrors] = useState([]);\n\tconst [entity, setEntity] = useState({});\n\tconst [state, setState] = useState({});\n\tconst [key, setKey] = useState('page1');\n\tconst [sectionData, setSectionData] = useState([]);\n\tconst [dakTypeData, setDakTypeData] = useState([]);\n\tconst [secId, setSecId] = useState();\n\tconst [secItems, setSecItems] = useState([]);\n\tconst [dakTypeItems, setDakTypeItems] = useState([]);\n\tconst [dakTypeItem, setDakTypeItem] = useState();\n\tconst [loading, setLoading] = useState(true);\n\tconst [dakType, setDakType] = useState();\n\tconst [secItem, setSecItem] = useState([]);\n\tconst [secGroup,setSecGroup]=useState('');\n\tconst [sectionGroupList,setSectionGroupList]=useState([]);\n\t  \n\n\n\n\tuseEffect(() => {\n\t\tlet isCancelled = false;\n\t\tconsole.log(id);\n\t\tif (id !== 'new') {\n\t\t\tasync function fetchData() {\n\t\t\t\tlet record = '';\n\t\t\t\tawait axios.get('/billTypes/' + id)\n\t\t\t\t\t.then((response) => {\n\t\t\t\t\t\trecord = response.data;\n\n\t\t\t\t\t\tconst fields = [\n\t\t\t\t\t\t\t'id', 'dakType', 'task', 'description','sectionGroup'\n\t\t\t\t\t\t];\n\t\t\t\t\t\tfields.forEach(field => setValue(field, record[field]));\n\t\t\t\t\t\tconsole.log(\">>>>> \" + record['id']);\t\t\t\t\t\t\n\t\t\t\t\t\tconsole.log(\">>>>> \" + record.dakType.id);\n\t\t\t\t\t\tconsole.log(\">>>>> \" + record.dakType.section.id);\n\t\t\t\t\t\t//console.log(\">>>>> \" + record['dakType'].id);\n\t\t\t\t\t\t\n\n\t\t\t\t\t\t\n\t\t\t\t\t\t//setDakTypeItem(response.data.dakType.id);\n\t\t\t\t\t\t//if(record.dakType){\n\t\t\t\t\t\t\tsetSecId(record.dakType.section.id);\n\t\t\t\t\t\t\tsetDakTypeItem(record.dakType.id);\n\t\t\t\t\t\t\tconsole.log(secId);\n\t\t\t\t\t\t\tconsole.log(dakTypeItem);\t\t\t\t\t\t\t\n\t\t\t\t\t\t//}\n\n\n\t\t\t\t\t})\n\t\t\t\t\t.catch((error) => {\n\t\t\t\t\t\t//console.log(error);\n\t\t\t\t\t\t//console.log(error.response.status);\n\t\t\t\t\t\t//console.log(error.response.headers);\n\t\t\t\t\t\tif (error.response)\n\t\t\t\t\t\t\tsetServerErrors(error.response.data.error);\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tsetServerErrors(error.Error);\n\t\t\t\t\t});\n\n\n\t\t\t\tif (!isCancelled) {\n\t\t\t\t\tsetEntity(record);\n\t\t\t\t\tsetState(prev => ({ ...prev, state: record }));\t\n\t\t\t\t\tconsole.log(\">>>>>>\" + entity.dakType + \"--\" + entity);\n\t\t\t\t\t/*\n\t\t\t\t\tif (entity.dakType) {\n\t\t\t\t\t\tconsole.log(\"set dak type \" + entity.dakType + \"--\" + entity.dakType.section.id);\n\t\t\t\t\t\t//setSecId(entity.dakType.section.id);\n\t\t\t\t\t\tsetDakType(entity.dakType.id)\n\t\t\t\t\t}\n\t\t\t\t\t*/\n\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfetchData();\n\t\t\treturn () => {\n\t\t\t\tisCancelled = true;\n\t\t\t};\n\t\t}\n\n\t}, [id]);\n\n\tuseEffect(() => {\n\t\tlet fetching = false;\n\t\tlet unmounted = false;\n\t\t \n\t\tasync function fetchSectionGroup() {\n\t\t\t \n\t\t\tif (!fetching)\n\t\t\t\t//console.log(secId);\n\t\t\t\tawait axios.get(`/sections/999/sectionGroup`)\n\t\t\t\t\t.then((response) => {\n\t\t\t\t\t\tconsole.log(\"response>>\" + response.data);\n\t\t\t\t\t\tsetSectionGroupList(response.data);\n\t\t\t\t\t\tif (!unmounted) {\n\t\t\t\t\t\t\t \n\t\t\t\t\t\t\t \n\t\t\t\t\t\t\tsetLoading(false);\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.catch((error) => {\n\t\t\t\t\t\t//console.log(error);\n\t\t\t\t\t\t//console.log(error.response.status);\n\t\t\t\t\t\t//console.log(error.response.headers);\n\t\t\t\t\t\tif (error.response)\n\t\t\t\t\t\t\tsetServerErrors(error.response.data.error);\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tsetServerErrors(error.Error);\n\t\t\t\t\t})\n\t\t}\n\t\tfetchSectionGroup();\n\n\t\treturn () => { fetching = true; unmounted = true; }\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [id]);\n\t\n\tuseEffect(() => {\n\t\tlet fetching = false;\n\t\tlet unmounted = false;\n\t\tconsole.log(\"hello\");\n\t\tasync function fetchSectionData() {\n\n\t\t\tif (!fetching)\n\t\t\t\tawait axios.get(`/sections`)\n\t\t\t\t\t.then((response) => {\n\t\t\t\t\t\tsetSectionData(response.data);\n\t\t\t\t\t\tif (!unmounted) {\n\t\t\t\t\t\t\tsetSecItems(\n\t\t\t\t\t\t\t\tresponse.data.map(({ id, sectionName }) => ({ id: id, label: sectionName }))\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tsetLoading(false);\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.catch((error) => {\n\t\t\t\t\t\t//console.log(error);\n\t\t\t\t\t\t//console.log(error.response.status);\n\t\t\t\t\t\t//console.log(error.response.headers);\n\t\t\t\t\t\tif (error.response)\n\t\t\t\t\t\t\tsetServerErrors(error.response.data.error);\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tsetServerErrors(error.Error);\n\t\t\t\t\t})\n\t\t}\n\t\tfetchSectionData();\n\n\t\treturn () => { fetching = true; unmounted = true; }\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, []);\n\n\n\tuseEffect(() => {\n\t\tlet fetching = false;\n\t\tlet unmounted = false;\n\t\tconsole.log(\"daktype\");\n\t\tasync function fetchDakTypeData() {\n\t\t\tconsole.log(secGroup);\n\t\t\tif (!fetching && secGroup)\n\t\t\t\t//console.log(secId);\n\t\t\t\tawait axios.get(`/sections/0/dakTypes/${secGroup}`)\n\t\t\t\t\t.then((response) => {\n\t\t\t\t\t\tconsole.log(\"response>>\" + response.data);\n\t\t\t\t\t\tsetDakTypeData(response.data);\n\t\t\t\t\t\tif (!unmounted) {\n\t\t\t\t\t\t\tsetDakTypeItems(\n\t\t\t\t\t\t\t\tresponse.data.map(({ id, description }) => ({ id: id, label: description, value: id }))\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tsetLoading(false);\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.catch((error) => {\n\t\t\t\t\t\t//console.log(error);\n\t\t\t\t\t\t//console.log(error.response.status);\n\t\t\t\t\t\t//console.log(error.response.headers);\n\t\t\t\t\t\tif (error.response)\n\t\t\t\t\t\t\tsetServerErrors(error.response.data.error);\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tsetServerErrors(error.Error);\n\t\t\t\t\t})\n\t\t}\n\t\tfetchDakTypeData();\n\n\t\treturn () => { fetching = true; unmounted = true; }\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [secGroup]);\n\n\n\n\tconst onSubmit = (data, event) => {\n\t\tevent.preventDefault();\n\t\tif (data.id) {\n\t\t\taxios.put(\"/billTypes/\" + data.id, data)\n\t\t\t\t.then((response) => { \n\t\t\t\t\thistory.push(\"/billTypes\");\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tconsole.log(error.response.data);\n\t\t\t\t\tconsole.log(error.response.status);\n\t\t\t\t\tconsole.log(error.response.headers);\n\t\t\t\t\tsetServerErrors(error.response.data)\n\t\t\t\t});\n\t\t} else {\n\t\t\taxios.post(\"/billTypes\", data)\n\t\t\t\t.then((response) => {\n\t\t\t\t\thistory.push(\"/billTypes\");\n\t\t\t\t })\n\t\t\t\t.catch((error) => {\n\t\t\t\t\t//console.log(error.response.data);\n\t\t\t\t\t//console.log(error.response.status);\n\t\t\t\t\t//console.log(error.response.headers);\n\t\t\t\t\tsetServerErrors(error.response.data)\n\t\t\t\t});\n\t\t}\n\n\t\t\n\t}\n\n\tconst onError = (errors, e) => console.log(errors, e);\n\n\t//All foreign keys. \n\t// XXXXXX Add search fields and adjust the values as necessary\n\tconst parentData = {\n\n\n\t}\n\n\t//Callback for child components (Foreign Keys)\n\tconst callback = (childData) => {\n\t\t//console.log(\"Parent Callback\");\n\t\tsetEntity(prev => ({ ...prev, [childData.fk]: childData.entity }));\n\t\tsetValue(childData.fk, childData.entity);\n\t\t//console.log(errors);\n\t\tclearErrors(childData.fk);\n\t};\n\n\tconst errorCallback = (err) => {\n\t\t//console.log(err);\n\t\tsetServerErrors(err);\n\t}\n\n\tconst handleInputChange = (e) => {\n\t\t//console.log(e.target.value);\n\t};\n\n\tconst handleSectionChange = (e) => {\n\t\tsetSecId(e.target.value);\n\t\t//setDakTypeItem('');\n\t\tconsole.log(\"secid\" + e.target.value);\n\t};\n\n\tconst handleGroupChange = (e) =>{\n\t\tsetSecGroup(sectionGroupList[e.target.selectedIndex-1]);\n\t\tsetValue('sectionGroup',sectionGroupList[e.target.selectedIndex-1])\n\t\tconsole.log(sectionGroupList[e.target.selectedIndex-1]);\n\t}\n\n\tconst handleDakTypeChange = (e) => {\n\t\tconsole.log(\">>>\" + e.target.value);\n\t\tconsole.log(e.target.selectedIndex);\n\t\tconsole.log(dakTypeData[e.target.selectedIndex])\t\n\t\tsetDakTypeItem(e.target.value);\n\t\tsetValue('dakType', dakTypeData[e.target.selectedIndex])\n\n\n\t\t/*\t\t\n\t\tfor (var k in dakTypeData) {\n\t\t\tconsole.log(\"-----\" + dakTypeData[k].id + \"--\" + e.target.value + \"--\");\n\n\t\t\tif (dakTypeData[k].id == e.target.value) {\n\t\t\t\tconsole.log(\"setting entity daktype\");\n\t\t\t\tsetValue('dakType', dakTypeData[k]);\n\t\t\t}\n\t\t}\n\t\t*/\n\t\t//console.log(\"entit---\" + entity.description + \"--\" + entity.dakType + \" \" + entity.description + \"--\" + entity.id);\n\t};\n\n\treturn (\n\t\t<div className=\"max-w-xl mx-auto \">\n\t\t\t<div className=\"w-full w-3/4  mx-auto \" >\n\n\t\t\t\t<form onSubmit={handleSubmit(onSubmit, onError)}>\n\t\t\t\t\t<h1 >{id === 'new' ? 'Add' : 'Edit'} Bill Type </h1>\n\t\t\t\t\t<div className=\"text-red-500\">{serverErrors}</div>\n\n\t\t\t\t\t<div className=\"grid grid-cols-2 gap-0\">\n\n\t\t\t\t\t\t<div >\n\t\t\t\t\t\t\t<b>Section Group</b>\n\t\t\t\t\t\t\t<select className=\"form-control py-0\"\n\t\t\t\t\t\t\t\tdisabled={loading}\n\t\t\t\t\t\t\t\tvalue={secGroup}\n\t\t\t\t\t\t\t\tonChange={handleGroupChange}>\n\t\t\t\t\t\t\t\t<option key=\"default\" value=\"\" label=\"--select--\"/>\n\t\t\t\t\t\t\t\t{sectionGroupList.map((item,index) => (\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t<option key={item} value={item.toString()}>   {item.toString()} </option>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div >\n\t\t\t\t\t\t\t<b>Dak Types</b>\n\t\t\t\t\t\t\t<select className=\"form-control py-0\"\n\t\t\t\t\t\t\t\tdisabled={loading}\n\t\t\t\t\t\t\t\tvalue={dakTypeItem}\n\t\t\t\t\t\t\t\tonChange={handleDakTypeChange}>\n\t\t\t\t\t\t\t\t{dakTypeItems.map((item) => (\n\t\t\t\t\t\t\t\t\t<option key={item.id} value={item.value}> {item.label} </option>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t</div>\n\n\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<label>Description</label>\n\t\t\t\t\t\t\t<input type=\"text\" name=\"description\" {...register(\"description\")}\n\t\t\t\t\t\t\t\tclassName=\"form-control py-0\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<div className=\"text-red-500\">{errors.description?.message}</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"px-4\">\n\t\t\t\t\t\t<button type=\"submit\" >Save</button>\n\t\t\t\t\t</div>\n\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default withRouter(BillTypeEdit);"]},"metadata":{},"sourceType":"module"}