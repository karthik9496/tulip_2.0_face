{"ast":null,"code":"import _regeneratorRuntime from\"/home/itsdcsec/falconws/falcon_face/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _objectSpread from\"/home/itsdcsec/falconws/falcon_face/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _asyncToGenerator from\"/home/itsdcsec/falconws/falcon_face/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/itsdcsec/falconws/falcon_face/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";/**\n * Code generated using Python\n * @author Raja Reddy\n * Date : 17 Oct 2021\n *\n * Modified By : \n */import{useState,useEffect}from\"react\";import{withRouter,useParams,useHistory}from\"react-router-dom\";import{useForm}from\"react-hook-form\";import axios from'axios';import*as yup from\"yup\";import{yupResolver}from'@hookform/resolvers/yup';import LiveSearch from'../utils/LiveSearch';import Tabs from'react-bootstrap/Tabs';import Tab from'react-bootstrap/Tab';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var schema=yup.object({section:yup.object().required('Required'),usr:yup.object().required('Required'),//\tusrBoss: yup.object().required('Required'),\nfromDate:yup.date().required('Required')//toDate: yup.string().required('Required'),\n//currentRecord: yup.boolean().required('Required'),\n//createdBy: yup.object().required('Required'),\n});var UsrSectionEdit=function UsrSectionEdit(){var _errors$section,_errors$usr,_errors$fromDate,_errors$toDate;var _useForm=useForm({resolver:yupResolver(schema)}),register=_useForm.register,handleSubmit=_useForm.handleSubmit,setValue=_useForm.setValue,errors=_useForm.formState.errors,clearErrors=_useForm.clearErrors;var _useParams=useParams(),id=_useParams.id;var history=useHistory();var filters=['section','0','designationLevel','0'];sessionStorage.setItem('filters',JSON.stringify(filters));//All foreign keys. \n// XXXXXX Add search fields and adjust the values as necessary\nvar initParentData={usr:{title:\"User\",url:\"usrs\",searchList:['usrName','accountNo'],//XXXXXXXXX Add search fields here and also in the corresponding repository\n//filters: {\n//\tsection: '',\n//},\t\t\t\nfkEntity:\"usr\",field:'usr'//Since usr and usrBoss refer to same table, differrentiating\n},section:{title:\"Section\",url:\"sections\",searchList:['sectionName'],//XXXXXXXXX Add search fields here and also in the corresponding repository\nfkEntity:\"section\"},usrBoss:{title:\"Boss\",url:\"usrs\",searchList:['usrName','accountNo'],//XXXXXXXXX Add search fields here and also in the corresponding repository\n//filters: {\n//\tsection: '',\n//\tdesignationLevel: '',\n//},\nfkEntity:\"usrBoss\",field:'usrBoss'//Since usr and usrBoss refer to same table, differrentiating\n}};var _useState=useState([]),_useState2=_slicedToArray(_useState,2),serverErrors=_useState2[0],setServerErrors=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),entity=_useState4[0],setEntity=_useState4[1];var _useState5=useState({}),_useState6=_slicedToArray(_useState5,2),state=_useState6[0],setState=_useState6[1];var _useState7=useState('page1'),_useState8=_slicedToArray(_useState7,2),key=_useState8[0],setKey=_useState8[1];//const [sectionData, setSectionData] = useState(parentData.section);\n//const [usrData, setUsrData] = useState(parentData.usr);\n//const [bossData, setBossData] = useState(parentData.usrBoss);\nvar _useState9=useState(initParentData),_useState10=_slicedToArray(_useState9,2),parentData=_useState10[0],setParentData=_useState10[1];var _useState11=useState(0),_useState12=_slicedToArray(_useState11,2),usrid=_useState12[0],setUsrid=_useState12[1];var _useState13=useState([]),_useState14=_slicedToArray(_useState13,2),usrBossData=_useState14[0],setUsrBossData=_useState14[1];var _useState15=useState([]),_useState16=_slicedToArray(_useState15,2),usrBossItems=_useState16[0],setUsrBossItems=_useState16[1];var _useState17=useState(true),_useState18=_slicedToArray(_useState17,2),loading=_useState18[0],setLoading=_useState18[1];var _useState19=useState(''),_useState20=_slicedToArray(_useState19,2),usrBossItem=_useState20[0],setUsrBossItem=_useState20[1];var _useState21=useState(0),_useState22=_slicedToArray(_useState21,2),secId=_useState22[0],setSecId=_useState22[1];useEffect(function(){var isCancelled=false;//console.log(id);\nif(id!=='new'){function fetchData(){return _fetchData.apply(this,arguments);}function _fetchData(){_fetchData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var record;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:record='';_context.next=3;return axios.get('/usrSections/'+id).then(function(response){record=response.data;var fields=['id','usr','section','usrBoss','fromDate','toDate','currentRecord','createdBy'];setUsrid(response.data['usr'].id);setSecId(response.data['section'].id);if(response.data['usrBoss'])setUsrBossItem(response.data['usrBoss'].id);console.log(usrid+\"--\"+secId);fields.forEach(function(field){return setValue(field,record[field]);});}).catch(function(error){//console.log(error);\n//console.log(error.response.status);\n//console.log(error.response.headers);\nif(error.response)setServerErrors(error.response.data.error);else setServerErrors(error.Error);});case 3:if(!isCancelled){setEntity(record);setState(function(prev){return _objectSpread(_objectSpread({},prev),{},{state:record});});//console.log(record);\nfilters[1]=record.section.id.toString();filters[3]=record.usr.designation.designationLevel.toString();//console.log(filters);\nsessionStorage.setItem('filters',JSON.stringify(filters));}case 4:case\"end\":return _context.stop();}}},_callee);}));return _fetchData.apply(this,arguments);}fetchData();return function(){isCancelled=true;};}},[]);useEffect(function(){console.log(usrBossItem);},[usrBossItem,setUsrBossItem]);useEffect(function(){var fetching=false;var unmounted=false;console.log(\"daktype\");function fetchBossData(){return _fetchBossData.apply(this,arguments);}function _fetchBossData(){_fetchBossData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!(!fetching&&usrid&&secId)){_context2.next=3;break;}_context2.next=3;return axios.get(\"/usrs/\".concat(usrid,\"/secId/\").concat(secId,\"/getBoss\")).then(function(response){console.log(\"response>>\"+response.data);setUsrBossData(response.data);if(!unmounted){setUsrBossItems(response.data.map(function(_ref){var id=_ref.id,usrName=_ref.usrName;return{id:id,label:usrName,value:id};}));setLoading(false);}}).catch(function(error){//console.log(error);\n//console.log(error.response.status);\n//console.log(error.response.headers);\nif(error.response)setServerErrors(error.response.data.error);else setServerErrors(error.Error);});case 3:case\"end\":return _context2.stop();}}},_callee2);}));return _fetchBossData.apply(this,arguments);}fetchBossData();return function(){fetching=true;unmounted=true;};// eslint-disable-next-line react-hooks/exhaustive-deps\n},[usrid,setUsrid,secId,setSecId]);var onSubmit=function onSubmit(data,event){event.preventDefault();console.log(data);if(data.id){axios.put(\"/usrSections/\"+data.id,data).then(function(response){history.push(\"/usrSections\");}).catch(function(error){//console.log(error.response.data);\n//console.log(error.response.status);\n//console.log(error.response.headers);\nsetServerErrors(error.response.data);});}else{axios.post(\"/usrSections\",data).then(function(response){history.push(\"/usrSections\");}).catch(function(error){//console.log(error.response.data);\n//console.log(error.response.status);\n//console.log(error.response.headers);\nsetServerErrors(error.response.data);});}};var onError=function onError(errors,e){return console.log(errors,e);};//Callback for child components (Foreign Keys)\nvar callback=function callback(childData){console.log(childData.entity);//console.log(\"Parent Callback\");\n//setEntity(prev => ({ ...prev, [childData.fk]: childData.entity }));\nsetValue(childData.fk,childData.entity);//console.log(errors);\n//clearErrors(childData.fk);\n/////\n/*\n\t\tif(childData.fk === 'section'){\n\t\t\tsetParentData(prev => ({...prev, usr: {...parentData.usr, filters:{section: childData.entity.id}}}));\n\t\t\tsetParentData(prev => ({...prev, usrBoss: {...parentData.usrBoss, \n\t\t\t\tfilters:{...parentData.usrBoss.filters, section: childData.entity.id}}}));\n\t\t}else if(childData.fk === 'usr')\n\t\t\tsetParentData(prev => ({...prev, usrBoss: {...parentData.usrBoss, \n\t\t\tfilters:{...parentData.usrBoss.filters,designationLevel: childData.entity.designation.designationLevel}}}));\n\t\tconsole.log(parentData);\n\t\t\n\t\tsessionStorage.setItem('items', JSON.stringify([1, 2, 3]));\n\n\t\tconst items = JSON.parse(sessionStorage.getItem('items'));\n\t\titems.push({ method: sessionStorage.getItem('method') });\n\t\tsessionStorage.setItem('items', JSON.stringify(items));\n\n\t\t*/var filters=JSON.parse(sessionStorage.getItem('filters'));if(childData.fk==='section'){filters[1]=childData.entity.id.toString();//Change section id\nsetSecId(childData.entity.id);}if(childData.fk==='usr'){setUsrid(childData.entity.id);filters[3]=childData.entity.designation.designationLevel.toString();// Change designatinLevel\n}sessionStorage.setItem('filters',JSON.stringify(filters));};var errorCallback=function errorCallback(err){//console.log(err);\nsetServerErrors(err);};var handleInputChange=function handleInputChange(e){//console.log(e.target.value);\n};var handleBossChange=function handleBossChange(e){console.log(e.target.selectedIndex);console.log(usrBossData[e.target.selectedIndex-1].usrName);setUsrBossItem(e.target.value);setValue('usrBoss',usrBossData[e.target.selectedIndex-1]);console.log(usrBossItem);};return/*#__PURE__*/_jsx(\"div\",{className:\"max-w-xl mx-auto \",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-full w-3/4  mx-auto \",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(onSubmit,onError),children:[/*#__PURE__*/_jsxs(\"h1\",{children:[id==='new'?'Add':'Edit',\" Usr Section \"]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-red-500\",children:serverErrors}),/*#__PURE__*/_jsxs(Tabs,{id:\"UsrSectionEdit\",activeKey:key,onSelect:function onSelect(k){return setKey(k);},className:\"mb-3\",children:[/*#__PURE__*/_jsx(Tab,{eventKey:\"page1\",title:\"Page 1\",className:\"h-120\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-0\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(LiveSearch,{name:\"section\",onChange:handleInputChange,parentData:parentData.section,parentCallback:callback,fkEntity:entity.section,errCallback:errorCallback}),/*#__PURE__*/_jsx(\"div\",{className:\"text-red-500 \",children:(_errors$section=errors.section)===null||_errors$section===void 0?void 0:_errors$section.message})]}),/*#__PURE__*/_jsx(\"div\",{}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(LiveSearch,{name:\"usr\",onChange:handleInputChange,parentData:parentData.usr,parentCallback:callback,fkEntity:entity.usr,errCallback:errorCallback}),/*#__PURE__*/_jsx(\"div\",{className:\"text-red-500 \",children:(_errors$usr=errors.usr)===null||_errors$usr===void 0?void 0:_errors$usr.message})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Usr Boss\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-control py-0\",disabled:loading,value:usrBossItem,onChange:handleBossChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"0\",children:\"---select---\"},'0'),usrBossItems.map(function(item){return/*#__PURE__*/_jsxs(\"option\",{value:item.value,children:[\" \",item.label,\" \"]},item.id);})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"From Date\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({type:\"date\",name:\"fromDate\"},register(\"fromDate\")),{},{className:\"form-control py-0\"})),/*#__PURE__*/_jsx(\"div\",{className:\"text-red-500\",children:(_errors$fromDate=errors.fromDate)===null||_errors$fromDate===void 0?void 0:_errors$fromDate.message})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"To Date\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({type:\"date\",name:\"toDate\"},register(\"toDate\")),{},{className:\"form-control py-0\"})),/*#__PURE__*/_jsx(\"div\",{className:\"text-red-500\",children:(_errors$toDate=errors.toDate)===null||_errors$toDate===void 0?void 0:_errors$toDate.message})]})]})}),/*#__PURE__*/_jsx(Tab,{eventKey:\"help\",title:\"Help\",children:/*#__PURE__*/_jsxs(\"ul\",{className:\"list-disc\",children:[/*#__PURE__*/_jsx(\"li\",{children:\"Add the Users from highest rank to lowest rank.\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Boss list is filtered by section and designation level.\"})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"px-4\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Save\"})})]})})});};export default withRouter(UsrSectionEdit);","map":{"version":3,"sources":["/home/itsdcsec/falconws/falcon_face/src/components/UsrSectionEdit.js"],"names":["useState","useEffect","withRouter","useParams","useHistory","useForm","axios","yup","yupResolver","LiveSearch","Tabs","Tab","schema","object","section","required","usr","fromDate","date","UsrSectionEdit","resolver","register","handleSubmit","setValue","errors","formState","clearErrors","id","history","filters","sessionStorage","setItem","JSON","stringify","initParentData","title","url","searchList","fkEntity","field","usrBoss","serverErrors","setServerErrors","entity","setEntity","state","setState","key","setKey","parentData","setParentData","usrid","setUsrid","usrBossData","setUsrBossData","usrBossItems","setUsrBossItems","loading","setLoading","usrBossItem","setUsrBossItem","secId","setSecId","isCancelled","fetchData","record","get","then","response","data","fields","console","log","forEach","catch","error","Error","prev","toString","designation","designationLevel","fetching","unmounted","fetchBossData","map","usrName","label","value","onSubmit","event","preventDefault","put","push","post","onError","e","callback","childData","fk","parse","getItem","errorCallback","err","handleInputChange","handleBossChange","target","selectedIndex","k","message","item","toDate"],"mappings":"omBAAA;AACA;AACA;AACA;AACA;AACA;AACA,GAEA,OAASA,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,CACA,OAASC,UAAT,CAAqBC,SAArB,CAAgCC,UAAhC,KAAkD,kBAAlD,CACA,OAASC,OAAT,KAAwB,iBAAxB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAO,GAAKC,CAAAA,GAAZ,KAAqB,KAArB,CAEA,OAASC,WAAT,KAA4B,yBAA5B,CACA,MAAOC,CAAAA,UAAP,KAAuB,qBAAvB,CAEA,MAAOC,CAAAA,IAAP,KAAiB,sBAAjB,CACA,MAAOC,CAAAA,GAAP,KAAgB,qBAAhB,C,wFAEA,GAAMC,CAAAA,MAAM,CAAGL,GAAG,CAACM,MAAJ,CAAW,CACzBC,OAAO,CAAEP,GAAG,CAACM,MAAJ,GAAaE,QAAb,CAAsB,UAAtB,CADgB,CAEzBC,GAAG,CAAET,GAAG,CAACM,MAAJ,GAAaE,QAAb,CAAsB,UAAtB,CAFoB,CAG1B;AACCE,QAAQ,CAAEV,GAAG,CAACW,IAAJ,GAAWH,QAAX,CAAoB,UAApB,CACV;AACA;AACA;AAPyB,CAAX,CAAf,CAWA,GAAMI,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,EAAM,8EACqDd,OAAO,CAAC,CACxFe,QAAQ,CAAEZ,WAAW,CAACI,MAAD,CADmE,CAAD,CAD5D,CACpBS,QADoB,UACpBA,QADoB,CACVC,YADU,UACVA,YADU,CACIC,QADJ,UACIA,QADJ,CAC2BC,MAD3B,UACcC,SADd,CAC2BD,MAD3B,CACqCE,WADrC,UACqCA,WADrC,gBAKfvB,SAAS,EALM,CAKtBwB,EALsB,YAKtBA,EALsB,CAO5B,GAAIC,CAAAA,OAAO,CAAGxB,UAAU,EAAxB,CAEA,GAAIyB,CAAAA,OAAO,CAAG,CAAC,SAAD,CAAY,GAAZ,CAAiB,kBAAjB,CAAqC,GAArC,CAAd,CACAC,cAAc,CAACC,OAAf,CAAuB,SAAvB,CAAkCC,IAAI,CAACC,SAAL,CAAeJ,OAAf,CAAlC,EAIA;AACA;AACA,GAAMK,CAAAA,cAAc,CAAG,CAEtBlB,GAAG,CAAE,CACJmB,KAAK,CAAE,MADH,CAEJC,GAAG,CAAE,MAFD,CAGJC,UAAU,CAAE,CAAC,SAAD,CAAY,WAAZ,CAHR,CAGkC;AACtC;AACA;AACA;AACAC,QAAQ,CAAE,KAPN,CAQJC,KAAK,CAAE,KAAO;AARV,CAFiB,CAYtBzB,OAAO,CAAE,CACRqB,KAAK,CAAE,SADC,CAERC,GAAG,CAAE,UAFG,CAGRC,UAAU,CAAE,CAAC,aAAD,CAHJ,CAGqB;AAC7BC,QAAQ,CAAE,SAJF,CAZa,CAoBtBE,OAAO,CAAE,CACRL,KAAK,CAAE,MADC,CAERC,GAAG,CAAE,MAFG,CAGRC,UAAU,CAAE,CAAC,SAAD,CAAY,WAAZ,CAHJ,CAG8B;AACtC;AACA;AACA;AACA;AACAC,QAAQ,CAAE,SARF,CASRC,KAAK,CAAE,SAAW;AATV,CApBa,CAAvB,CAhB4B,cAkDYvC,QAAQ,CAAC,EAAD,CAlDpB,wCAkDrByC,YAlDqB,eAkDPC,eAlDO,8BAmDA1C,QAAQ,CAAC,EAAD,CAnDR,yCAmDrB2C,MAnDqB,eAmDbC,SAnDa,8BAoDF5C,QAAQ,CAAC,EAAD,CApDN,yCAoDrB6C,KApDqB,eAoDdC,QApDc,8BAqDN9C,QAAQ,CAAC,OAAD,CArDF,yCAqDrB+C,GArDqB,eAqDhBC,MArDgB,eAsD5B;AACA;AACA;AAxD4B,eAyDQhD,QAAQ,CAACkC,cAAD,CAzDhB,0CAyDrBe,UAzDqB,gBAyDTC,aAzDS,gCA0DDlD,QAAQ,CAAC,CAAD,CA1DP,2CA0DlBmD,KA1DkB,gBA0DZC,QA1DY,gCA2DWpD,QAAQ,CAAC,EAAD,CA3DnB,2CA2DlBqD,WA3DkB,gBA2DNC,cA3DM,gCA4DatD,QAAQ,CAAC,EAAD,CA5DrB,2CA4DlBuD,YA5DkB,gBA4DLC,eA5DK,gCA6DExD,QAAQ,CAAC,IAAD,CA7DV,2CA6DrByD,OA7DqB,gBA6DZC,UA7DY,gCA8DQ1D,QAAQ,CAAC,EAAD,CA9DhB,2CA8DrB2D,WA9DqB,gBA8DTC,cA9DS,gCA+DL5D,QAAQ,CAAC,CAAD,CA/DH,2CA+DrB6D,KA/DqB,gBA+DfC,QA/De,gBAkE5B7D,SAAS,CAAC,UAAM,CACf,GAAI8D,CAAAA,WAAW,CAAG,KAAlB,CACA;AACA,GAAIpC,EAAE,GAAK,KAAX,CAAkB,SACFqC,CAAAA,SADE,qIACjB,8IACKC,MADL,CACc,EADd,uBAEO3D,CAAAA,KAAK,CAAC4D,GAAN,CAAU,gBAAkBvC,EAA5B,EACJwC,IADI,CACC,SAACC,QAAD,CAAc,CACnBH,MAAM,CAAGG,QAAQ,CAACC,IAAlB,CACA,GAAMC,CAAAA,MAAM,CAAG,CACd,IADc,CACR,KADQ,CACD,SADC,CACU,SADV,CACqB,UADrB,CACiC,QADjC,CAC2C,eAD3C,CAC4D,WAD5D,CAAf,CAIAlB,QAAQ,CAACgB,QAAQ,CAACC,IAAT,CAAc,KAAd,EAAqB1C,EAAtB,CAAR,CACAmC,QAAQ,CAACM,QAAQ,CAACC,IAAT,CAAc,SAAd,EAAyB1C,EAA1B,CAAR,CACA,GAAGyC,QAAQ,CAACC,IAAT,CAAc,SAAd,CAAH,CACCT,cAAc,CAACQ,QAAQ,CAACC,IAAT,CAAc,SAAd,EAAyB1C,EAA1B,CAAd,CAEA4C,OAAO,CAACC,GAAR,CAAYrB,KAAK,CAAC,IAAN,CAAWU,KAAvB,EACDS,MAAM,CAACG,OAAP,CAAe,SAAAlC,KAAK,QAAIhB,CAAAA,QAAQ,CAACgB,KAAD,CAAQ0B,MAAM,CAAC1B,KAAD,CAAd,CAAZ,EAApB,EACA,CAdI,EAeJmC,KAfI,CAeE,SAACC,KAAD,CAAW,CACjB;AACA;AACA;AACA,GAAIA,KAAK,CAACP,QAAV,CACC1B,eAAe,CAACiC,KAAK,CAACP,QAAN,CAAeC,IAAf,CAAoBM,KAArB,CAAf,CADD,IAGCjC,CAAAA,eAAe,CAACiC,KAAK,CAACC,KAAP,CAAf,CACD,CAvBI,CAFP,QA4BC,GAAI,CAACb,WAAL,CAAkB,CACjBnB,SAAS,CAACqB,MAAD,CAAT,CACAnB,QAAQ,CAAC,SAAA+B,IAAI,wCAAUA,IAAV,MAAgBhC,KAAK,CAAEoB,MAAvB,IAAL,CAAR,CACA;AACApC,OAAO,CAAC,CAAD,CAAP,CAAaoC,MAAM,CAACnD,OAAP,CAAea,EAAf,CAAkBmD,QAAlB,EAAb,CACAjD,OAAO,CAAC,CAAD,CAAP,CAAaoC,MAAM,CAACjD,GAAP,CAAW+D,WAAX,CAAuBC,gBAAvB,CAAwCF,QAAxC,EAAb,CACA;AACAhD,cAAc,CAACC,OAAf,CAAuB,SAAvB,CAAkCC,IAAI,CAACC,SAAL,CAAeJ,OAAf,CAAlC,EACA,CApCF,sDADiB,4CAwCjBmC,SAAS,GACT,MAAO,WAAM,CACZD,WAAW,CAAG,IAAd,CACA,CAFD,CAGA,CAED,CAjDQ,CAiDN,EAjDM,CAAT,CAmDA9D,SAAS,CAAC,UAAI,CACbsE,OAAO,CAACC,GAAR,CAAYb,WAAZ,EACA,CAFQ,CAEP,CAACA,WAAD,CAAaC,cAAb,CAFO,CAAT,CAID3D,SAAS,CAAC,UAAM,CACd,GAAIgF,CAAAA,QAAQ,CAAG,KAAf,CACA,GAAIC,CAAAA,SAAS,CAAG,KAAhB,CACAX,OAAO,CAACC,GAAR,CAAY,SAAZ,EAHc,QAICW,CAAAA,aAJD,iJAId,6IACK,CAACF,QAAD,EAAa9B,KAAb,EAAsBU,KAD3B,kDAGQvD,CAAAA,KAAK,CAAC4D,GAAN,iBAAmBf,KAAnB,mBAAkCU,KAAlC,cACJM,IADI,CACC,SAACC,QAAD,CAAc,CACnBG,OAAO,CAACC,GAAR,CAAY,aAAeJ,QAAQ,CAACC,IAApC,EACAf,cAAc,CAACc,QAAQ,CAACC,IAAV,CAAd,CACA,GAAI,CAACa,SAAL,CAAgB,CACf1B,eAAe,CACdY,QAAQ,CAACC,IAAT,CAAce,GAAd,CAAkB,kBAAGzD,CAAAA,EAAH,MAAGA,EAAH,CAAO0D,OAAP,MAAOA,OAAP,OAAsB,CAAE1D,EAAE,CAAEA,EAAN,CAAU2D,KAAK,CAAED,OAAjB,CAA0BE,KAAK,CAAE5D,EAAjC,CAAtB,EAAlB,CADc,CAAf,CAGA+B,UAAU,CAAC,KAAD,CAAV,CACA,CACD,CAVI,EAWJgB,KAXI,CAWE,SAACC,KAAD,CAAW,CACjB;AACA;AACA;AACA,GAAIA,KAAK,CAACP,QAAV,CACC1B,eAAe,CAACiC,KAAK,CAACP,QAAN,CAAeC,IAAf,CAAoBM,KAArB,CAAf,CADD,IAGCjC,CAAAA,eAAe,CAACiC,KAAK,CAACC,KAAP,CAAf,CACD,CAnBI,CAHR,yDAJc,gDA4BdO,aAAa,GAEb,MAAO,WAAM,CAAEF,QAAQ,CAAG,IAAX,CAAiBC,SAAS,CAAG,IAAZ,CAAmB,CAAnD,CACA;AACA,CAhCO,CAgCL,CAAC/B,KAAD,CAAOC,QAAP,CAAgBS,KAAhB,CAAsBC,QAAtB,CAhCK,CAAT,CAmCC,GAAM0B,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACnB,IAAD,CAAOoB,KAAP,CAAiB,CACjCA,KAAK,CAACC,cAAN,GACAnB,OAAO,CAACC,GAAR,CAAYH,IAAZ,EACA,GAAIA,IAAI,CAAC1C,EAAT,CAAa,CACZrB,KAAK,CAACqF,GAAN,CAAU,gBAAkBtB,IAAI,CAAC1C,EAAjC,CAAqC0C,IAArC,EACEF,IADF,CACO,SAACC,QAAD,CAAc,CACnBxC,OAAO,CAACgE,IAAR,CAAa,cAAb,EACA,CAHF,EAIElB,KAJF,CAIQ,SAACC,KAAD,CAAW,CACjB;AACA;AACA;AACAjC,eAAe,CAACiC,KAAK,CAACP,QAAN,CAAeC,IAAhB,CAAf,CACA,CATF,EAUA,CAXD,IAWO,CACN/D,KAAK,CAACuF,IAAN,CAAW,cAAX,CAA2BxB,IAA3B,EACEF,IADF,CACO,SAACC,QAAD,CAAc,CACnBxC,OAAO,CAACgE,IAAR,CAAa,cAAb,EACA,CAHF,EAIElB,KAJF,CAIQ,SAACC,KAAD,CAAW,CACjB;AACA;AACA;AACAjC,eAAe,CAACiC,KAAK,CAACP,QAAN,CAAeC,IAAhB,CAAf,CACA,CATF,EAUA,CAGD,CA5BD,CA8BA,GAAMyB,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAACtE,MAAD,CAASuE,CAAT,QAAexB,CAAAA,OAAO,CAACC,GAAR,CAAYhD,MAAZ,CAAoBuE,CAApB,CAAf,EAAhB,CAGA;AACA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACC,SAAD,CAAe,CAE/B1B,OAAO,CAACC,GAAR,CAAYyB,SAAS,CAACtD,MAAtB,EAEA;AACA;AAEApB,QAAQ,CAAC0E,SAAS,CAACC,EAAX,CAAeD,SAAS,CAACtD,MAAzB,CAAR,CACA;AACA;AAEA;AACA;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IACE,GAAId,CAAAA,OAAO,CAAGG,IAAI,CAACmE,KAAL,CAAWrE,cAAc,CAACsE,OAAf,CAAuB,SAAvB,CAAX,CAAd,CACA,GAAIH,SAAS,CAACC,EAAV,GAAiB,SAArB,CAAgC,CAC/BrE,OAAO,CAAC,CAAD,CAAP,CAAaoE,SAAS,CAACtD,MAAV,CAAiBhB,EAAjB,CAAoBmD,QAApB,EAAb,CAA4C;AAC5ChB,QAAQ,CAACmC,SAAS,CAACtD,MAAV,CAAiBhB,EAAlB,CAAR,CACA,CACD,GAAIsE,SAAS,CAACC,EAAV,GAAiB,KAArB,CAA4B,CAC3B9C,QAAQ,CAAC6C,SAAS,CAACtD,MAAV,CAAiBhB,EAAlB,CAAR,CACAE,OAAO,CAAC,CAAD,CAAP,CAAaoE,SAAS,CAACtD,MAAV,CAAiBoC,WAAjB,CAA6BC,gBAA7B,CAA8CF,QAA9C,EAAb,CAAsE;AACtE,CACDhD,cAAc,CAACC,OAAf,CAAuB,SAAvB,CAAkCC,IAAI,CAACC,SAAL,CAAeJ,OAAf,CAAlC,EAEA,CAxCD,CA0CA,GAAMwE,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACC,GAAD,CAAS,CAC9B;AACA5D,eAAe,CAAC4D,GAAD,CAAf,CACA,CAHD,CAKA,GAAMC,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,CAACR,CAAD,CAAO,CAChC;AACA,CAFD,CAIA,GAAMS,CAAAA,gBAAgB,CAAC,QAAjBA,CAAAA,gBAAiB,CAACT,CAAD,CAAK,CAC3BxB,OAAO,CAACC,GAAR,CAAYuB,CAAC,CAACU,MAAF,CAASC,aAArB,EACAnC,OAAO,CAACC,GAAR,CAAYnB,WAAW,CAAC0C,CAAC,CAACU,MAAF,CAASC,aAAT,CAAuB,CAAxB,CAAX,CAAsCrB,OAAlD,EACAzB,cAAc,CAACmC,CAAC,CAACU,MAAF,CAASlB,KAAV,CAAd,CACAhE,QAAQ,CAAC,SAAD,CAAW8B,WAAW,CAAC0C,CAAC,CAACU,MAAF,CAASC,aAAT,CAAuB,CAAxB,CAAtB,CAAR,CACAnC,OAAO,CAACC,GAAR,CAAYb,WAAZ,EACA,CAND,CAOA,mBACC,YAAK,SAAS,CAAC,mBAAf,uBACC,YAAK,SAAS,CAAC,wBAAf,uBAEC,cAAM,QAAQ,CAAErC,YAAY,CAACkE,QAAD,CAAWM,OAAX,CAA5B,wBACC,sBAAMnE,EAAE,GAAK,KAAP,CAAe,KAAf,CAAuB,MAA7B,mBADD,cAEC,YAAK,SAAS,CAAC,cAAf,UAA+Bc,YAA/B,EAFD,cAGC,MAAC,IAAD,EACC,EAAE,CAAC,gBADJ,CAEC,SAAS,CAAEM,GAFZ,CAGC,QAAQ,CAAE,kBAAC4D,CAAD,QAAO3D,CAAAA,MAAM,CAAC2D,CAAD,CAAb,EAHX,CAIC,SAAS,CAAC,MAJX,wBAMC,KAAC,GAAD,EAAK,QAAQ,CAAC,OAAd,CAAsB,KAAK,CAAC,QAA5B,CAAqC,SAAS,CAAC,OAA/C,uBACC,aAAK,SAAS,CAAC,wBAAf,wBAEC,oCACC,KAAC,UAAD,EAAY,IAAI,CAAC,SAAjB,CAA2B,QAAQ,CAAEJ,iBAArC,CACC,UAAU,CAAEtD,UAAU,CAACnC,OADxB,CACiC,cAAc,CAAEkF,QADjD,CAEC,QAAQ,CAAErD,MAAM,CAAC7B,OAFlB,CAE2B,WAAW,CAAEuF,aAFxC,EADD,cAIC,YAAK,SAAS,CAAC,eAAf,2BAAgC7E,MAAM,CAACV,OAAvC,0CAAgC,gBAAgB8F,OAAhD,EAJD,GAFD,cAQC,cARD,cASC,oCACC,KAAC,UAAD,EAAY,IAAI,CAAC,KAAjB,CAAuB,QAAQ,CAAEL,iBAAjC,CACC,UAAU,CAAEtD,UAAU,CAACjC,GADxB,CAC6B,cAAc,CAAEgF,QAD7C,CAEC,QAAQ,CAAErD,MAAM,CAAC3B,GAFlB,CAEuB,WAAW,CAAEqF,aAFpC,EADD,cAIC,YAAK,SAAS,CAAC,eAAf,uBAAgC7E,MAAM,CAACR,GAAvC,sCAAgC,YAAY4F,OAA5C,EAJD,GATD,cAgBD,oCACC,+BADD,cAEC,gBAAQ,SAAS,CAAC,mBAAlB,CACC,QAAQ,CAAEnD,OADX,CAEC,KAAK,CAAEE,WAFR,CAEqB,QAAQ,CAAE6C,gBAF/B,wBAGC,eAAgB,KAAK,CAAC,GAAtB,0BAAY,GAAZ,CAHD,CAIEjD,YAAY,CAAC6B,GAAb,CAAiB,SAACyB,IAAD,qBACjB,gBAAsB,KAAK,CAAEA,IAAI,CAACtB,KAAlC,eAA2CsB,IAAI,CAACvB,KAAhD,OAAauB,IAAI,CAAClF,EAAlB,CADiB,EAAjB,CAJF,GAFD,GAhBC,cA+BC,oCACC,oCADD,cAEC,0CAAO,IAAI,CAAC,MAAZ,CAAmB,IAAI,CAAC,UAAxB,EAAuCN,QAAQ,CAAC,UAAD,CAA/C,MACC,SAAS,CAAC,mBADX,GAFD,cAIC,YAAK,SAAS,CAAC,cAAf,4BAA+BG,MAAM,CAACP,QAAtC,2CAA+B,iBAAiB2F,OAAhD,EAJD,GA/BD,cAuCC,oCACC,kCADD,cAEC,0CAAO,IAAI,CAAC,MAAZ,CAAmB,IAAI,CAAC,QAAxB,EAAqCvF,QAAQ,CAAC,QAAD,CAA7C,MACC,SAAS,CAAC,mBADX,GAFD,cAIC,YAAK,SAAS,CAAC,cAAf,0BAA+BG,MAAM,CAACsF,MAAtC,yCAA+B,eAAeF,OAA9C,EAJD,GAvCD,GADD,EAND,cAyDC,KAAC,GAAD,EAAK,QAAQ,CAAC,MAAd,CAAqB,KAAK,CAAC,MAA3B,uBACC,YAAI,SAAS,CAAC,WAAd,wBACC,uEADD,cAEC,+EAFD,GADD,EAzDD,GAHD,cAqEC,YAAK,SAAS,CAAC,MAAf,uBACC,eAAQ,IAAI,CAAC,QAAb,kBADD,EArED,GAFD,EADD,EADD,CAiFA,CAzUD,CA2UA,cAAe1G,CAAAA,UAAU,CAACiB,cAAD,CAAzB","sourcesContent":["/**\n * Code generated using Python\n * @author Raja Reddy\n * Date : 17 Oct 2021\n *\n * Modified By : \n */\n\nimport { useState, useEffect } from \"react\";\nimport { withRouter, useParams, useHistory } from \"react-router-dom\";\nimport { useForm } from \"react-hook-form\";\nimport axios from 'axios';\nimport * as yup from \"yup\";\n\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport LiveSearch from '../utils/LiveSearch';\n\nimport Tabs from 'react-bootstrap/Tabs'\nimport Tab from 'react-bootstrap/Tab'\n\nconst schema = yup.object({\n\tsection: yup.object().required('Required'),\n\tusr: yup.object().required('Required'),\n//\tusrBoss: yup.object().required('Required'),\n\tfromDate: yup.date().required('Required'),\n\t//toDate: yup.string().required('Required'),\n\t//currentRecord: yup.boolean().required('Required'),\n\t//createdBy: yup.object().required('Required'),\n});\n\n\nconst UsrSectionEdit = () => {\n\tconst { register, handleSubmit, setValue, formState: { errors }, clearErrors } = useForm({\n\t\tresolver: yupResolver(schema)\n\t});\n\n\tlet { id } = useParams();\n\n\tlet history = useHistory();\n\n\tlet filters = ['section', '0', 'designationLevel', '0'];\n\tsessionStorage.setItem('filters', JSON.stringify(filters));\n\n\n\n\t//All foreign keys. \n\t// XXXXXX Add search fields and adjust the values as necessary\n\tconst initParentData = {\n\n\t\tusr: {\n\t\t\ttitle: \"User\",\n\t\t\turl: \"usrs\",\n\t\t\tsearchList: ['usrName', 'accountNo'], //XXXXXXXXX Add search fields here and also in the corresponding repository\n\t\t\t//filters: {\n\t\t\t//\tsection: '',\n\t\t\t//},\t\t\t\n\t\t\tfkEntity: \"usr\",\n\t\t\tfield: 'usr', //Since usr and usrBoss refer to same table, differrentiating\n\t\t},\n\t\tsection: {\n\t\t\ttitle: \"Section\",\n\t\t\turl: \"sections\",\n\t\t\tsearchList: ['sectionName'], //XXXXXXXXX Add search fields here and also in the corresponding repository\n\t\t\tfkEntity: \"section\",\n\n\t\t},\n\t\t\n\t\tusrBoss: {\n\t\t\ttitle: \"Boss\",\n\t\t\turl: \"usrs\",\n\t\t\tsearchList: ['usrName', 'accountNo'], //XXXXXXXXX Add search fields here and also in the corresponding repository\n\t\t\t//filters: {\n\t\t\t//\tsection: '',\n\t\t\t//\tdesignationLevel: '',\n\t\t\t//},\n\t\t\tfkEntity: \"usrBoss\",\n\t\t\tfield: 'usrBoss', //Since usr and usrBoss refer to same table, differrentiating\n\t\t},\n\t}\n\n\n\tconst [serverErrors, setServerErrors] = useState([]);\n\tconst [entity, setEntity] = useState({});\n\tconst [state, setState] = useState({});\n\tconst [key, setKey] = useState('page1');\n\t//const [sectionData, setSectionData] = useState(parentData.section);\n\t//const [usrData, setUsrData] = useState(parentData.usr);\n\t//const [bossData, setBossData] = useState(parentData.usrBoss);\n\tconst [parentData, setParentData] = useState(initParentData);\n    const [usrid,setUsrid]= useState(0);\n    const [usrBossData,setUsrBossData]= useState([]);\n    const [usrBossItems,setUsrBossItems]= useState([]);\n\tconst [loading, setLoading] = useState(true);\n\tconst [usrBossItem,setUsrBossItem]= useState('');\n\tconst [secId,setSecId]=useState(0);\n\t \n\t \n\tuseEffect(() => {\n\t\tlet isCancelled = false;\n\t\t//console.log(id);\n\t\tif (id !== 'new') {\n\t\t\tasync function fetchData() {\n\t\t\t\tlet record = '';\n\t\t\t\tawait axios.get('/usrSections/' + id)\n\t\t\t\t\t.then((response) => {\n\t\t\t\t\t\trecord = response.data;\n\t\t\t\t\t\tconst fields = [\n\t\t\t\t\t\t\t'id', 'usr', 'section', 'usrBoss', 'fromDate', 'toDate', 'currentRecord', 'createdBy'\n\t\t\t\t\t\t];\n\t\t\t\t\t\t\n\t\t\t\t\t\tsetUsrid(response.data['usr'].id);\n\t\t\t\t\t\tsetSecId(response.data['section'].id)\n\t\t\t\t\t\tif(response.data['usrBoss'])\n\t\t\t\t\t\t\tsetUsrBossItem(response.data['usrBoss'].id);\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tconsole.log(usrid+\"--\"+secId);\n\t\t\t\t\t\tfields.forEach(field => setValue(field, record[field]));\n\t\t\t\t\t})\n\t\t\t\t\t.catch((error) => {\n\t\t\t\t\t\t//console.log(error);\n\t\t\t\t\t\t//console.log(error.response.status);\n\t\t\t\t\t\t//console.log(error.response.headers);\n\t\t\t\t\t\tif (error.response)\n\t\t\t\t\t\t\tsetServerErrors(error.response.data.error);\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tsetServerErrors(error.Error);\n\t\t\t\t\t});\n\n\n\t\t\t\tif (!isCancelled) {\n\t\t\t\t\tsetEntity(record);\n\t\t\t\t\tsetState(prev => ({ ...prev, state: record }));\n\t\t\t\t\t//console.log(record);\n\t\t\t\t\tfilters[1] = record.section.id.toString();\n\t\t\t\t\tfilters[3] = record.usr.designation.designationLevel.toString();\n\t\t\t\t\t//console.log(filters);\n\t\t\t\t\tsessionStorage.setItem('filters', JSON.stringify(filters));\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfetchData();\n\t\t\treturn () => {\n\t\t\t\tisCancelled = true;\n\t\t\t};\n\t\t}\n\n\t}, []);\n\t\n\tuseEffect(()=>{\n\t\tconsole.log(usrBossItem);\n\t},[usrBossItem,setUsrBossItem]);\n\nuseEffect(() => {\n\t\tlet fetching = false;\n\t\tlet unmounted = false;\n\t\tconsole.log(\"daktype\");\n\t\tasync function fetchBossData() {\n\t\t\tif (!fetching && usrid && secId )\n\t\t\t\t//console.log(secId);\n\t\t\t\tawait axios.get(`/usrs/${usrid}/secId/${secId}/getBoss`)\n\t\t\t\t\t.then((response) => {\n\t\t\t\t\t\tconsole.log(\"response>>\" + response.data);\n\t\t\t\t\t\tsetUsrBossData(response.data);\n\t\t\t\t\t\tif (!unmounted) {\n\t\t\t\t\t\t\tsetUsrBossItems(\n\t\t\t\t\t\t\t\tresponse.data.map(({ id, usrName }) => ({ id: id, label: usrName, value: id }))\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tsetLoading(false);\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.catch((error) => {\n\t\t\t\t\t\t//console.log(error);\n\t\t\t\t\t\t//console.log(error.response.status);\n\t\t\t\t\t\t//console.log(error.response.headers);\n\t\t\t\t\t\tif (error.response)\n\t\t\t\t\t\t\tsetServerErrors(error.response.data.error);\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tsetServerErrors(error.Error);\n\t\t\t\t\t})\n\t\t}\n\t\tfetchBossData();\n\n\t\treturn () => { fetching = true; unmounted = true; }\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [usrid,setUsrid,secId,setSecId]);\n\n\n\tconst onSubmit = (data, event) => {\n\t\tevent.preventDefault();\n\t\tconsole.log(data);\n\t\tif (data.id) {\n\t\t\taxios.put(\"/usrSections/\" + data.id, data)\n\t\t\t\t.then((response) => {\n\t\t\t\t\thistory.push(\"/usrSections\");\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\t//console.log(error.response.data);\n\t\t\t\t\t//console.log(error.response.status);\n\t\t\t\t\t//console.log(error.response.headers);\n\t\t\t\t\tsetServerErrors(error.response.data)\n\t\t\t\t});\n\t\t} else {\n\t\t\taxios.post(\"/usrSections\", data)\n\t\t\t\t.then((response) => { \n\t\t\t\t\thistory.push(\"/usrSections\");\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\t//console.log(error.response.data);\n\t\t\t\t\t//console.log(error.response.status);\n\t\t\t\t\t//console.log(error.response.headers);\n\t\t\t\t\tsetServerErrors(error.response.data)\n\t\t\t\t});\n\t\t}\n\n\t\t\n\t}\n\n\tconst onError = (errors, e) => console.log(errors, e);\n\n\n\t//Callback for child components (Foreign Keys)\n\tconst callback = (childData) => {\n\n\t\tconsole.log(childData.entity);\n\n\t\t//console.log(\"Parent Callback\");\n\t\t//setEntity(prev => ({ ...prev, [childData.fk]: childData.entity }));\n\n\t\tsetValue(childData.fk, childData.entity);\n\t\t//console.log(errors);\n\t\t//clearErrors(childData.fk);\n\n\t\t/////\n\t\t/*\n\t\tif(childData.fk === 'section'){\n\t\t\tsetParentData(prev => ({...prev, usr: {...parentData.usr, filters:{section: childData.entity.id}}}));\n\t\t\tsetParentData(prev => ({...prev, usrBoss: {...parentData.usrBoss, \n\t\t\t\tfilters:{...parentData.usrBoss.filters, section: childData.entity.id}}}));\n\t\t}else if(childData.fk === 'usr')\n\t\t\tsetParentData(prev => ({...prev, usrBoss: {...parentData.usrBoss, \n\t\t\tfilters:{...parentData.usrBoss.filters,designationLevel: childData.entity.designation.designationLevel}}}));\n\t\tconsole.log(parentData);\n\t\t\n\t\tsessionStorage.setItem('items', JSON.stringify([1, 2, 3]));\n\n\t\tconst items = JSON.parse(sessionStorage.getItem('items'));\n\t\titems.push({ method: sessionStorage.getItem('method') });\n\t\tsessionStorage.setItem('items', JSON.stringify(items));\n\n\t\t*/\n\t\tlet filters = JSON.parse(sessionStorage.getItem('filters'));\n\t\tif (childData.fk === 'section') {\n\t\t\tfilters[1] = childData.entity.id.toString();//Change section id\n\t\t\tsetSecId(childData.entity.id);\n\t\t}\n\t\tif (childData.fk === 'usr') {\n\t\t\tsetUsrid(childData.entity.id);\n\t\t\tfilters[3] = childData.entity.designation.designationLevel.toString();// Change designatinLevel\n\t\t}\n\t\tsessionStorage.setItem('filters', JSON.stringify(filters));\n\n\t};\n\n\tconst errorCallback = (err) => {\n\t\t//console.log(err);\n\t\tsetServerErrors(err);\n\t}\n\n\tconst handleInputChange = (e) => {\n\t\t//console.log(e.target.value);\n\t};\n\n\tconst handleBossChange=(e)=>{\n\t\tconsole.log(e.target.selectedIndex);\n\t\tconsole.log(usrBossData[e.target.selectedIndex-1].usrName);\n\t\tsetUsrBossItem(e.target.value);\n\t\tsetValue('usrBoss',usrBossData[e.target.selectedIndex-1]);\n\t\tconsole.log(usrBossItem)\n\t}\n\treturn (\n\t\t<div className=\"max-w-xl mx-auto \">\n\t\t\t<div className=\"w-full w-3/4  mx-auto \" >\n\n\t\t\t\t<form onSubmit={handleSubmit(onSubmit, onError)}>\n\t\t\t\t\t<h1 >{id === 'new' ? 'Add' : 'Edit'} Usr Section </h1>\n\t\t\t\t\t<div className=\"text-red-500\">{serverErrors}</div>\n\t\t\t\t\t<Tabs\n\t\t\t\t\t\tid=\"UsrSectionEdit\"\n\t\t\t\t\t\tactiveKey={key}\n\t\t\t\t\t\tonSelect={(k) => setKey(k)}\n\t\t\t\t\t\tclassName=\"mb-3\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<Tab eventKey=\"page1\" title=\"Page 1\" className=\"h-120\">\n\t\t\t\t\t\t\t<div className=\"grid grid-cols-2 gap-0\">\n\n\t\t\t\t\t\t\t\t<div >\n\t\t\t\t\t\t\t\t\t<LiveSearch name=\"section\" onChange={handleInputChange}\n\t\t\t\t\t\t\t\t\t\tparentData={parentData.section} parentCallback={callback}\n\t\t\t\t\t\t\t\t\t\tfkEntity={entity.section} errCallback={errorCallback} />\n\t\t\t\t\t\t\t\t\t<div className=\"text-red-500 \">{errors.section?.message}</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div></div>\n\t\t\t\t\t\t\t\t<div >\n\t\t\t\t\t\t\t\t\t<LiveSearch name=\"usr\" onChange={handleInputChange}\n\t\t\t\t\t\t\t\t\t\tparentData={parentData.usr} parentCallback={callback}\n\t\t\t\t\t\t\t\t\t\tfkEntity={entity.usr} errCallback={errorCallback} />\n\t\t\t\t\t\t\t\t\t<div className=\"text-red-500 \">{errors.usr?.message}</div>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div >\n\t\t\t\t\t\t\t<b>Usr Boss</b>\n\t\t\t\t\t\t\t<select className=\"form-control py-0\"\n\t\t\t\t\t\t\t\tdisabled={loading}\n\t\t\t\t\t\t\t\tvalue={usrBossItem} onChange={handleBossChange}>\n\t\t\t\t\t\t\t\t<option key='0' value='0'>---select---</option>\n\t\t\t\t\t\t\t\t{usrBossItems.map((item) => (\n\t\t\t\t\t\t\t\t\t<option key={item.id} value={item.value}> {item.label} </option>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\n\n\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<label>From Date</label>\n\t\t\t\t\t\t\t\t\t<input type=\"date\" name=\"fromDate\" {...register(\"fromDate\")}\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-control py-0\" />\n\t\t\t\t\t\t\t\t\t<div className=\"text-red-500\">{errors.fromDate?.message}</div>\n\t\t\t\t\t\t\t\t</div>\n\n\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<label>To Date</label>\n\t\t\t\t\t\t\t\t\t<input type=\"date\" name=\"toDate\" {...register(\"toDate\")}\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-control py-0\" />\n\t\t\t\t\t\t\t\t\t<div className=\"text-red-500\">{errors.toDate?.message}</div>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Tab>\n\n\n\t\t\t\t\t\t<Tab eventKey=\"help\" title=\"Help\" >\n\t\t\t\t\t\t\t<ul className=\"list-disc\">\n\t\t\t\t\t\t\t\t<li>Add the Users from highest rank to lowest rank.</li>\n\t\t\t\t\t\t\t\t<li>Boss list is filtered by section and designation level.</li>\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</Tab>\n\n\t\t\t\t\t</Tabs>\n\n\t\t\t\t\t<div className=\"px-4\">\n\t\t\t\t\t\t<button type=\"submit\" >Save</button>\n\t\t\t\t\t</div>\n\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default withRouter(UsrSectionEdit);"]},"metadata":{},"sourceType":"module"}