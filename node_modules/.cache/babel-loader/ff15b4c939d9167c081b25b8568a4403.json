{"ast":null,"code":"import _objectSpread from\"/home/itsdcsec/falconws/falcon_face/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _toConsumableArray from\"/home/itsdcsec/falconws/falcon_face/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/home/itsdcsec/falconws/falcon_face/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from\"react\";import{useTable,useFilters,useGlobalFilter,useAsyncDebounce,useSortBy,usePagination}from\"react-table\";import{ChevronDoubleLeftIcon,ChevronLeftIcon,ChevronRightIcon,ChevronDoubleRightIcon}from\"@heroicons/react/solid\";import{Button,PageButton}from\"./Button\";import{classNames}from\"./Utils\";import{SortIcon,SortUpIcon,SortDownIcon}from\"./Icons\";import{useEffect,useState}from\"react\";// Define a default UI for filtering\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function GlobalFilter(_ref){var preGlobalFilteredRows=_ref.preGlobalFilteredRows,globalFilter=_ref.globalFilter,setGlobalFilter=_ref.setGlobalFilter;var count=preGlobalFilteredRows.length;var _React$useState=React.useState(globalFilter),_React$useState2=_slicedToArray(_React$useState,2),value=_React$useState2[0],setValue=_React$useState2[1];var _onChange=useAsyncDebounce(function(value){setGlobalFilter(value||undefined);},200);return/*#__PURE__*/_jsxs(\"label\",{className:\"flex gap-x-3 items-baseline\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-700\",children:\"Search: \"}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"rounded-md border-gray-300  focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50\",value:value||\"\",onChange:function onChange(e){setValue(e.target.value);_onChange(e.target.value);},placeholder:\"\".concat(count,\" records...\")})})]});}// This is a custom filter UI for selecting\n// a unique option from a list\nexport function SelectColumnFilter(_ref2){var _ref2$column=_ref2.column,filterValue=_ref2$column.filterValue,setFilter=_ref2$column.setFilter,preFilteredRows=_ref2$column.preFilteredRows,id=_ref2$column.id,render=_ref2$column.render;// Calculate the options for filtering\n// using the preFilteredRows\nvar options=React.useMemo(function(){var options=new Set();preFilteredRows.forEach(function(row){options.add(row.values[id]);});return _toConsumableArray(options.values());},[id,preFilteredRows]);// Render a multi-select box\nreturn/*#__PURE__*/_jsxs(\"label\",{className:\"flex gap-x-2 items-baseline\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-gray-700\",children:[render(\"Header\"),\": \"]}),/*#__PURE__*/_jsxs(\"select\",{className:\"rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50\",name:id,id:id,value:filterValue,onChange:function onChange(e){setFilter(e.target.value||undefined);},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All\"}),options.map(function(option,i){return/*#__PURE__*/_jsx(\"option\",{value:option,children:option},i);})]})]});}export function StatusPill(_ref3){var value=_ref3.value;var status=value?value.toLowerCase():\"unknown\";return/*#__PURE__*/_jsx(\"span\",{className:classNames(\"px-3 py-1 uppercase leading-wide font-bold text-xs rounded-full shadow-sm\",status.startsWith(\"active\")?\"bg-green-100 text-green-800\":null,status.startsWith(\"inactive\")?\"bg-yellow-100 text-yellow-800\":null,status.startsWith(\"offline\")?\"bg-red-100 text-red-800\":null),children:status});}export function AvatarCell(_ref4){var value=_ref4.value,column=_ref4.column,row=_ref4.row;return/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0 h-10 w-10\",children:/*#__PURE__*/_jsx(\"img\",{className:\"h-10 w-10 rounded-full\",src:row.original[column.imgAccessor],alt:\"\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium text-gray-900\",children:value}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-500\",children:row.original[column.emailAccessor]})]})]});}//pcdao added newPageSize and parentCallbackPageSize attribute\nfunction TablePage(_ref5){var columns=_ref5.columns,data=_ref5.data,newpage=_ref5.newpage,parentCallback=_ref5.parentCallback,newPageSize=_ref5.newPageSize,parentCallbackPageSize=_ref5.parentCallbackPageSize;// Use the state and functions returned from useTable to build your UI\nvar _useTable=useTable({columns:columns,data:data},useFilters,// useFilters!\nuseGlobalFilter,useSortBy,usePagination// new\n),getTableProps=_useTable.getTableProps,getTableBodyProps=_useTable.getTableBodyProps,headerGroups=_useTable.headerGroups,prepareRow=_useTable.prepareRow,page=_useTable.page,canPreviousPage=_useTable.canPreviousPage,canNextPage=_useTable.canNextPage,pageOptions=_useTable.pageOptions,pageCount=_useTable.pageCount,gotoPage=_useTable.gotoPage,nextPage=_useTable.nextPage,previousPage=_useTable.previousPage,setPageSize=_useTable.setPageSize,_useTable$state=_useTable.state,pageIndex=_useTable$state.pageIndex,pageSize=_useTable$state.pageSize,preGlobalFilteredRows=_useTable.preGlobalFilteredRows,setGlobalFilter=_useTable.setGlobalFilter;var sendDataToParent=function sendDataToParent(){parentCallback(pageIndex);//pcdao added below line\nparentCallbackPageSize(pageSize);};useEffect(function(){console.log(newpage,newPageSize);if(newpage){gotoPage(newpage);//setChildPage(pageIndex);\n}//pcdao added below condition\nif(newPageSize){setPageSize(newPageSize);}//pcdao added newPageSize dependency\n},[newpage,newPageSize]);// Render the UI for your table\nreturn/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"sm:flex sm:gap-x-2\",children:headerGroups.map(function(headerGroup){return headerGroup.headers.map(function(column){return column.Filter?/*#__PURE__*/_jsx(\"div\",{className:\"mt-2 sm:mt-0\",children:column.render(\"Filter\")},column.id):null;});})}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-4 flex flex-col\",children:/*#__PURE__*/_jsx(\"div\",{className:\"-my-2 overflow-x-auto -mx-4 sm:-mx-6 lg:-mx-8\",children:/*#__PURE__*/_jsx(\"div\",{className:\"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8\",children:/*#__PURE__*/_jsx(\"div\",{className:\"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg\",children:/*#__PURE__*/_jsxs(\"table\",_objectSpread(_objectSpread({},getTableProps()),{},{className:\"min-w-full divide-y divide-gray-200\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-green-50\",children:headerGroups.map(function(headerGroup){return/*#__PURE__*/_jsx(\"tr\",_objectSpread(_objectSpread({},headerGroup.getHeaderGroupProps()),{},{children:headerGroup.headers.map(function(column){return/*#__PURE__*/ (// Add the sorting props to control sorting. For this example\n// we can add them into the header props\n_jsx(\"th\",_objectSpread(_objectSpread({scope:\"col\",className:\"group px-6 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"},column.getHeaderProps(column.getSortByToggleProps())),{},{children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[column.render(\"Header\"),/*#__PURE__*/_jsx(\"span\",{children:column.isSorted?column.isSortedDesc?/*#__PURE__*/_jsx(SortDownIcon,{className:\"w-4 h-4 text-gray-400\"}):/*#__PURE__*/_jsx(SortUpIcon,{className:\"w-4 h-4 text-gray-400\"}):/*#__PURE__*/_jsx(SortIcon,{className:\"w-4 h-4 text-gray-400 opacity-0 group-hover:opacity-100\"})})]})})));})}));})}),/*#__PURE__*/_jsx(\"tbody\",_objectSpread(_objectSpread({},getTableBodyProps()),{},{className:\"bg-white divide-y divide-gray-200\",children:page.map(function(row,i){// new\nprepareRow(row);return/*#__PURE__*/_jsx(\"tr\",_objectSpread(_objectSpread({},row.getRowProps()),{},{onClick:function onClick(){return sendDataToParent();},children:row.cells.map(function(cell){return/*#__PURE__*/_jsx(\"td\",_objectSpread(_objectSpread({},cell.getCellProps()),{},{className:\"px-6 py-1 whitespace-nowrap\",role:\"cell\",children:cell.column.Cell.name===\"defaultRenderer\"?/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-500\",children:cell.render(\"Cell\")}):cell.render(\"Cell\")}));})}));})}))]}))})})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"py-3 flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 flex justify-between sm:hidden\",children:[/*#__PURE__*/_jsx(Button,{onClick:function onClick(){return previousPage();},disabled:!canPreviousPage,children:\"Previous\"}),/*#__PURE__*/_jsx(Button,{onClick:function onClick(){return nextPage();},disabled:!canNextPage,children:\"Next\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-x-2 items-baseline\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-gray-700\",children:[\"Page \",/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:pageIndex+1}),\" of\",\" \",/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:pageOptions.length})]}),/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"sr-only\",children:\"Items Per Page\"}),/*#__PURE__*/_jsx(\"select\",{className:\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50\",value:pageSize,onChange:function onChange(e){//console.log(e.target.value);\nsetPageSize(Number(e.target.value));},children:[5,10,20,100,200].map(function(pageSize){return/*#__PURE__*/_jsxs(\"option\",{value:pageSize,children:[\"Show \",pageSize]},pageSize);})})]})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"nav\",{className:\"relative z-0 inline-flex rounded-md shadow-sm -space-x-px\",\"aria-label\":\"Pagination\",children:[/*#__PURE__*/_jsxs(PageButton,{className:\"rounded-l-md\",onClick:function onClick(){return gotoPage(0);},disabled:!canPreviousPage,children:[/*#__PURE__*/_jsx(\"span\",{className:\"sr-only\",children:\"First\"}),/*#__PURE__*/_jsx(ChevronDoubleLeftIcon,{className:\"h-5 w-5 text-gray-400\",\"aria-hidden\":\"true\"})]}),/*#__PURE__*/_jsxs(PageButton,{onClick:function onClick(){return previousPage();},disabled:!canPreviousPage,children:[/*#__PURE__*/_jsx(\"span\",{className:\"sr-only\",children:\"Previous\"}),/*#__PURE__*/_jsx(ChevronLeftIcon,{className:\"h-5 w-5 text-gray-400\",\"aria-hidden\":\"true\"})]}),/*#__PURE__*/_jsxs(PageButton,{onClick:function onClick(){return nextPage();},disabled:!canNextPage,children:[/*#__PURE__*/_jsx(\"span\",{className:\"sr-only\",children:\"Next\"}),/*#__PURE__*/_jsx(ChevronRightIcon,{className:\"h-5 w-5 text-gray-400\",\"aria-hidden\":\"true\"})]}),/*#__PURE__*/_jsxs(PageButton,{className:\"rounded-r-md\",onClick:function onClick(){return gotoPage(pageCount-1);},disabled:!canNextPage,children:[/*#__PURE__*/_jsx(\"span\",{className:\"sr-only\",children:\"Last\"}),/*#__PURE__*/_jsx(ChevronDoubleRightIcon,{className:\"h-5 w-5 text-gray-400\",\"aria-hidden\":\"true\"})]})]})})]})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{})]});}export default TablePage;","map":{"version":3,"sources":["/home/itsdcsec/falconws/falcon_face/src/utils/TablePage.js"],"names":["React","useTable","useFilters","useGlobalFilter","useAsyncDebounce","useSortBy","usePagination","ChevronDoubleLeftIcon","ChevronLeftIcon","ChevronRightIcon","ChevronDoubleRightIcon","Button","PageButton","classNames","SortIcon","SortUpIcon","SortDownIcon","useEffect","useState","GlobalFilter","preGlobalFilteredRows","globalFilter","setGlobalFilter","count","length","value","setValue","onChange","undefined","e","target","SelectColumnFilter","column","filterValue","setFilter","preFilteredRows","id","render","options","useMemo","Set","forEach","row","add","values","map","option","i","StatusPill","status","toLowerCase","startsWith","AvatarCell","original","imgAccessor","emailAccessor","TablePage","columns","data","newpage","parentCallback","newPageSize","parentCallbackPageSize","getTableProps","getTableBodyProps","headerGroups","prepareRow","page","canPreviousPage","canNextPage","pageOptions","pageCount","gotoPage","nextPage","previousPage","setPageSize","state","pageIndex","pageSize","sendDataToParent","console","log","headerGroup","headers","Filter","getHeaderGroupProps","getHeaderProps","getSortByToggleProps","isSorted","isSortedDesc","getRowProps","cells","cell","getCellProps","Cell","name","Number"],"mappings":"qdAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OACEC,QADF,CAEEC,UAFF,CAGEC,eAHF,CAIEC,gBAJF,CAKEC,SALF,CAMEC,aANF,KAOO,aAPP,CAQA,OACEC,qBADF,CAEEC,eAFF,CAGEC,gBAHF,CAIEC,sBAJF,KAKO,wBALP,CAMA,OAASC,MAAT,CAAiBC,UAAjB,KAAmC,UAAnC,CACA,OAASC,UAAT,KAA2B,SAA3B,CACA,OAASC,QAAT,CAAmBC,UAAnB,CAA+BC,YAA/B,KAAmD,SAAnD,CACA,OAASC,SAAT,CAAoBC,QAApB,KAAoC,OAApC,CAEA;6IACA,QAASC,CAAAA,YAAT,MAIG,IAHDC,CAAAA,qBAGC,MAHDA,qBAGC,CAFDC,YAEC,MAFDA,YAEC,CADDC,eACC,MADDA,eACC,CACD,GAAMC,CAAAA,KAAK,CAAGH,qBAAqB,CAACI,MAApC,CADC,oBAEyBxB,KAAK,CAACkB,QAAN,CAAeG,YAAf,CAFzB,oDAEMI,KAFN,qBAEaC,QAFb,qBAGD,GAAMC,CAAAA,SAAQ,CAAGvB,gBAAgB,CAAC,SAACqB,KAAD,CAAW,CAC3CH,eAAe,CAACG,KAAK,EAAIG,SAAV,CAAf,CACD,CAFgC,CAE9B,GAF8B,CAAjC,CAIA,mBACE,eAAO,SAAS,CAAC,6BAAjB,wBACE,aAAM,SAAS,CAAC,eAAhB,sBADF,cAEE,kCACE,cACE,IAAI,CAAC,MADP,CAEE,SAAS,CAAC,4GAFZ,CAGE,KAAK,CAAEH,KAAK,EAAI,EAHlB,CAIE,QAAQ,CAAE,kBAACI,CAAD,CAAO,CACfH,QAAQ,CAACG,CAAC,CAACC,MAAF,CAASL,KAAV,CAAR,CACAE,SAAQ,CAACE,CAAC,CAACC,MAAF,CAASL,KAAV,CAAR,CACD,CAPH,CAQE,WAAW,WAAKF,KAAL,eARb,EADF,EAFF,GADF,CAiBD,CAED;AACA;AACA,MAAO,SAASQ,CAAAA,kBAAT,OAEJ,wBADDC,MACC,CADSC,WACT,cADSA,WACT,CADsBC,SACtB,cADsBA,SACtB,CADiCC,eACjC,cADiCA,eACjC,CADkDC,EAClD,cADkDA,EAClD,CADsDC,MACtD,cADsDA,MACtD,CACD;AACA;AACA,GAAMC,CAAAA,OAAO,CAAGtC,KAAK,CAACuC,OAAN,CAAc,UAAM,CAClC,GAAMD,CAAAA,OAAO,CAAG,GAAIE,CAAAA,GAAJ,EAAhB,CACAL,eAAe,CAACM,OAAhB,CAAwB,SAACC,GAAD,CAAS,CAC/BJ,OAAO,CAACK,GAAR,CAAYD,GAAG,CAACE,MAAJ,CAAWR,EAAX,CAAZ,EACD,CAFD,EAGA,0BAAWE,OAAO,CAACM,MAAR,EAAX,EACD,CANe,CAMb,CAACR,EAAD,CAAKD,eAAL,CANa,CAAhB,CAQA;AACA,mBACE,eAAO,SAAS,CAAC,6BAAjB,wBACE,cAAM,SAAS,CAAC,eAAhB,WAAiCE,MAAM,CAAC,QAAD,CAAvC,QADF,cAEE,gBACE,SAAS,CAAC,qHADZ,CAEE,IAAI,CAAED,EAFR,CAGE,EAAE,CAAEA,EAHN,CAIE,KAAK,CAAEH,WAJT,CAKE,QAAQ,CAAE,kBAACJ,CAAD,CAAO,CACfK,SAAS,CAACL,CAAC,CAACC,MAAF,CAASL,KAAT,EAAkBG,SAAnB,CAAT,CACD,CAPH,wBASE,eAAQ,KAAK,CAAC,EAAd,iBATF,CAUGU,OAAO,CAACO,GAAR,CAAY,SAACC,MAAD,CAASC,CAAT,qBACX,eAAgB,KAAK,CAAED,MAAvB,UACGA,MADH,EAAaC,CAAb,CADW,EAAZ,CAVH,GAFF,GADF,CAqBD,CAED,MAAO,SAASC,CAAAA,UAAT,OAA+B,IAATvB,CAAAA,KAAS,OAATA,KAAS,CACpC,GAAMwB,CAAAA,MAAM,CAAGxB,KAAK,CAAGA,KAAK,CAACyB,WAAN,EAAH,CAAyB,SAA7C,CAEA,mBACE,aACE,SAAS,CAAErC,UAAU,CACnB,2EADmB,CAEnBoC,MAAM,CAACE,UAAP,CAAkB,QAAlB,EAA8B,6BAA9B,CAA8D,IAF3C,CAGnBF,MAAM,CAACE,UAAP,CAAkB,UAAlB,EAAgC,+BAAhC,CAAkE,IAH/C,CAInBF,MAAM,CAACE,UAAP,CAAkB,SAAlB,EAA+B,yBAA/B,CAA2D,IAJxC,CADvB,UAQGF,MARH,EADF,CAYD,CAED,MAAO,SAASG,CAAAA,UAAT,OAA4C,IAAtB3B,CAAAA,KAAsB,OAAtBA,KAAsB,CAAfO,MAAe,OAAfA,MAAe,CAAPU,GAAO,OAAPA,GAAO,CACjD,mBACE,aAAK,SAAS,CAAC,mBAAf,wBACE,YAAK,SAAS,CAAC,yBAAf,uBACE,YACE,SAAS,CAAC,wBADZ,CAEE,GAAG,CAAEA,GAAG,CAACW,QAAJ,CAAarB,MAAM,CAACsB,WAApB,CAFP,CAGE,GAAG,CAAC,EAHN,EADF,EADF,cAQE,aAAK,SAAS,CAAC,MAAf,wBACE,YAAK,SAAS,CAAC,mCAAf,UAAoD7B,KAApD,EADF,cAEE,YAAK,SAAS,CAAC,uBAAf,UACGiB,GAAG,CAACW,QAAJ,CAAarB,MAAM,CAACuB,aAApB,CADH,EAFF,GARF,GADF,CAiBD,CACD;AACA,QAASC,CAAAA,SAAT,OAOG,IANDC,CAAAA,OAMC,OANDA,OAMC,CALDC,IAKC,OALDA,IAKC,CAJDC,OAIC,OAJDA,OAIC,CAHDC,cAGC,OAHDA,cAGC,CAFDC,WAEC,OAFDA,WAEC,CADDC,sBACC,OADDA,sBACC,CACD;AADC,cAsBG7D,QAAQ,CACV,CACEwD,OAAO,CAAPA,OADF,CAEEC,IAAI,CAAJA,IAFF,CADU,CAKVxD,UALU,CAKE;AACZC,eANU,CAOVE,SAPU,CAQVC,aAAc;AARJ,CAtBX,CAGCyD,aAHD,WAGCA,aAHD,CAICC,iBAJD,WAICA,iBAJD,CAKCC,YALD,WAKCA,YALD,CAMCC,UAND,WAMCA,UAND,CAOCC,IAPD,WAOCA,IAPD,CAWCC,eAXD,WAWCA,eAXD,CAYCC,WAZD,WAYCA,WAZD,CAaCC,WAbD,WAaCA,WAbD,CAcCC,SAdD,WAcCA,SAdD,CAeCC,QAfD,WAeCA,QAfD,CAgBCC,QAhBD,WAgBCA,QAhBD,CAiBCC,YAjBD,WAiBCA,YAjBD,CAkBCC,WAlBD,WAkBCA,WAlBD,2BAmBCC,KAnBD,CAmBUC,SAnBV,iBAmBUA,SAnBV,CAmBqBC,QAnBrB,iBAmBqBA,QAnBrB,CAoBC1D,qBApBD,WAoBCA,qBApBD,CAqBCE,eArBD,WAqBCA,eArBD,CAiCD,GAAMyD,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,EAAM,CAC7BnB,cAAc,CAACiB,SAAD,CAAd,CACA;AACAf,sBAAsB,CAACgB,QAAD,CAAtB,CACD,CAJD,CAMA7D,SAAS,CAAC,UAAM,CACd+D,OAAO,CAACC,GAAR,CAAYtB,OAAZ,CAAqBE,WAArB,EACA,GAAIF,OAAJ,CAAa,CACXa,QAAQ,CAACb,OAAD,CAAR,CACA;AACD,CACD;AACA,GAAIE,WAAJ,CAAiB,CACfc,WAAW,CAACd,WAAD,CAAX,CACD,CAED;AACD,CAZQ,CAYN,CAACF,OAAD,CAAUE,WAAV,CAZM,CAAT,CAcA;AACA,mBACE,wCACE,YAAK,SAAS,CAAC,oBAAf,UASGI,YAAY,CAACpB,GAAb,CAAiB,SAACqC,WAAD,QAChBA,CAAAA,WAAW,CAACC,OAAZ,CAAoBtC,GAApB,CAAwB,SAACb,MAAD,QACtBA,CAAAA,MAAM,CAACoD,MAAP,cACE,YAAK,SAAS,CAAC,cAAf,UACGpD,MAAM,CAACK,MAAP,CAAc,QAAd,CADH,EAAmCL,MAAM,CAACI,EAA1C,CADF,CAII,IALkB,EAAxB,CADgB,EAAjB,CATH,EADF,cAqBE,YAAK,SAAS,CAAC,oBAAf,uBACE,YAAK,SAAS,CAAC,+CAAf,uBACE,YAAK,SAAS,CAAC,2DAAf,uBACE,YAAK,SAAS,CAAC,+DAAf,uBACE,6CACM2B,aAAa,EADnB,MAEE,SAAS,CAAC,qCAFZ,wBAIE,cAAO,SAAS,CAAC,aAAjB,UACGE,YAAY,CAACpB,GAAb,CAAiB,SAACqC,WAAD,qBAChB,yCAAQA,WAAW,CAACG,mBAAZ,EAAR,eACGH,WAAW,CAACC,OAAZ,CAAoBtC,GAApB,CAAwB,SAACb,MAAD,sBACvB;AACA;AACA,uCACE,KAAK,CAAC,KADR,CAEE,SAAS,CAAC,sFAFZ,EAGMA,MAAM,CAACsD,cAAP,CACFtD,MAAM,CAACuD,oBAAP,EADE,CAHN,4BAOE,aAAK,SAAS,CAAC,mCAAf,WACGvD,MAAM,CAACK,MAAP,CAAc,QAAd,CADH,cAGE,sBACGL,MAAM,CAACwD,QAAP,CACCxD,MAAM,CAACyD,YAAP,cACE,KAAC,YAAD,EAAc,SAAS,CAAC,uBAAxB,EADF,cAGE,KAAC,UAAD,EAAY,SAAS,CAAC,uBAAtB,EAJH,cAOC,KAAC,QAAD,EAAU,SAAS,CAAC,yDAApB,EARJ,EAHF,GAPF,GAHuB,GAAxB,CADH,GADgB,EAAjB,CADH,EAJF,cAqCE,4CACMzB,iBAAiB,EADvB,MAEE,SAAS,CAAC,mCAFZ,UAIGG,IAAI,CAACtB,GAAL,CAAS,SAACH,GAAD,CAAMK,CAAN,CAAY,CACpB;AACAmB,UAAU,CAACxB,GAAD,CAAV,CACA,mBACE,yCACMA,GAAG,CAACgD,WAAJ,EADN,MAEE,OAAO,CAAE,yBAAMX,CAAAA,gBAAgB,EAAtB,EAFX,UAIGrC,GAAG,CAACiD,KAAJ,CAAU9C,GAAV,CAAc,SAAC+C,IAAD,CAAU,CACvB,mBACE,yCACMA,IAAI,CAACC,YAAL,EADN,MAEE,SAAS,CAAC,6BAFZ,CAGE,IAAI,CAAC,MAHP,UAKGD,IAAI,CAAC5D,MAAL,CAAY8D,IAAZ,CAAiBC,IAAjB,GAA0B,iBAA1B,cACC,YAAK,SAAS,CAAC,uBAAf,UACGH,IAAI,CAACvD,MAAL,CAAY,MAAZ,CADH,EADD,CAKCuD,IAAI,CAACvD,MAAL,CAAY,MAAZ,CAVJ,GADF,CAeD,CAhBA,CAJH,GADF,CAwBD,CA3BA,CAJH,GArCF,IADF,EADF,EADF,EADF,EArBF,cAqGE,aAAK,SAAS,CAAC,wCAAf,wBACE,aAAK,SAAS,CAAC,uCAAf,wBACE,KAAC,MAAD,EAAQ,OAAO,CAAE,yBAAMqC,CAAAA,YAAY,EAAlB,EAAjB,CAAuC,QAAQ,CAAE,CAACN,eAAlD,sBADF,cAIE,KAAC,MAAD,EAAQ,OAAO,CAAE,yBAAMK,CAAAA,QAAQ,EAAd,EAAjB,CAAmC,QAAQ,CAAE,CAACJ,WAA9C,kBAJF,GADF,cASE,aAAK,SAAS,CAAC,6DAAf,wBACE,aAAK,SAAS,CAAC,6BAAf,wBACE,cAAM,SAAS,CAAC,uBAAhB,gCACO,aAAM,SAAS,CAAC,aAAhB,UAA+BQ,SAAS,CAAG,CAA3C,EADP,OAC+D,GAD/D,cAEE,aAAM,SAAS,CAAC,aAAhB,UAA+BP,WAAW,CAAC9C,MAA3C,EAFF,GADF,cAKE,sCACE,aAAM,SAAS,CAAC,SAAhB,4BADF,cAEE,eACE,SAAS,CAAC,uIADZ,CAEE,KAAK,CAAEsD,QAFT,CAGE,QAAQ,CAAE,kBAACjD,CAAD,CAAO,CACf;AACA8C,WAAW,CAACqB,MAAM,CAACnE,CAAC,CAACC,MAAF,CAASL,KAAV,CAAP,CAAX,CACD,CANH,UAQG,CAAC,CAAD,CAAI,EAAJ,CAAQ,EAAR,CAAY,GAAZ,CAAiB,GAAjB,EAAsBoB,GAAtB,CAA0B,SAACiC,QAAD,qBACzB,gBAAuB,KAAK,CAAEA,QAA9B,mBACQA,QADR,GAAaA,QAAb,CADyB,EAA1B,CARH,EAFF,GALF,GADF,cAwBE,kCACE,aACE,SAAS,CAAC,2DADZ,CAEE,aAAW,YAFb,wBAIE,MAAC,UAAD,EACE,SAAS,CAAC,cADZ,CAEE,OAAO,CAAE,yBAAMN,CAAAA,QAAQ,CAAC,CAAD,CAAd,EAFX,CAGE,QAAQ,CAAE,CAACJ,eAHb,wBAKE,aAAM,SAAS,CAAC,SAAhB,mBALF,cAME,KAAC,qBAAD,EACE,SAAS,CAAC,uBADZ,CAEE,cAAY,MAFd,EANF,GAJF,cAeE,MAAC,UAAD,EACE,OAAO,CAAE,yBAAMM,CAAAA,YAAY,EAAlB,EADX,CAEE,QAAQ,CAAE,CAACN,eAFb,wBAIE,aAAM,SAAS,CAAC,SAAhB,sBAJF,cAKE,KAAC,eAAD,EACE,SAAS,CAAC,uBADZ,CAEE,cAAY,MAFd,EALF,GAfF,cAyBE,MAAC,UAAD,EAAY,OAAO,CAAE,yBAAMK,CAAAA,QAAQ,EAAd,EAArB,CAAuC,QAAQ,CAAE,CAACJ,WAAlD,wBACE,aAAM,SAAS,CAAC,SAAhB,kBADF,cAEE,KAAC,gBAAD,EACE,SAAS,CAAC,uBADZ,CAEE,cAAY,MAFd,EAFF,GAzBF,cAgCE,MAAC,UAAD,EACE,SAAS,CAAC,cADZ,CAEE,OAAO,CAAE,yBAAMG,CAAAA,QAAQ,CAACD,SAAS,CAAG,CAAb,CAAd,EAFX,CAGE,QAAQ,CAAE,CAACF,WAHb,wBAKE,aAAM,SAAS,CAAC,SAAhB,kBALF,cAME,KAAC,sBAAD,EACE,SAAS,CAAC,uBADZ,CAEE,cAAY,MAFd,EANF,GAhCF,GADF,EAxBF,GATF,GArGF,cAsLE,aAtLF,cAuLE,aAvLF,cAwLE,aAxLF,GADF,CA4LD,CAED,cAAeb,CAAAA,SAAf","sourcesContent":["import React from \"react\";\nimport {\n  useTable,\n  useFilters,\n  useGlobalFilter,\n  useAsyncDebounce,\n  useSortBy,\n  usePagination,\n} from \"react-table\";\nimport {\n  ChevronDoubleLeftIcon,\n  ChevronLeftIcon,\n  ChevronRightIcon,\n  ChevronDoubleRightIcon,\n} from \"@heroicons/react/solid\";\nimport { Button, PageButton } from \"./Button\";\nimport { classNames } from \"./Utils\";\nimport { SortIcon, SortUpIcon, SortDownIcon } from \"./Icons\";\nimport { useEffect, useState } from \"react\";\n\n// Define a default UI for filtering\nfunction GlobalFilter({\n  preGlobalFilteredRows,\n  globalFilter,\n  setGlobalFilter,\n}) {\n  const count = preGlobalFilteredRows.length;\n  const [value, setValue] = React.useState(globalFilter);\n  const onChange = useAsyncDebounce((value) => {\n    setGlobalFilter(value || undefined);\n  }, 200);\n\n  return (\n    <label className=\"flex gap-x-3 items-baseline\">\n      <span className=\"text-gray-700\">Search: </span>\n      <div>\n        <input\n          type=\"text\"\n          className=\"rounded-md border-gray-300  focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50\"\n          value={value || \"\"}\n          onChange={(e) => {\n            setValue(e.target.value);\n            onChange(e.target.value);\n          }}\n          placeholder={`${count} records...`}\n        />\n      </div>\n    </label>\n  );\n}\n\n// This is a custom filter UI for selecting\n// a unique option from a list\nexport function SelectColumnFilter({\n  column: { filterValue, setFilter, preFilteredRows, id, render },\n}) {\n  // Calculate the options for filtering\n  // using the preFilteredRows\n  const options = React.useMemo(() => {\n    const options = new Set();\n    preFilteredRows.forEach((row) => {\n      options.add(row.values[id]);\n    });\n    return [...options.values()];\n  }, [id, preFilteredRows]);\n\n  // Render a multi-select box\n  return (\n    <label className=\"flex gap-x-2 items-baseline\">\n      <span className=\"text-gray-700\">{render(\"Header\")}: </span>\n      <select\n        className=\"rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50\"\n        name={id}\n        id={id}\n        value={filterValue}\n        onChange={(e) => {\n          setFilter(e.target.value || undefined);\n        }}\n      >\n        <option value=\"\">All</option>\n        {options.map((option, i) => (\n          <option key={i} value={option}>\n            {option}\n          </option>\n        ))}\n      </select>\n    </label>\n  );\n}\n\nexport function StatusPill({ value }) {\n  const status = value ? value.toLowerCase() : \"unknown\";\n\n  return (\n    <span\n      className={classNames(\n        \"px-3 py-1 uppercase leading-wide font-bold text-xs rounded-full shadow-sm\",\n        status.startsWith(\"active\") ? \"bg-green-100 text-green-800\" : null,\n        status.startsWith(\"inactive\") ? \"bg-yellow-100 text-yellow-800\" : null,\n        status.startsWith(\"offline\") ? \"bg-red-100 text-red-800\" : null\n      )}\n    >\n      {status}\n    </span>\n  );\n}\n\nexport function AvatarCell({ value, column, row }) {\n  return (\n    <div className=\"flex items-center\">\n      <div className=\"flex-shrink-0 h-10 w-10\">\n        <img\n          className=\"h-10 w-10 rounded-full\"\n          src={row.original[column.imgAccessor]}\n          alt=\"\"\n        />\n      </div>\n      <div className=\"ml-4\">\n        <div className=\"text-sm font-medium text-gray-900\">{value}</div>\n        <div className=\"text-sm text-gray-500\">\n          {row.original[column.emailAccessor]}\n        </div>\n      </div>\n    </div>\n  );\n}\n//pcdao added newPageSize and parentCallbackPageSize attribute\nfunction TablePage({\n  columns,\n  data,\n  newpage,\n  parentCallback,\n  newPageSize,\n  parentCallbackPageSize,\n}) {\n  // Use the state and functions returned from useTable to build your UI\n  const {\n    getTableProps,\n    getTableBodyProps,\n    headerGroups,\n    prepareRow,\n    page, // Instead of using 'rows', we'll use page,\n    // which has only the rows for the active page\n\n    // The rest of these things are super handy, too ;)\n    canPreviousPage,\n    canNextPage,\n    pageOptions,\n    pageCount,\n    gotoPage,\n    nextPage,\n    previousPage,\n    setPageSize,\n    state: { pageIndex, pageSize },\n    preGlobalFilteredRows,\n    setGlobalFilter,\n  } = useTable(\n    {\n      columns,\n      data,\n    },\n    useFilters, // useFilters!\n    useGlobalFilter,\n    useSortBy,\n    usePagination // new\n  );\n\n  const sendDataToParent = () => {\n    parentCallback(pageIndex);\n    //pcdao added below line\n    parentCallbackPageSize(pageSize);\n  };\n\n  useEffect(() => {\n    console.log(newpage, newPageSize);\n    if (newpage) {\n      gotoPage(newpage);\n      //setChildPage(pageIndex);\n    }\n    //pcdao added below condition\n    if (newPageSize) {\n      setPageSize(newPageSize);\n    }\n\n    //pcdao added newPageSize dependency\n  }, [newpage, newPageSize]);\n\n  // Render the UI for your table\n  return (\n    <>\n      <div className=\"sm:flex sm:gap-x-2\">\n        {/*\n        <GlobalFilter\n          preGlobalFilteredRows={preGlobalFilteredRows}\n          globalFilter={state.globalFilter}\n          setGlobalFilter={setGlobalFilter}\n        />\n       */}\n\n        {headerGroups.map((headerGroup) =>\n          headerGroup.headers.map((column) =>\n            column.Filter ? (\n              <div className=\"mt-2 sm:mt-0\" key={column.id}>\n                {column.render(\"Filter\")}\n              </div>\n            ) : null\n          )\n        )}\n      </div>\n      {/* table */}\n      <div className=\"mt-4 flex flex-col\">\n        <div className=\"-my-2 overflow-x-auto -mx-4 sm:-mx-6 lg:-mx-8\">\n          <div className=\"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8\">\n            <div className=\"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg\">\n              <table\n                {...getTableProps()}\n                className=\"min-w-full divide-y divide-gray-200\"\n              >\n                <thead className=\"bg-green-50\">\n                  {headerGroups.map((headerGroup) => (\n                    <tr {...headerGroup.getHeaderGroupProps()}>\n                      {headerGroup.headers.map((column) => (\n                        // Add the sorting props to control sorting. For this example\n                        // we can add them into the header props\n                        <th\n                          scope=\"col\"\n                          className=\"group px-6 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\n                          {...column.getHeaderProps(\n                            column.getSortByToggleProps()\n                          )}\n                        >\n                          <div className=\"flex items-center justify-between\">\n                            {column.render(\"Header\")}\n                            {/* Add a sort direction indicator */}\n                            <span>\n                              {column.isSorted ? (\n                                column.isSortedDesc ? (\n                                  <SortDownIcon className=\"w-4 h-4 text-gray-400\" />\n                                ) : (\n                                  <SortUpIcon className=\"w-4 h-4 text-gray-400\" />\n                                )\n                              ) : (\n                                <SortIcon className=\"w-4 h-4 text-gray-400 opacity-0 group-hover:opacity-100\" />\n                              )}\n                            </span>\n                          </div>\n                        </th>\n                      ))}\n                    </tr>\n                  ))}\n                </thead>\n                <tbody\n                  {...getTableBodyProps()}\n                  className=\"bg-white divide-y divide-gray-200\"\n                >\n                  {page.map((row, i) => {\n                    // new\n                    prepareRow(row);\n                    return (\n                      <tr\n                        {...row.getRowProps()}\n                        onClick={() => sendDataToParent()}\n                      >\n                        {row.cells.map((cell) => {\n                          return (\n                            <td\n                              {...cell.getCellProps()}\n                              className=\"px-6 py-1 whitespace-nowrap\"\n                              role=\"cell\"\n                            >\n                              {cell.column.Cell.name === \"defaultRenderer\" ? (\n                                <div className=\"text-sm text-gray-500\">\n                                  {cell.render(\"Cell\")}\n                                </div>\n                              ) : (\n                                cell.render(\"Cell\")\n                              )}\n                            </td>\n                          );\n                        })}\n                      </tr>\n                    );\n                  })}\n                </tbody>\n              </table>\n            </div>\n          </div>\n        </div>\n      </div>\n      {/* Pagination */}\n      <div className=\"py-3 flex items-center justify-between\">\n        <div className=\"flex-1 flex justify-between sm:hidden\">\n          <Button onClick={() => previousPage()} disabled={!canPreviousPage}>\n            Previous\n          </Button>\n          <Button onClick={() => nextPage()} disabled={!canNextPage}>\n            Next\n          </Button>\n        </div>\n        <div className=\"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between\">\n          <div className=\"flex gap-x-2 items-baseline\">\n            <span className=\"text-sm text-gray-700\">\n              Page <span className=\"font-medium\">{pageIndex + 1}</span> of{\" \"}\n              <span className=\"font-medium\">{pageOptions.length}</span>\n            </span>\n            <label>\n              <span className=\"sr-only\">Items Per Page</span>\n              <select\n                className=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50\"\n                value={pageSize}\n                onChange={(e) => {\n                  //console.log(e.target.value);\n                  setPageSize(Number(e.target.value));\n                }}\n              >\n                {[5, 10, 20, 100, 200].map((pageSize) => (\n                  <option key={pageSize} value={pageSize}>\n                    Show {pageSize}\n                  </option>\n                ))}\n              </select>\n            </label>\n          </div>\n          <div>\n            <nav\n              className=\"relative z-0 inline-flex rounded-md shadow-sm -space-x-px\"\n              aria-label=\"Pagination\"\n            >\n              <PageButton\n                className=\"rounded-l-md\"\n                onClick={() => gotoPage(0)}\n                disabled={!canPreviousPage}\n              >\n                <span className=\"sr-only\">First</span>\n                <ChevronDoubleLeftIcon\n                  className=\"h-5 w-5 text-gray-400\"\n                  aria-hidden=\"true\"\n                />\n              </PageButton>\n              <PageButton\n                onClick={() => previousPage()}\n                disabled={!canPreviousPage}\n              >\n                <span className=\"sr-only\">Previous</span>\n                <ChevronLeftIcon\n                  className=\"h-5 w-5 text-gray-400\"\n                  aria-hidden=\"true\"\n                />\n              </PageButton>\n              <PageButton onClick={() => nextPage()} disabled={!canNextPage}>\n                <span className=\"sr-only\">Next</span>\n                <ChevronRightIcon\n                  className=\"h-5 w-5 text-gray-400\"\n                  aria-hidden=\"true\"\n                />\n              </PageButton>\n              <PageButton\n                className=\"rounded-r-md\"\n                onClick={() => gotoPage(pageCount - 1)}\n                disabled={!canNextPage}\n              >\n                <span className=\"sr-only\">Last</span>\n                <ChevronDoubleRightIcon\n                  className=\"h-5 w-5 text-gray-400\"\n                  aria-hidden=\"true\"\n                />\n              </PageButton>\n            </nav>\n          </div>\n        </div>\n      </div>\n      <br />\n      <br />\n      <br />\n    </>\n  );\n}\n\nexport default TablePage;\n"]},"metadata":{},"sourceType":"module"}