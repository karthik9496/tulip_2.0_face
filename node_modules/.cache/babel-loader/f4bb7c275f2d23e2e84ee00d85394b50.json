{"ast":null,"code":"var _jsxFileName = \"/home/itsdc3/Imp Tulip files/falconws160424/falconws/falcon_face/src/components/LicDemandPmChqGeneration.js\";\n\n/**\n * Code generated using Python\n * @author Raja Reddy\n * Date : 17 Oct 2021\n *\n * Modified By : \n */\nimport { useState, useEffect, useMemo } from \"react\";\nimport { withRouter, useParams, useHistory } from \"react-router-dom\";\nimport { useForm } from \"react-hook-form\";\nimport axios from 'axios';\nimport Table, { SelectColumnFilter } from '../utils/Table'; // \n\nimport * as yup from \"yup\";\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst schema = yup.object({});\n\nconst LicDemandPmChqGeneration = () => {\n  const {\n    register,\n    handleSubmit,\n    setValue,\n    formState: {\n      errors\n    },\n    clearErrors\n  } = useForm({\n    resolver: yupResolver(schema)\n  });\n  let {\n    id\n  } = useParams(); //console.log(id);\n\n  let history = useHistory();\n  const [data, setData] = useState([]);\n  const [serverErrors, setServerErrors] = useState([]);\n  const [entity, setEntity] = useState({});\n  const [state, setState] = useState({});\n  const [loading, setLoading] = useState(true);\n  const [mesg, setMesg] = useState();\n  const [key, setKey] = useState('Page1');\n  const [disabled, setDisabled] = useState(false);\n  const [lightTheme, setLightTheme] = useState(true);\n  const [uploadFileName, setUploadFileName] = useState('');\n  const [premiumAmount, setPremiumAmount] = useState(0);\n  const [usrLevel, setUsrLevel] = useState(0);\n  const [dakId, setDakId] = useState('');\n  const [tBillPmData, setTBillPmData] = useState([]);\n  const [tBillCsData, setTBillCsData] = useState([]);\n  useEffect(() => {\n    let fetching = false;\n    let unmounted = false;\n\n    async function fetchData() {\n      if (!fetching) //console.log(secId);\n        await axios.get(`/licDemandTransactions/generatePm/licDemand`).then(response => {\n          console.log(\"response>>\" + response.data[0] + \"==\" + response.data[1]);\n          setUploadFileName(response.data[0]);\n          setPremiumAmount(response.data[1]);\n          setDakId(response.data[2]);\n          setData(response.data);\n          console.log(\">>>>> Dak Id----:\" + response.data[2]);\n\n          if (!unmounted) {\n            setLoading(false);\n          }\n        }).catch(error => {\n          //console.log(error);\n          //console.log(error.response.status);\n          //console.log(error.response.headers);\n          if (error.response) setServerErrors(error.response.data.error);else setServerErrors(error.Error);\n        });\n    }\n\n    fetchData();\n    return () => {\n      fetching = true;\n      unmounted = true;\n    }; // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  useEffect(() => {\n    let fetching = false;\n    let unmounted = false;\n\n    async function fetchPmData() {\n      if (!fetching) //console.log(secId);\n        await axios.get(`/licDemandTransactions/fetchDak/licDemand`).then(response => {\n          setDakId(response.data);\n          console.log(\">>>>> Dak Id----:\" + response.data);\n\n          if (!unmounted) {\n            setLoading(false);\n          }\n        }).catch(error => {\n          //console.log(error);\n          //console.log(error.response.status);\n          //console.log(error.response.headers);\n          if (error.response) setServerErrors(error.response.data.error);else setServerErrors(error.Error);\n        });\n    }\n\n    fetchPmData();\n    return () => {\n      fetching = true;\n      unmounted = true;\n    }; // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  useEffect(() => {\n    let fetching = false;\n\n    async function fetchUsrData() {\n      if (!fetching) console.log(\">>>>Usr Level is -----:\" + usrLevel);\n      await axios.get(`/licDemandTransactions/userDesg`).then(response => {\n        console.log(\">>>>Usr Level is----:\" + response.data);\n        setUsrLevel(response.data);\n      }).catch(error => {\n        //console.log(error);\n        //console.log(error.response.status);\n        //console.log(error.response.headers);\n        if (error.response) setServerErrors(error.response.data.error);else setServerErrors(error.Error);\n      });\n    }\n\n    fetchUsrData();\n    return () => {\n      fetching = true;\n    };\n  }, []);\n\n  const submitPmChqSlip = () => {\n    let saving = false;\n    console.log(\"1111111111---:\" + dakId);\n\n    async function fetchPmData() {\n      if (!saving) await axios.get(`/licDemandTransactions/viewPmCs/${dakId}`).then(response => {\n        console.log(\">>>>Usr Level is----:\" + response.data);\n        if (response.data['pmList'] !== null) setTBillPmData(response.data['pmList']);\n        if (response.data['csList'] !== null) setTBillCsData(response.data['csList']);\n      }).catch(error => {\n        //console.log(error);\n        //console.log(error.response.status);\n        //console.log(error.response.headers);\n        if (error.response) setServerErrors(error.response.data.error);else setServerErrors(error.Error);\n      });\n    }\n\n    fetchPmData();\n    return () => {\n      saving = true;\n    };\n  };\n\n  const onError = (errors, e) => console.log(errors, e); //All foreign keys. \n  // XXXXXX Add search fields and adjust the values as necessary\n\n\n  const errorCallback = err => {\n    //console.log(err);\n    setServerErrors(err);\n  };\n\n  const handleCheckBox = index => e => {\n    console.log(e.target.checked);\n    let item = data[index];\n    item['select'] = e.target.checked;\n    let newData = [...data];\n    newData[index] = item;\n    setData(newData); //\tconsole.log(data);\t\n  };\n\n  const updateCheckBoxAll = e => {\n    let newData = [...data];\n\n    for (var k in newData) {\n      newData[k].select = e.target.checked;\n    }\n\n    setData(newData);\n  };\n\n  const handleInputChange = e => {\n    console.log(e.target.value); //\tconsole.log(\"handle input change\");\n  };\n\n  const generatePmChqSlip = () => {\n    if (disabled) return; //console.log(data);\n\n    setDisabled(true);\n    let saving = false; //console.log(id);\n\n    async function pmChqSlip() {\n      if (!saving) console.log(\">>>>Lic Demand Data----:\" + data);\n      axios.put(`/licDemandTransactions/licDemand/generatePmChq`, data).then(response => {\n        const url = window.open(`${process.env.REACT_APP_BASE_URL}/files/${response.data}`);\n        setMesg(response.data[0]);\n        setData([]);\n        setDisabled(false);\n      }).catch(error => {\n        //console.log(error);\n        //console.log(error.response.status);\n        //console.log(error.response.headers);\n        if (error.response) setServerErrors(error.response.data.error);else setServerErrors(error.Error);\n      });\n    }\n\n    pmChqSlip();\n    return () => {\n      saving = true;\n    };\n  };\n\n  const columns = useMemo(() => [{\n    Header: /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"checkbox\",\n      onChange: updateCheckBoxAll\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 274,\n      columnNumber: 13\n    }, this),\n    accessor: \"select\",\n    Cell: ({\n      row\n    }) => /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"checkbox\",\n        onChange: handleCheckBox(row.index),\n        checked: data[row.index]['select']\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 6\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 278,\n      columnNumber: 5\n    }, this)\n  }, {\n    Header: \"Upload File Name\",\n    accessor: 'uploadFileName'\n  }, {\n    Header: \"Premium Amount\",\n    accessor: \"premiumAmount\"\n  }, {\n    Header: \"Dak Id\",\n    accessor: \"dakId\"\n  }], [data]);\n\n  async function submitPmCs(id) {\n    await axios.put(`/licDemandTransactions/submitPmCs/${id}`).then(response => {\n      setMesg(response.data); //\thistory.push({ pathname: '/licTransactions', state: response.data });\n    }).catch(error => {\n      console.log(error); //console.log(error.response.status);\n      //console.log(error.response.headers);\n\n      if (error.response) setServerErrors(error.response.data.error);else setServerErrors(error.Error);\n    });\n  }\n\n  async function approvePmCs(id) {\n    await axios.put(`/licDemandTransactions/approvePmCs/${id}`).then(response => {\n      setMesg(response.data); //\thistory.push({ pathname: '/licTransactions', state: response.data });\n    }).catch(error => {\n      console.log(error); //console.log(error.response.status);\n      //console.log(error.response.headers);\n\n      if (error.response) setServerErrors(error.response.data.error);else setServerErrors(error.Error);\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-100 text-gray-900\",\n    children: /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 pt-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: lightTheme ? 'theme-light' : 'theme-dark',\n        style: disabled ? {\n          pointerEvents: \"none\",\n          opacity: \"0.4\"\n        } : {},\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-xl font-semibold ml-4\",\n          children: \"Lic Demand Pm/Chq Generation\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 343,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-red-500\",\n          children: mesg\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 344,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: usrLevel < 30 && /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            onClick: generatePmChqSlip,\n            className: \" mt-3  w-40  \",\n            children: \"Generate Pm/Chq Slip\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 352,\n            columnNumber: 8\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 350,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: (usrLevel === 30 || usrLevel > 30) && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              onClick: submitPmChqSlip,\n              className: \" mt-3  w-40  \",\n              children: \"View Pm/Chq Slip\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 359,\n              columnNumber: 7\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"container\",\n              children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                class: \"text-blue-600\",\n                align: \"center\",\n                children: \"Punching Media Details\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 366,\n                columnNumber: 8\n              }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n                className: \"table   table-bordered\",\n                children: /*#__PURE__*/_jsxDEV(\"thead\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                      colSpan: 3,\n                      children: \"Receipt Side\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 371,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      colSpan: 3,\n                      children: \"Charges Side\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 372,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 370,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"Code Head\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 379,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"Plus Receipt\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 380,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"Minus Receipt\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 381,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"Code Head\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 382,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"Plus Charge\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 383,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"Minus Charge\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 384,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 378,\n                    columnNumber: 25\n                  }, this), tBillPmData && tBillPmData.map(tp => /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                      children: tp.receiptCodeHead\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 388,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: tp.receiptPlusAmount\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 389,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: tp.receiptMinusAmount\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 390,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: tp.chargeCodeHead\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 391,\n                      columnNumber: 30\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: tp.chargePlusAmount\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 392,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: tp.chargeMinusAmount\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 393,\n                      columnNumber: 29\n                    }, this)]\n                  }, tp.dakidNo, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 387,\n                    columnNumber: 23\n                  }, this))]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 368,\n                  columnNumber: 17\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 367,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 405,\n                columnNumber: 4\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 365,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"container\",\n              children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                class: \"text-blue-600\",\n                align: \"center\",\n                children: \"Cheque Slip Details\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 410,\n                columnNumber: 8\n              }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n                className: \"table table-striped table-bordered\",\n                children: /*#__PURE__*/_jsxDEV(\"thead\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"Bank Name\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 415,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"IFSC\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 416,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"Bank Account Number\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 417,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"Amount\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 418,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"Cheque Slip Date\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 419,\n                      columnNumber: 26\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 414,\n                    columnNumber: 21\n                  }, this), tBillCsData && tBillCsData.map(tc => /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                      children: tc.bankDetails\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 425,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: tc.ifscCode\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 426,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: tc.bankAccountNo\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 427,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: tc.amount\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 428,\n                      columnNumber: 30\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: tc.chequeSlipDate\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 429,\n                      columnNumber: 29\n                    }, this)]\n                  }, tc.dakidNo, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 424,\n                    columnNumber: 23\n                  }, this))]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 412,\n                  columnNumber: 17\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 411,\n                columnNumber: 13\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 409,\n              columnNumber: 5\n            }, this)]\n          }, void 0, true)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 355,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          align: \"center\",\n          children: [' ', usrLevel === 30 && /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"w-16 m-0 p-0 bg-red-500 hover:bg-red-700 \",\n            onClick: () => submitPmCs(dakId),\n            children: \" Submit  \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 452,\n            columnNumber: 8\n          }, this), ' ', usrLevel > 30 && /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"w-16 m-0 p-0 bg-red-500 hover:bg-red-700 \",\n            onClick: () => approvePmCs(dakId),\n            children: \" Approve  \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 459,\n            columnNumber: 8\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 449,\n          columnNumber: 4\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 340,\n        columnNumber: 5\n      }, this), usrLevel < 30 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"-mt-2 max-h-1 py-0 ml-0\",\n        children: /*#__PURE__*/_jsxDEV(Table, {\n          columns: columns,\n          data: data,\n          className: \"table-auto\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 469,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 468,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 339,\n      columnNumber: 4\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 338,\n    columnNumber: 3\n  }, this);\n};\n\nexport default withRouter(LicDemandPmChqGeneration);","map":{"version":3,"sources":["/home/itsdc3/Imp Tulip files/falconws160424/falconws/falcon_face/src/components/LicDemandPmChqGeneration.js"],"names":["useState","useEffect","useMemo","withRouter","useParams","useHistory","useForm","axios","Table","SelectColumnFilter","yup","yupResolver","schema","object","LicDemandPmChqGeneration","register","handleSubmit","setValue","formState","errors","clearErrors","resolver","id","history","data","setData","serverErrors","setServerErrors","entity","setEntity","state","setState","loading","setLoading","mesg","setMesg","key","setKey","disabled","setDisabled","lightTheme","setLightTheme","uploadFileName","setUploadFileName","premiumAmount","setPremiumAmount","usrLevel","setUsrLevel","dakId","setDakId","tBillPmData","setTBillPmData","tBillCsData","setTBillCsData","fetching","unmounted","fetchData","get","then","response","console","log","catch","error","Error","fetchPmData","fetchUsrData","submitPmChqSlip","saving","onError","e","errorCallback","err","handleCheckBox","index","target","checked","item","newData","updateCheckBoxAll","k","select","handleInputChange","value","generatePmChqSlip","pmChqSlip","put","url","window","open","process","env","REACT_APP_BASE_URL","columns","Header","accessor","Cell","row","submitPmCs","approvePmCs","pointerEvents","opacity","map","tp","receiptCodeHead","receiptPlusAmount","receiptMinusAmount","chargeCodeHead","chargePlusAmount","chargeMinusAmount","dakidNo","tc","bankDetails","ifscCode","bankAccountNo","amount","chequeSlipDate"],"mappings":"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","sourcesContent":["/**\n * Code generated using Python\n * @author Raja Reddy\n * Date : 17 Oct 2021\n *\n * Modified By : \n */\n\nimport { useState, useEffect, useMemo } from \"react\";\nimport { withRouter, useParams, useHistory } from \"react-router-dom\";\nimport { useForm } from \"react-hook-form\";\nimport axios from 'axios';\nimport Table, { SelectColumnFilter } from '../utils/Table'  // \n\nimport * as yup from \"yup\";\n\nimport { yupResolver } from '@hookform/resolvers/yup';\n\n \n\nconst schema = yup.object({\n\t \n\t \n\t\n\t \n});\n\n \n\nconst LicDemandPmChqGeneration = () => {\n\tconst { register, handleSubmit, setValue, formState: { errors }, clearErrors } = useForm({\n\t\tresolver: yupResolver(schema)\n\t});\n\n\tlet { id } = useParams();\n\t//console.log(id);\n\n\tlet history = useHistory();\n \n \tconst [data,setData]=useState([]);\n\tconst [serverErrors, setServerErrors] = useState([]);\n\tconst [entity, setEntity] = useState({});\n\tconst [state, setState] = useState({});\n\t \n\n\t \n\tconst [loading, setLoading] = useState(true);\n\tconst [mesg,setMesg]=useState();\n\tconst [key, setKey] = useState('Page1');\n\tconst [disabled,setDisabled]=useState(false);\n  \tconst [lightTheme, setLightTheme] = useState(true);\n\tconst [uploadFileName,setUploadFileName]=useState('');\n\tconst [premiumAmount,setPremiumAmount]=useState(0);\n\tconst[usrLevel,setUsrLevel]=useState(0);\n\tconst[dakId,setDakId]=useState('');\n\tconst [tBillPmData, setTBillPmData] = useState([]);\n\tconst [tBillCsData, setTBillCsData] = useState([]);\n\t\n \n\n\tuseEffect(() => {\n\t\tlet fetching = false;\n\t\tlet unmounted = false;\n\t\t \n\t\tasync function fetchData() {\n\t\t\t \n\t\t\tif (!fetching)\n\t\t\t\t//console.log(secId);\n\t\t\t\tawait axios.get(`/licDemandTransactions/generatePm/licDemand`)\n\t\t\t\t\t.then((response) => {\n\t\t\t\t\t\tconsole.log(\"response>>\" + response.data[0]+\"==\"+response.data[1]);\n\t\t\t\t\t\t setUploadFileName(response.data[0]);\n\t\t\t\t\t\t setPremiumAmount(response.data[1]); \n\t\t\t\t\t\t setDakId(response.data[2]);\n\t\t\t\t\t\t setData(response.data);\n\t\t\t\t\t\t console.log(\">>>>> Dak Id----:\" + response.data[2]);\n\t\t\t\t\t\t if (!unmounted) {\n\t\t\t\t\t\t\t \n\t\t\t\t\t\t\tsetLoading(false);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t \n\t\t\t\t\t})\n\t\t\t\t\t.catch((error) => {\n\t\t\t\t\t\t//console.log(error);\n\t\t\t\t\t\t//console.log(error.response.status);\n\t\t\t\t\t\t//console.log(error.response.headers);\n\t\t\t\t\t\tif (error.response)\n\t\t\t\t\t\t\tsetServerErrors(error.response.data.error);\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tsetServerErrors(error.Error);\n\t\t\t\t\t})\n\t\t}\n\t\tfetchData();\n\n\t\treturn () => { fetching = true; unmounted = true; }\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t},[]);\n\n\tuseEffect(() => {\n\t\tlet fetching = false;\n\t\tlet unmounted = false;\n\t\t \n\t\tasync function fetchPmData() {\n\t\t\t \n\t\t\tif (!fetching)\n\t\t\t\t//console.log(secId);\n\t\t\t\tawait axios.get(`/licDemandTransactions/fetchDak/licDemand`)\n\t\t\t\t\t.then((response) => {\n\t\t\t\t\t   setDakId(response.data);\n\t\t\t\t\t\t  \n\t\t\t\t\t\t console.log(\">>>>> Dak Id----:\" + response.data);\n\t\t\t\t\t\t if (!unmounted) {\n\t\t\t\t\t\t\t \n\t\t\t\t\t\t\tsetLoading(false);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t \n\t\t\t\t\t})\n\t\t\t\t\t.catch((error) => {\n\t\t\t\t\t\t//console.log(error);\n\t\t\t\t\t\t//console.log(error.response.status);\n\t\t\t\t\t\t//console.log(error.response.headers);\n\t\t\t\t\t\tif (error.response)\n\t\t\t\t\t\t\tsetServerErrors(error.response.data.error);\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tsetServerErrors(error.Error);\n\t\t\t\t\t})\n\t\t}\n\t\tfetchPmData();\n\n\t\treturn () => { fetching = true; unmounted = true; }\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t},[]);\n\t\n\tuseEffect(() => {\n\t\tlet fetching = false;\n\t\tasync function fetchUsrData() {\n\t\t\tif(!fetching)\n\t\t\tconsole.log(\">>>>Usr Level is -----:\" + usrLevel);\n\t\t\tawait axios.get(`/licDemandTransactions/userDesg`)\n\t\t\t\t.then((response) => {\n\t\t\t\t\tconsole.log(\">>>>Usr Level is----:\" + response.data);\n\t\t\t\t\tsetUsrLevel(response.data);\n\t\t\t\t\t\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\t//console.log(error);\n\t\t\t\t\t//console.log(error.response.status);\n\t\t\t\t\t//console.log(error.response.headers);\n\t\t\t\t\tif (error.response)\n\t\t\t\t\t\tsetServerErrors(error.response.data.error);\n\t\t\t\t\telse\n\t\t\t\t\t\tsetServerErrors(error.Error);\n\t\t\t\t})\n\t\t}\n\t\tfetchUsrData();\n\t\treturn () => { fetching = true; }\n\n\t}, []);\n\n\tconst submitPmChqSlip = () => {\n\t\t\t \n\t\tlet saving = false;\n\t\tconsole.log(\"1111111111---:\" + dakId);\n\t\tasync function fetchPmData() {\n\t\tif (!saving)\n\t\t\t \n\t\t\tawait axios.get(`/licDemandTransactions/viewPmCs/${dakId}`)\n\t\t\t\t.then((response) => {\n\t\t\t\t\tconsole.log(\">>>>Usr Level is----:\" + response.data);\n\t\t\t\t\tif (response.data['pmList'] !== null)\n\t\t\t\t\t\tsetTBillPmData(response.data['pmList']);\n\t\t\t\t\tif (response.data['csList'] !== null)\n\t\t\t\t\t\tsetTBillCsData(response.data['csList']);\n\t\t\t\t\t\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\t//console.log(error);\n\t\t\t\t\t//console.log(error.response.status);\n\t\t\t\t\t//console.log(error.response.headers);\n\t\t\t\t\tif (error.response)\n\t\t\t\t\t\tsetServerErrors(error.response.data.error);\n\t\t\t\t\telse\n\t\t\t\t\t\tsetServerErrors(error.Error);\n\t\t\t\t})\n\t\t}\n\t\tfetchPmData();\n\n\t\treturn () => { saving = true; }\n\t}\n\n\tconst onError = (errors, e) => console.log(errors, e);\n\n\t//All foreign keys. \n\t// XXXXXX Add search fields and adjust the values as necessary\n\t \n\t \n\tconst errorCallback = (err) => {\n\t\t//console.log(err);\n\t\tsetServerErrors(err);\n\t}\n\t\n\t \n\tconst handleCheckBox = index => (e) =>{\n\t\t   \n\t\t   console.log(e.target.checked);\n\t\t\tlet item = data[index];\n\t\t \n\t\titem['select'] = e.target.checked;\n\t\tlet newData = [...data];\n\t\tnewData[index] = item;\n\t\tsetData(newData);\n\t//\tconsole.log(data);\t\n\t\t \n\t}\n\t\n\tconst updateCheckBoxAll = (e) =>{\n\t\t   \n\t\t   let newData=[...data];\n\t\t\tfor(var k in newData){\n\t\t\t\tnewData[k].select=e.target.checked;\n\t\t\t}\n\t\t\tsetData(newData);\n\t\t \n\t\t \n\t}\n\n\tconst handleInputChange = (e) => {\n\t\tconsole.log(e.target.value);\n\t//\tconsole.log(\"handle input change\");\n\t\t \n\t\t\n\t};\n\tconst generatePmChqSlip = () => {\n\t\t\n\t\tif(disabled)\n\t\t\treturn;\n\t\t//console.log(data);\n\t\t\n\t\tsetDisabled(true);\n\t\tlet saving = false;\n\t\t//console.log(id);\n\t\tasync function pmChqSlip() {\n\t\t\tif (!saving)\n\t\t\tconsole.log(\">>>>Lic Demand Data----:\"+ data);\n\t\t\t\taxios.put(`/licDemandTransactions/licDemand/generatePmChq`,data)\n\t\t\t\t\t.then((response) => {\n\t\t\t\t\t\t  const url = window.open(`${process.env.REACT_APP_BASE_URL}/files/${response.data}`);\n\t\t\t\t\t\t  setMesg(response.data[0]);\n\t\t\t\t\t\t  setData([]);\n\t\t\t\t\t\t  setDisabled(false);\n\t\t\t\t\t})\n\t\t\t\t\t.catch((error) => {\n\t\t\t\t\t\t//console.log(error);\n\t\t\t\t\t\t//console.log(error.response.status);\n\t\t\t\t\t\t//console.log(error.response.headers);\n\t\t\t\t\t\tif (error.response)\n\t\t\t\t\t\t\tsetServerErrors(error.response.data.error);\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tsetServerErrors(error.Error);\n\t\t\t\t\t})\n\t\t}\n\t\tpmChqSlip();\n\n\t\treturn () => { saving = true; }\n\t}\n\t\t \n\tconst columns=useMemo(()=>[\n\t\t \n\t\t \n\t\t \n\t\t\n\t\t{\n\t\t\t \n\t\t\tHeader:  <input type=\"checkbox\" onChange={updateCheckBoxAll} />,\n\t\t\t\n\t\t \taccessor : \"select\",\t\t\t \n\t\t\tCell: ({ row }) => (\n\t\t\t\t<div>\n\t\t\t\t\t<input type=\"checkbox\" onChange={handleCheckBox(row.index)}  checked={data[row.index]['select']}/>\n\t\t\t\t \n\t\t\t\t</div>\n\t\t\t)\n\t\t},\n\t\t\n\t\t{\n\t\t\tHeader: \"Upload File Name\",\n\t\t\taccessor: 'uploadFileName',\n\t\t},\n\t\t{\n        Header: \"Premium Amount\",\n        accessor: \"premiumAmount\",\n      },\n      \n      {\n        Header: \"Dak Id\",\n        accessor: \"dakId\",\n      },\n\t\t \n\t\t\n\t],[data])\n\t\n\t \n\tasync function submitPmCs(id) {\n\t\tawait axios.put(`/licDemandTransactions/submitPmCs/${id}`)\n\t\t\t.then((response) => {\n\t\t\t\tsetMesg(response.data); \n\t\t\t//\thistory.push({ pathname: '/licTransactions', state: response.data });\n\t\t\t\t \n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tconsole.log(error);\n\t\t\t\t//console.log(error.response.status);\n\t\t\t\t//console.log(error.response.headers);\n\t\t\t\tif (error.response)\n\t\t\t\t\tsetServerErrors(error.response.data.error);\n\t\t\t\telse\n\t\t\t\t\tsetServerErrors(error.Error);\n\t\t\t});\n\t}\n\tasync function approvePmCs(id) {\n\t\tawait axios.put(`/licDemandTransactions/approvePmCs/${id}`)\n\t\t\t.then((response) => {\n\t\t\t\t setMesg(response.data); \n\t\t\t//\thistory.push({ pathname: '/licTransactions', state: response.data });\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tconsole.log(error);\n\t\t\t\t//console.log(error.response.status);\n\t\t\t\t//console.log(error.response.headers);\n\t\t\t\tif (error.response)\n\t\t\t\t\tsetServerErrors(error.response.data.error);\n\t\t\t\telse\n\t\t\t\t\tsetServerErrors(error.Error);\n\t\t\t});\n\t}\n\t   \n\treturn (\n\t\t<div className=\"min-h-screen bg-gray-100 text-gray-900\">\n\t\t\t<main className=\"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 pt-4\">\n\t\t\t\t<div className={lightTheme ? 'theme-light' : 'theme-dark'} style={disabled ?{pointerEvents: \"none\",opacity :\"0.4\"}:{}}>\n\t\t\t\t\t \n\n\t\t\t\t\t<h1 className=\"text-xl font-semibold ml-4\">Lic Demand Pm/Chq Generation</h1>\n\t\t\t\t\t<div className=\"text-red-500\">\n\t\t\t\t\t{mesg}\n\t\t\t\t\t</div>\n\n\t\t\t\t\t \n\t\t\t\t\t\t \n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t{usrLevel<30 &&\n\t\t\t\t\t\t\t<button type=\"submit\" onClick={generatePmChqSlip} className=\" mt-3  w-40  \" >Generate Pm/Chq Slip</button>\n\t\t\t\t\t\t}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t{(usrLevel===30 || usrLevel >30) &&\n\t\t\t\t\t\t <>\n\t\t\t\t\t\t \n\t\t\t\t\t\t<button type=\"submit\" onClick={submitPmChqSlip} className=\" mt-3  w-40  \" >View Pm/Chq Slip</button>\n\t\t\t\t\t\t \n\t\t\t\t\t\t \n\t\t\t\t\t\t\n\t\t\t\t \n\t\t\t\t\t \n\t\t\t\t\t  <div className=\"container\">\n\t\t\t\t\t\t\t<h1 class=\"text-blue-600\" align=\"center\">Punching Media Details</h1>\n            <table className=\"table   table-bordered\">\n                <thead>\n               \n                    <tr>\n                        <th colSpan={3}>Receipt Side</th>\n                        <th colSpan={3}>Charges Side</th>\n                        </tr>\n                        \n                           \n                        \n                         \n                        <tr>\n                        <th>Code Head</th>\n                        <th>Plus Receipt</th>\n                        <th>Minus Receipt</th>\n                          <th>Code Head</th>\n                        <th>Plus Charge</th>\n                        <th>Minus Charge</th></tr>\n                    \n                     {tBillPmData && tBillPmData.map(tp =>\n                      <tr key={tp.dakidNo}>\n                        <td>{tp.receiptCodeHead}</td>\n                            <td>{tp.receiptPlusAmount}</td>\n                            <td>{tp.receiptMinusAmount}</td>\n                             <td>{tp.chargeCodeHead}</td>\n                            <td>{tp.chargePlusAmount}</td>\n                            <td>{tp.chargeMinusAmount}</td>\n                             \n                        </tr>\n                    )}\n                    \n                     \n                     \n                </thead>\n\t\t\t\t\n\t\t\t\t \n\t\t\t\t\n\t\t </table>\n\t\t <br/>\n\t\t </div>\n\t\t \n\t\t \n\t\t  <div className=\"container\">\n\t\t\t\t\t\t\t<h1 class=\"text-blue-600\" align=\"center\">Cheque Slip Details</h1>\n            <table className=\"table table-striped table-bordered\">\n                <thead>\n               \n                    <tr>\n                        <th>Bank Name</th>\n                        <th>IFSC</th>\n                        <th>Bank Account Number</th>\n                        <th>Amount</th>\n                         <th>Cheque Slip Date</th>\n                         \n                    </tr>\n                    \n                     {tBillCsData && tBillCsData.map(tc =>\n                      <tr key={tc.dakidNo}>\n                        <td>{tc.bankDetails}</td>\n                            <td>{tc.ifscCode}</td>\n                            <td>{tc.bankAccountNo}</td>\n                             <td>{tc.amount}</td>\n                            <td>{tc.chequeSlipDate}</td>\n                             \n                             \n                        </tr>\n                    )}\n                    \n                     \n                     \n                </thead>\n\t\t\t\t\n\t\t\t\t \n\t\t\t\t\n\t\t </table>\n\t\t </div>\n\t\t \n\t\t </>\n\t\t\t\t\t\t}\n\t\t\t\t\t\t</div>\n\t\t \n\t\t \n\t\t <div align=\"center\">\n\t\t\t\t\t\t{' '}\n\t\t\t\t\t\t{usrLevel===30 &&\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclassName=\"w-16 m-0 p-0 bg-red-500 hover:bg-red-700 \"\n\t\t\t\t\t\t\t\tonClick={() => submitPmCs(dakId)}\n\t\t\t\t\t\t\t>\tSubmit \t</button>\n\t\t\t\t\t\t}\n\t\t\t\t\t\t{' '}\n\t\t\t\t\t\t{usrLevel>30 &&\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclassName=\"w-16 m-0 p-0 bg-red-500 hover:bg-red-700 \"\n\t\t\t\t\t\t\t\tonClick={() => approvePmCs(dakId)}\n\t\t\t\t\t\t\t>\tApprove \t</button>\n\t\t\t\t\t\t}\n\t\t\t\t\t</div>\n  \n\t\t\t\t</div>\n\t\t\t\t{usrLevel<30 &&\n\t\t\t\t<div className=\"-mt-2 max-h-1 py-0 ml-0\">\n\t\t\t\t\t<Table columns={columns} data={data} className=\"table-auto\" />\n\t\t\t\t</div>\n\t\t\t\t}\n\t\t\t</main>\n\n\t\t</div>\n\t);\n};\n \n\nexport default withRouter(LicDemandPmChqGeneration);"]},"metadata":{},"sourceType":"module"}