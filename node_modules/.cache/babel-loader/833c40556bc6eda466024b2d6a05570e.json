{"ast":null,"code":"var _jsxFileName = \"/home/itsdcsec/falconws/falcon_face/src/components/Do2ControlBatchPrepareList.js\";\n\n/**\n * Code generated using Python\n * @author Raja Reddy\n * Date : 18 April 2022\n *\n * Modified By : \n */\nimport { useState, useEffect, useMemo } from 'react';\nimport Table, { SelectColumnFilter } from '../utils/Table'; // \n\nimport axios from \"axios\";\nimport { withRouter, Link } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction Do2ControlBatchPrepareList() {\n  const [data, setData] = useState([]);\n  const [update, setUpdate] = useState(false);\n  const [serverErrors, setServerErrors] = useState([]);\n  const [search, setSearch] = useState(\"\");\n  const [inputText, setInputText] = useState('');\n  const [me, setMe] = useState('');\n  const [task, setTask] = useState('0');\n  const [batchSize, setBatchSize] = useState(0);\n  const [disabled, setDisabled] = useState(false);\n  const [requiredBatchSize, setRequiredBatchSize] = useState(0);\n  const [batchCounter, setBatchCounter] = useState(0);\n  const [loading, setLoading] = useState(false);\n  useEffect(() => {\n    let fetching = false;\n\n    async function fetchData() {\n      if (!fetching) await axios.get(`/do2Controls/prepareBatch/viewAll?me=${me}&task=${task}`).then(response => {\n        setData(response.data);\n        console.log(response.data.length);\n        var i;\n        var counter = 0;\n\n        if (task.length > 1) {\n          response.data.map(d => counter = counter + d.totalItems);\n          setBatchSize(counter);\n          console.log(counter + \"--\" + response.data.length);\n        }\n      }).catch(error => {\n        //console.log(error);\n        //console.log(error.response.status);\n        //console.log(error.response.headers);\n        if (error.response) setServerErrors(error.response.data.error);else setServerErrors(error.Error);\n      });\n    }\n\n    fetchData();\n    return () => {\n      fetching = true;\n    };\n  }, [update, me, task]);\n\n  const handleCheckBox = index => e => {\n    console.log(e.target.checked);\n    data[index].selected = e.target.checked;\n    updateBatchCounter();\n  };\n\n  const updateCheckBoxAll = e => {\n    let newData = [...data];\n    let count = 0;\n\n    for (var k in newData) {\n      newData[k].selected = e.target.checked;\n      if (e.target.checked) count = count + newData[k].totalItems;\n    }\n\n    setData(newData);\n    setBatchCounter(count);\n  };\n\n  function updateBatchCounter() {\n    if (data) {\n      let counter = batchCounter;\n\n      for (var i = 0; i < data.length; i++) {\n        if (data[i].selected == true) {\n          counter += data[i].totalItems;\n        }\n\n        setBatchCounter(counter);\n      }\n    }\n  }\n\n  const download = fileName => {\n    console.log(fileName);\n    axios({\n      url: `/do2Controls/summaryReport/load/` + fileName,\n      method: 'GET',\n      responseType: 'blob' // important\n\n    }).then(response => {\n      //console.log(response.data);\n      const url = window.URL.createObjectURL(new Blob([response.data]));\n      const link = document.createElement('a');\n      link.href = url;\n      link.setAttribute('download', fileName);\n      document.body.appendChild(link);\n      link.click();\n    });\n  };\n\n  async function createBatch() {\n    console.log(task);\n    if (disabled) return;\n    let selected = false;\n    var proceed = window.confirm(\"You are about to prepare batch task wise . Please confirm.\");\n    console.log(proceed);\n    if (!proceed) return;\n    setDisabled(true);\n    setLoading(true);\n    let fname = '';\n    axios.put(`/do2Controls/newBatch/taskwise`).then(response => {\n      console.log(response.data[0]);\n      console.log(response.data[1]);\n      fname = response.data[0];\n      if (response.data[1] !== null && response.data[1] !== 'ok') setServerErrors(response.data[1]);\n      setDisabled(false);\n      setLoading(false);\n      console.log(fname);\n\n      if (fname != null && fname.length > 0) {\n        axios({\n          url: `/do2Controls/topsheet/load/` + fname,\n          method: 'GET',\n          responseType: 'blob' // important\n\n        }).then(res => {\n          //console.log(response.data);\n          const url = URL.createObjectURL(new Blob([res.data]));\n          const pdfWindow = window.open();\n          pdfWindow.location.href = url;\n          const link = pdfWindow.location.href; //const link = document.createElement('a');\n          //link.href = url;\n\n          try {\n            link.setAttribute('download', fname); //document.body.appendChild(link);\n\n            link.click();\n          } catch (err) {}\n        });\n      } // Clean up and remove the link\n      //  link.parentNode.removeChild(link);\n\n\n      setData([]);\n      setUpdate(true);\n      setBatchCounter(0);\n    });\n  }\n\n  async function remove(id) {\n    await axios.delete(`/do2Controls/${id}`).then(() => {\n      //console.log(data);\n      let updatedRecords = [...data].filter(i => i.id !== id);\n      console.log(updatedRecords);\n      setData(updatedRecords);\n      setUpdate(!update);\n    }).catch(error => {\n      console.log(error); //console.log(error.response.status);\n      //console.log(error.response.headers);\n\n      if (error.response) setServerErrors(error.response.data.error);else setServerErrors(error.Error);\n    });\n  }\n\n  const columns = useMemo(() => [{\n    Header: /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"checkbox\",\n      onChange: updateCheckBoxAll\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 12\n    }, this),\n    accessor: \"select\",\n    Cell: ({\n      row\n    }) => /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"checkbox\",\n        onChange: handleCheckBox(row.index),\n        checked: data[row.index]['selected']\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 5\n    }, this)\n  }, {\n    Header: \"Id\",\n    accessor: 'id'\n  }, {\n    Header: \"Month Ending\",\n    accessor: 'monthEnding'\n  }, {\n    Header: \"Dt Of Receipt\",\n    accessor: 'dtOfReceipt'\n  }, {\n    Header: \"Unit Code\",\n    accessor: 'unitCode'\n  }, {\n    Header: \"Do2 No\",\n    accessor: 'do2No'\n  }, {\n    Header: \"Do2 Year\",\n    accessor: 'do2Year'\n  }, {\n    Header: \"Do2 Date\",\n    accessor: 'do2Date'\n  }, {\n    Header: \"Total Items\",\n    accessor: 'totalItems'\n  }, {\n    Header: \"Task\",\n    accessor: 'task'\n  }, {\n    Header: \"Input File Name\",\n    accessor: 'inputFileName'\n  }, {\n    Header: \"Batch File Name\",\n    accessor: 'batchFileName'\n  }, {\n    Header: \"Missing Do2\",\n    accessor: 'missingDo2'\n  }, {\n    Header: \"Misdo2rep Gen Dt\",\n    accessor: 'misdo2repGenDt'\n  }, {\n    Header: \"Hard Copy Verified\",\n    accessor: 'hardCopyVerified'\n  }, {\n    Header: \"No Hc\",\n    accessor: 'noHc'\n  }, {\n    Header: \"Ack Date\",\n    accessor: 'ackDate'\n  }, {\n    Header: \"Feed Back Date\",\n    accessor: 'feedBackDate'\n  }, {\n    Header: \"Specimen Signature\",\n    accessor: 'specimenSignature.id' // Change this\n\n  }, {\n    Header: \"Core Validity\",\n    accessor: 'coreValidity'\n  }, {\n    Header: \"Input File Type\",\n    accessor: 'inputFileType'\n  }, {\n    Header: \"Auditor Date\",\n    accessor: 'auditorDate'\n  }, {\n    Header: \"Aao Date\",\n    accessor: 'aaoDate'\n  }, {\n    Header: \"Ao Date\",\n    accessor: 'aoDate'\n  }\n  /*\n  {\n  \tHeader: \"Login Name\",\n  \taccessor: 'loginName',\n  \tFilter: SelectColumnFilter,  // new\n  \tfilter: 'includes',\n  },\n  */\n  ], [data]);\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    console.log(inputText); //setSearch(inputText);\n  };\n\n  const handleKeyPress = event => {\n    // look for the `Enter` keyCode\n    if (event.keyCode === 13 || event.which === 13) {\n      handleSubmit(event);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-100 text-gray-900\",\n    children: /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"max-w-8xl mx-auto px-4 sm:px-6 lg:px-8 pt-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-2 ml-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-xl font-semibold\",\n          children: \"Do2 Controls\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 362,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flexContainer\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"me\",\n            placeholder: \"mmyyyy\",\n            onChange: e => setMe(e.target.value),\n            className: \"pl-2 -ml-2 inputField flex-initial\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 365,\n            columnNumber: 7\n          }, this), \"\\xA0\\xA0\\xA0\\xA0\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"task\",\n            placeholder: \"task\",\n            onChange: e => setTask(e.target.value),\n            className: \"pl-2 -ml-2 inputField flex-initial\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 370,\n            columnNumber: 8\n          }, this), \"\\xA0\\xA0\\xA0\\xA0\", /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            onClick: handleSubmit,\n            className: \"w-16 m-0 p-0\",\n            children: \"Search\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 376,\n            columnNumber: 7\n          }, this), \"\\xA0\\xA0\\xA0\\xA0\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 378,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              class: \"text-2xl\",\n              children: [\"Total Items in selected Batch : \", batchCounter]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 380,\n              columnNumber: 7\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 379,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 364,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 361,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-red-500\",\n        children: serverErrors\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 384,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"-mt-2 max-h-1 py-0\",\n        children: [loading && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"flex justify-center items-center\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"spinner-border animate-spin inline-block w-8 h-8 border-4 rounded-full\",\n              role: \"status\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                class: \"visually-hidden\",\n                children: \"Loading...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 390,\n                columnNumber: 5\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 389,\n              columnNumber: 3\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 388,\n            columnNumber: 8\n          }, this)\n        }, void 0, false), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 395,\n          columnNumber: 4\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 395,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Table, {\n          columns: columns,\n          data: data,\n          className: \"table-auto\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 396,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flexContainer\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: createBatch,\n              className: \"w-32 m-0 p-0\",\n              children: \"Prepare Batch\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 399,\n              columnNumber: 6\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 398,\n            columnNumber: 6\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/do2Controls/topsheet/load/all\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \" w-32 ml-8 p-0 h-6 -mt-2\",\n                children: \" View Top Sheet \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 403,\n                columnNumber: 9\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 402,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 401,\n            columnNumber: 5\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 397,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 385,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 360,\n      columnNumber: 4\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 359,\n    columnNumber: 3\n  }, this);\n}\n\nexport default withRouter(Do2ControlBatchPrepareList);","map":{"version":3,"sources":["/home/itsdcsec/falconws/falcon_face/src/components/Do2ControlBatchPrepareList.js"],"names":["useState","useEffect","useMemo","Table","SelectColumnFilter","axios","withRouter","Link","Do2ControlBatchPrepareList","data","setData","update","setUpdate","serverErrors","setServerErrors","search","setSearch","inputText","setInputText","me","setMe","task","setTask","batchSize","setBatchSize","disabled","setDisabled","requiredBatchSize","setRequiredBatchSize","batchCounter","setBatchCounter","loading","setLoading","fetching","fetchData","get","then","response","console","log","length","i","counter","map","d","totalItems","catch","error","Error","handleCheckBox","index","e","target","checked","selected","updateBatchCounter","updateCheckBoxAll","newData","count","k","download","fileName","url","method","responseType","window","URL","createObjectURL","Blob","link","document","createElement","href","setAttribute","body","appendChild","click","createBatch","proceed","confirm","fname","put","res","pdfWindow","open","location","err","remove","id","delete","updatedRecords","filter","columns","Header","accessor","Cell","row","handleSubmit","event","preventDefault","handleKeyPress","keyCode","which","value"],"mappings":"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","sourcesContent":["/**\n * Code generated using Python\n * @author Raja Reddy\n * Date : 18 April 2022\n *\n * Modified By : \n */\n\nimport { useState, useEffect, useMemo } from 'react';\nimport Table, { SelectColumnFilter } from '../utils/Table'  // \nimport axios from \"axios\";\nimport { withRouter, Link } from \"react-router-dom\";\n\nfunction Do2ControlBatchPrepareList() {\n\n\tconst [data, setData] = useState([]);\n\tconst [update, setUpdate] = useState(false);\n\tconst [serverErrors, setServerErrors] = useState([]);\n\tconst [search, setSearch] = useState(\"\");\n\tconst [inputText, setInputText] = useState('');\n\tconst [me,setMe]=useState('');\n\tconst [task,setTask]=useState('0');\n\tconst [batchSize,setBatchSize]=useState(0);\n\tconst [disabled,setDisabled]=useState(false);\n\tconst [requiredBatchSize,setRequiredBatchSize]=useState(0);\n\tconst [batchCounter,setBatchCounter]=useState(0);\n\tconst [loading,setLoading]=useState(false);\n\t\n\t\n\t\n\tuseEffect(() => {\n\t\tlet fetching = false;\n\t\tasync function fetchData() {\n\t\t\t \n\t\t\tif(!fetching)\n\t\t\tawait axios.get(`/do2Controls/prepareBatch/viewAll?me=${me}&task=${task}`)\n\t\t\t\t.then((response) => {\n\t\t\t\t\tsetData(response.data);\n\t\t\t\t\tconsole.log(response.data.length);\n\t\t\t\t\tvar i;\n\t\t\t\t\tvar counter=0;\n\t\t\t\t\tif(task.length>1){\n\t\t\t\t\t\tresponse.data.map((d)=>(counter=counter+d.totalItems));\n\t\t\t\t\t \n\t\t\t\t\tsetBatchSize(counter);\n\t\t\t\t\tconsole.log(counter+\"--\"+response.data.length);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\t//console.log(error);\n\t\t\t\t\t//console.log(error.response.status);\n\t\t\t\t\t//console.log(error.response.headers);\n\t\t\t\t\tif (error.response)\n\t\t\t\t\t\tsetServerErrors(error.response.data.error);\n\t\t\t\t\telse\n\t\t\t\t\t\tsetServerErrors(error.Error);\n\t\t\t\t})\n\t\t}\n\t\tfetchData();\n\t\treturn () => { fetching = true; }\n\n\t}, [update, me,task]);\nconst handleCheckBox =index=> (e) =>{\n\t\t   console.log(e.target.checked);\n\t\t\tdata[index].selected=e.target.checked;\n\t\t\tupdateBatchCounter();\n\t\t \n\t}\n \n\tconst updateCheckBoxAll = (e) =>{\n\t\t   \n\t\t   \n\t\t\t  let newData=[...data];\n\t\t\t  let count=0;\n\t\t\tfor(var k in newData){\n\t\t\t\tnewData[k].selected=e.target.checked;\n\t\t\t\tif(e.target.checked)\n\t\t\t\tcount=count+newData[k].totalItems;\n\t\t\t}\n\t\t\tsetData(newData);\n\t\t\tsetBatchCounter(count);\n\t\t \n\t\t \n\t}\n\t\n\tfunction updateBatchCounter (){\n\t\tif(data){\n\t\t\tlet counter=batchCounter;\n\t\t\tfor(var i=0;i<data.length;i++){\n\t\t\tif(data[i].selected==true){\n\t\t\t\tcounter+=data[i].totalItems\n\t\t\t\t\n\t\t\t}\n\t\t\tsetBatchCounter(counter);\n\t\t}\n\t\t}\n\t}\n\t\n\tconst download = (fileName) => {\n\t\tconsole.log(fileName);\n\t\taxios({\n\t\t\turl: `/do2Controls/summaryReport/load/` + fileName, \n\t\t\tmethod: 'GET',\n\t\t\tresponseType: 'blob', // important\n\t\t}).then((response) => {\n\t\t\t//console.log(response.data);\n\t\t\tconst url = window.URL.createObjectURL(new Blob([response.data]));\n\t\t\tconst link = document.createElement('a');\n\t\t\tlink.href = url;\n\t\t\tlink.setAttribute('download', fileName);\n\t\t \n\t\t\tdocument.body.appendChild(link);\n\t\t\tlink.click();\n\t\t});\n\t}\n\nasync function createBatch  () {\n\tconsole.log(task);\n\t\tif(disabled)\n\t\treturn;\n\t \n\tlet selected=false;\n\t \n\tvar proceed=window.confirm(\"You are about to prepare batch task wise . Please confirm.\");\n\tconsole.log(proceed);\n\tif(!proceed)\n\t\treturn;\n\n\t\t\n\t\tsetDisabled(true);\n\t\tsetLoading(true); \n\t\tlet fname='';\n\t\taxios.put(`/do2Controls/newBatch/taskwise`)\n\t\t.then((response) => {\t \n\t\t\t console.log(response.data[0]);\n\t\t\t console.log(response.data[1]);\n\t\t\t fname=response.data[0];\n\t\t\t if(response.data[1]!==null && response.data[1]!=='ok')\n\t\t\t \tsetServerErrors(response.data[1]);\n\t\t\t setDisabled(false);\n\t\t\t setLoading(false);\n\t\t\t console.log(fname);\n\t\tif(fname!=null && fname.length>0){\n\t\t\taxios({\n\t\t\turl: `/do2Controls/topsheet/load/` + fname, \n\t\t\tmethod: 'GET',\n\t\t\tresponseType: 'blob', // important\n\t\t}).then((res) => {\n\t\t\t//console.log(response.data);\n\t\t\tconst url =URL.createObjectURL(new Blob([res.data]));\n\t\t\tconst pdfWindow=window.open();\n\t\t\tpdfWindow.location.href=url;\n\t\t\tconst link=pdfWindow.location.href;\n\t\t\t//const link = document.createElement('a');\n\t\t\t//link.href = url;\n\t\t\ttry{\n\t\t\tlink.setAttribute('download', fname);\n\t\t \n\t\t\t//document.body.appendChild(link);\n\t\t\tlink.click();\n\t\t\t}catch(err){\n\t\t\t\t\n\t\t\t}\n\t\t});\n\t\t}\n\t\t\t \n        // Clean up and remove the link\n      //  link.parentNode.removeChild(link);\n\t\t\tsetData([]);\n\t\t\tsetUpdate(true);\n\t\t\tsetBatchCounter(0);\n\t\t\t \n\t\t});\n\t\t\n\t\t\n\t}\n\t\n\tasync function remove(id) {\n\t\tawait axios.delete(`/do2Controls/${id}`)\n\t\t\t.then(() => {\n\t\t\t\t//console.log(data);\n\t\t\t\tlet updatedRecords = [...data].filter((i) => i.id !== id);\n\t\t\t\tconsole.log(updatedRecords);\n\t\t\t\tsetData(updatedRecords);\n\t\t\t\tsetUpdate(!update);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tconsole.log(error);\n\t\t\t\t//console.log(error.response.status);\n\t\t\t\t//console.log(error.response.headers);\n\t\t\t\tif (error.response)\n\t\t\t\t\tsetServerErrors(error.response.data.error);\n\t\t\t\telse\n\t\t\t\t\tsetServerErrors(error.Error);\n\t\t\t});\n\t}\n\n\n\tconst columns = useMemo(() => [\n\t\t{\n\t\t\tHeader: <input type=\"checkbox\" onChange={updateCheckBoxAll} />,\n\t\t\taccessor : \"select\",\n\t\t\tCell: ({ row }) => (\n\t\t\t\t<div>\n\t\t\t\t\t \n\t\t\t\t\t\t<input type=\"checkbox\" onChange={handleCheckBox(row.index)}  checked={data[row.index]['selected']}  />\n\t\t\t\t\t\t \n\t\t\t\t\t \n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t)\n\t\t\t \n\t\t},\n\t\t \n\t\t{\n\t\t\tHeader: \"Id\",\n\t\t\taccessor: 'id',\n\t\t},\n\t\t{\n\t\t\tHeader: \"Month Ending\",\n\t\t\taccessor: 'monthEnding',\n\t\t},\n\t\t\n\t\t{\n\t\t\tHeader: \"Dt Of Receipt\",\n\t\t\taccessor: 'dtOfReceipt',\n\t\t},\n\t\t{\n\t\t\tHeader: \"Unit Code\",\n\t\t\taccessor: 'unitCode',\n\t\t},\n\t\t \n\t\t \n\t\t{\n\t\t\tHeader: \"Do2 No\",\n\t\t\taccessor: 'do2No',\n\t\t},\n\t\t{\n\t\t\tHeader: \"Do2 Year\",\n\t\t\taccessor: 'do2Year',\n\t\t},\n\t\t{\n\t\t\tHeader: \"Do2 Date\",\n\t\t\taccessor: 'do2Date',\n\t\t},\n\t\t\n\t\t{\n\t\t\tHeader: \"Total Items\",\n\t\t\taccessor: 'totalItems',\n\t\t},\n\t\t\n\t\t \n\t\t\n\t\t{\n\t\t\tHeader: \"Task\",\n\t\t\taccessor: 'task',\n\t\t},\n\t\t\n\t \n\t\t\n\t\t{\n\t\t\tHeader: \"Input File Name\",\n\t\t\taccessor: 'inputFileName',\n\t\t},\n\t\t\n\t\t{\n\t\t\tHeader: \"Batch File Name\",\n\t\t\taccessor: 'batchFileName',\n\t\t},\n\t\t\n\t\t\n\t\t\n\t\t{\n\t\t\tHeader: \"Missing Do2\",\n\t\t\taccessor: 'missingDo2',\n\t\t},\n\t\t\n\t\t{\n\t\t\tHeader: \"Misdo2rep Gen Dt\",\n\t\t\taccessor: 'misdo2repGenDt',\n\t\t},\n\t\t\n\t\t\n\t\t\n\t\t\n\t\t{\n\t\t\tHeader: \"Hard Copy Verified\",\n\t\t\taccessor: 'hardCopyVerified',\n\t\t},\n\t\t\n\t\t{\n\t\t\tHeader: \"No Hc\",\n\t\t\taccessor: 'noHc',\n\t\t},\n\t\t\n\t\t{\n\t\t\tHeader: \"Ack Date\",\n\t\t\taccessor: 'ackDate',\n\t\t},\n\t\t\n\t\t{\n\t\t\tHeader: \"Feed Back Date\",\n\t\t\taccessor: 'feedBackDate',\n\t\t},\n\t\t\n\t\t{\n\t\t\tHeader: \"Specimen Signature\",\n\t\t\taccessor: 'specimenSignature.id',// Change this\n\t\t},\n\t\t\n\t\t{\n\t\t\tHeader: \"Core Validity\",\n\t\t\taccessor: 'coreValidity',\n\t\t},\n\t\t\n\t\t{\n\t\t\tHeader: \"Input File Type\",\n\t\t\taccessor: 'inputFileType',\n\t\t},\n\t\t{\n\t\t\tHeader: \"Auditor Date\",\n\t\t\taccessor: 'auditorDate',\n\t\t},\n\t\t\n\t\t{\n\t\t\tHeader: \"Aao Date\",\n\t\t\taccessor: 'aaoDate',\n\t\t},\n\t\t{\n\t\t\tHeader: \"Ao Date\",\n\t\t\taccessor: 'aoDate',\n\t\t},\n\t\t\n\t\t\n\t\t/*\n\t\t{\n\t\t\tHeader: \"Login Name\",\n\t\t\taccessor: 'loginName',\n\t\t\tFilter: SelectColumnFilter,  // new\n\t\t\tfilter: 'includes',\n\t\t},\n\t\t*/\n\t], [data])\n\n\tconst handleSubmit = (event) => {\n\t\tevent.preventDefault();\n\t\tconsole.log(inputText);\n\t\t//setSearch(inputText);\n\t}\n\n\tconst handleKeyPress = (event) => {\n\t\t// look for the `Enter` keyCode\n\t\tif (event.keyCode === 13 || event.which === 13) {\n\t\t\thandleSubmit(event)\n\t\t}\n\t}\n\n\treturn (\n\t\t<div className=\"min-h-screen bg-gray-100 text-gray-900\">\n\t\t\t<main className=\"max-w-8xl mx-auto px-4 sm:px-6 lg:px-8 pt-4\">\n\t\t\t\t<div className=\"mt-2 ml-4\">\n\t\t\t\t\t<h1 className=\"text-xl font-semibold\">Do2 Controls</h1>\n\t\t\t\t\t\n\t\t\t\t\t<div className=\"flexContainer\">\n\t\t\t\t\t\t<input type=\"text\" name=\"me\" placeholder=\"mmyyyy\" \n\t\t\t\t\t\tonChange={e => setMe(e.target.value)}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tclassName=\"pl-2 -ml-2 inputField flex-initial\" />&nbsp;&nbsp;&nbsp;&nbsp;\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<input type=\"text\" name=\"task\" placeholder=\"task\" \n\t\t\t\t\t\tonChange={e => setTask(e.target.value)}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tclassName=\"pl-2 -ml-2 inputField flex-initial\" />&nbsp;&nbsp;&nbsp;&nbsp;\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t<button type=\"submit\" onClick={handleSubmit} className=\"w-16 m-0 p-0\">Search</button>\n\t\t\t\t\t\t &nbsp;&nbsp;&nbsp;&nbsp;\n\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t<p class=\"text-2xl\">Total Items in selected Batch : {batchCounter}</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\t\t\t\t\t\n\t\t\t\t</div>\n\t\t\t\t<div className=\"text-red-500\">{serverErrors}</div>\n\t\t\t\t<div className=\"-mt-2 max-h-1 py-0\">\n\t\t\t\t{loading && <>\n\t\t\t\t\t\t \n\t\t\t\t\t\t <div class=\"flex justify-center items-center\">\n  <div class=\"spinner-border animate-spin inline-block w-8 h-8 border-4 rounded-full\" role=\"status\">\n    <span class=\"visually-hidden\">Loading...</span>\n  </div>\n</div>\n\t\t\t\t\t\t</>\t\n\t\t\t\t\t\t}\n\t\t\t<br/><br/>\n\t\t\t\t\t<Table columns={columns} data={data} className=\"table-auto\" />\n\t\t\t\t\t<div className=\"flexContainer\">\n\t\t\t\t\t<div>\n\t\t\t\t\t<button type=\"button\" onClick={createBatch} className=\"w-32 m-0 p-0\">Prepare Batch</button>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t\t\t<Link to={\"/do2Controls/topsheet/load/all\"}>\n\t\t\t\t\t\t\t\t<button className=\" w-32 ml-8 p-0 h-6 -mt-2\" > View Top Sheet </button>\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t\n\t\t\t</main>\n\t\t\t\n\t\t</div>\n\t);\n}\n\nexport default withRouter(Do2ControlBatchPrepareList);\n\n"]},"metadata":{},"sourceType":"module"}