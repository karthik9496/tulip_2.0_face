{"ast":null,"code":"import _regeneratorRuntime from\"/home/itsdcsec/falconws/falcon_face/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/itsdcsec/falconws/falcon_face/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/itsdcsec/falconws/falcon_face/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";/**\n * Code generated using Python\n * @author Raja Reddy\n * Date : 17 Oct 2021\n *\n * Modified By :\n */import{useState,useEffect,useMemo}from\"react\";import{withRouter,useParams,useHistory,Link}from\"react-router-dom\";import{useForm}from\"react-hook-form\";import axios from\"axios\";import Table,{SelectColumnFilter}from\"../utils/Table\";//\nimport*as yup from\"yup\";import{yupResolver}from\"@hookform/resolvers/yup\";import LiveSearch from\"../utils/LiveSearch\";import DatePicker from\"react-datepicker\";import\"react-datepicker/dist/react-datepicker.css\";import addDays from\"date-fns/addDays\";import Tabs from\"react-bootstrap/Tabs\";import Tab from\"react-bootstrap/Tab\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var schema=yup.object({});var DailyProgressReport=function DailyProgressReport(){var _useForm=useForm({resolver:yupResolver(schema)}),register=_useForm.register,handleSubmit=_useForm.handleSubmit,setValue=_useForm.setValue,errors=_useForm.formState.errors,clearErrors=_useForm.clearErrors;var _useParams=useParams(),id=_useParams.id;//console.log(id);\nvar history=useHistory();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),serverErrors=_useState4[0],setServerErrors=_useState4[1];var _useState5=useState({}),_useState6=_slicedToArray(_useState5,2),entity=_useState6[0],setEntity=_useState6[1];var _useState7=useState({}),_useState8=_slicedToArray(_useState7,2),state=_useState8[0],setState=_useState8[1];var _useState9=useState(new Date()),_useState10=_slicedToArray(_useState9,2),fromDate=_useState10[0],setFromDate=_useState10[1];var _useState11=useState(new Date()),_useState12=_slicedToArray(_useState11,2),toDate=_useState12[0],setToDate=_useState12[1];var _useState13=useState(\"\"),_useState14=_slicedToArray(_useState13,2),fromDateStr=_useState14[0],setFromDateStr=_useState14[1];var _useState15=useState(\"\"),_useState16=_slicedToArray(_useState15,2),toDateStr=_useState16[0],setToDateStr=_useState16[1];var _useState17=useState({}),_useState18=_slicedToArray(_useState17,2),formErrors=_useState18[0],setFormErrors=_useState18[1];var _useState19=useState(true),_useState20=_slicedToArray(_useState19,2),loading=_useState20[0],setLoading=_useState20[1];var _useState21=useState(),_useState22=_slicedToArray(_useState21,2),mesg=_useState22[0],setMesg=_useState22[1];var _useState23=useState(\"\"),_useState24=_slicedToArray(_useState23,2),task=_useState24[0],setTask=_useState24[1];var _useState25=useState(\"\"),_useState26=_slicedToArray(_useState25,2),sectionname=_useState26[0],setSectionname=_useState26[1];var _useState27=useState(\"Page1\"),_useState28=_slicedToArray(_useState27,2),key=_useState28[0],setKey=_useState28[1];var _useState29=useState([]),_useState30=_slicedToArray(_useState29,2),audData=_useState30[0],setAudData=_useState30[1];var _useState31=useState([]),_useState32=_slicedToArray(_useState31,2),aaoData=_useState32[0],setAaoData=_useState32[1];var _useState33=useState([]),_useState34=_slicedToArray(_useState33,2),aoData=_useState34[0],setAoData=_useState34[1];var _useState35=useState([]),_useState36=_slicedToArray(_useState35,2),approvedData=_useState36[0],setApprovedData=_useState36[1];var generateDpr=function generateDpr(){var saving=false;function fetchData(){return _fetchData.apply(this,arguments);}function _fetchData(){_fetchData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(saving){_context.next=3;break;}_context.next=3;return axios.get(\"/reports/\".concat(fromDateStr,\"/\").concat(toDateStr,\"/dpr\")).then(function(response){console.log(\"response>>\"+response.data);//setSh3List(response.data);\nsetData(response.data);console.log(\"---Task No>>\"+data[1].task);setTask(data[3].task);console.log(\"---Section No>>\"+data[1].sectionname);setSectionname(data[1].sectionname);}).catch(function(error){//console.log(error);\n//console.log(error.response.status);\n//console.log(error.response.headers);\nif(error.response)setServerErrors(error.response.data.error);else setServerErrors(error.Error);});case 3:case\"end\":return _context.stop();}}},_callee);}));return _fetchData.apply(this,arguments);}fetchData();return function(){saving=true;};// eslint-disable-next-line react-hooks/exhaustive-deps\n};function breakUp(_x,_x2,_x3,_x4){return _breakUp.apply(this,arguments);}function _breakUp(){_breakUp=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(task,sectionname,fromDateStr,toDateStr){var record;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:record=\"\";console.log(\">>>>>>>>:\"+task);console.log(\">>>Section Name--:\"+sectionname);_context2.next=5;return axios.get(\"/reports/\".concat(task,\"/\").concat(sectionname,\"/\").concat(fromDateStr,\"/\").concat(toDateStr,\"/dprBreakup\")).then(function(response){console.log(\"response>>\"+response.data[1]);if(response.data[0]){console.log(\">>>>>aud Data--:\"+response.data[0]);setAudData(response.data[0]);}if(response.data[1]){console.log(\">>>>>aao Data--:\"+response.data[1]);setAaoData(response.data[1]);}if(response.data[2]){setAoData(response.data[2]);}if(response.data[3]){setApprovedData(response.data[3]);}}).catch(function(error){//console.log(error);\n//console.log(error.response.status);\n//console.log(error.response.headers);\nif(error.response)setServerErrors(error.response.data.error);else setServerErrors(error.Error);});case 5:case\"end\":return _context2.stop();}}},_callee2);}));return _breakUp.apply(this,arguments);}var handleInputFromDateChange=function handleInputFromDateChange(e){console.log(e.target.value);//setFromDate(e.target.value);\n// validateFromDate(e.target.value);\nsetFromDateStr(e.target.value);};var handleInputToDateChange=function handleInputToDateChange(e){console.log(e.target.value);//setToDate(e.target.value);\n// validateToDate(e.target.value);\nsetToDateStr(e.target.value);};var onError=function onError(errors,e){return console.log(errors,e);};//All foreign keys.\n// XXXXXX Add search fields and adjust the values as necessary\nvar errorCallback=function errorCallback(err){//console.log(err);\nsetServerErrors(err);};var handleInputChange=function handleInputChange(e){console.log(e.target.value);//\tconsole.log(\"handle input change\");\n};var ShowDpr=function ShowDpr(){var columns=useMemo(function(){return[{Header:\"Section\",accessor:\"sectionname\"},{Header:\"Task\",accessor:\"task\"},{Header:\"Usr\",accessor:\"usrName\"},{Header:\"Opening Balance\",accessor:\"openingBalance\"},{Header:\"Receipts\",accessor:\"receipts\"},{Header:\"Disposal\",accessor:\"disposal\"},{Header:\"Closing Balance\",accessor:\"closingBalance\",Cell:function Cell(_ref){var row=_ref.row;return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"a\",{href:\"#\",className:\"w-32 m-0 p-0 bg-green-500 hover:bg-green-700 \",onClick:function onClick(){return breakUp(row.original.task,row.original.sectionname,fromDateStr,toDateStr);},children:[\" \",row.original.closingBalance,\" \"]})});}},{Header:\"Rejection Count\",accessor:\"rejectionCount\"},{Header:\"Rejection Percentage\",accessor:\"rejPercentage\",Cell:function Cell(_ref2){var row=_ref2.row;return/*#__PURE__*/_jsx(\"div\",{className:\"w-11 m-0 p-0 bg-red-200 \",children:row.original.rejPercentage});}},{Header:\"Oldest Date\",accessor:\"oldestDate\"}];},[data]);return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-full bg-gray-100 text-gray-900\",children:/*#__PURE__*/_jsxs(\"main\",{className:\"max-w-8xl mx-auto px-4 sm:px-6 lg:px-8 pt-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\" \",children:/*#__PURE__*/_jsx(\"h1\",{className:\"text-xl font-semibold ml-4\",children:\"Daily Progress Report\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"-mt-2 max-h-full py-0 ml-0\",children:/*#__PURE__*/_jsx(Table,{columns:columns,data:data,page:50,className:\"table-auto\"})})]})});};var ShowBreakupAud=function ShowBreakupAud(){var date=new Date(\"createdAt\");var dateMDY=\"\".concat(date.getDate(),\"-\").concat(date.getMonth()+1,\"-\").concat(date.getFullYear());var columns=useMemo(function(){return[{Header:\"Dak Id\",accessor:\"dak.dakidNo\"},{Header:\"CDAo_No\",accessor:\"cdaoNo\"},{Header:\"Bill Type\",accessor:\"billType.description\"},{Header:\"Amount\",accessor:\"amountClaimed\"},{Header:\"Oldest Date\",accessor:\"createdAt\"},{Header:\"Reason\",accessor:\"reason\"}];},[audData]);return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-full bg-gray-100 text-gray-900\",children:/*#__PURE__*/_jsxs(\"main\",{className:\"max-w-8xl mx-auto px-4 sm:px-6 lg:px-8 pt-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\" \",children:/*#__PURE__*/_jsx(\"h1\",{className:\"text-xl font-semibold ml-4\",children:\"Breakup Details of Auditor\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"-mt-2 max-h-full py-0 ml-0\",children:/*#__PURE__*/_jsx(Table,{columns:columns,data:audData,page:50,className:\"table-auto\"})})]})});};var ShowBreakupAao=function ShowBreakupAao(){var date=new Date(\"createdAt\");var dateMDY=\"\".concat(date.getDate(),\"-\").concat(date.getMonth()+1,\"-\").concat(date.getFullYear());var columns=useMemo(function(){return[{Header:\"Dak Id\",accessor:\"dak.dakidNo\"},{Header:\"CDAo_No\",accessor:\"cdaoNo\"},{Header:\"Bill Type\",accessor:\"billType.description\"},{Header:\"Amount\",accessor:\"amountClaimed\"},{Header:\"Oldest Date\",accessor:\"createdAt\"},{Header:\"Reason\",accessor:\"reason\"}];},[aaoData]);return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-full bg-gray-100 text-gray-900\",children:/*#__PURE__*/_jsxs(\"main\",{className:\"max-w-8xl mx-auto px-4 sm:px-6 lg:px-8 pt-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\" \",children:/*#__PURE__*/_jsx(\"h1\",{className:\"text-xl font-semibold ml-4\",children:\"Breakup Details of AAO\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"-mt-2 max-h-full py-0 ml-0\",children:/*#__PURE__*/_jsx(Table,{columns:columns,data:aaoData,page:50,className:\"table-auto\"})})]})});};var ShowBreakupAo=function ShowBreakupAo(){var date=new Date(\"createdAt\");var dateMDY=\"\".concat(date.getDate(),\"-\").concat(date.getMonth()+1,\"-\").concat(date.getFullYear());var columns=useMemo(function(){return[{Header:\"Dak Id\",accessor:\"dak.dakidNo\"},{Header:\"CDAo_No\",accessor:\"cdaoNo\"},{Header:\"Bill Type\",accessor:\"billType.description\"},{Header:\"Amount\",accessor:\"amountClaimed\"},{Header:\"Oldest Date\",accessor:\"createdAt\"},{Header:\"Reason\",accessor:\"reason\"}];},[aoData]);return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-full bg-gray-100 text-gray-900\",children:/*#__PURE__*/_jsxs(\"main\",{className:\"max-w-8xl mx-auto px-4 sm:px-6 lg:px-8 pt-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\" \",children:/*#__PURE__*/_jsx(\"h1\",{className:\"text-xl font-semibold ml-4\",children:\"Breakup Details of AO\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"-mt-2 max-h-full py-0 ml-0\",children:/*#__PURE__*/_jsx(Table,{columns:columns,data:aoData,page:50,className:\"table-auto\"})})]})});};return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-full bg-gray-100 text-gray-900\",children:[/*#__PURE__*/_jsx(\"main\",{className:\"max-w-xl mx-auto px-4 sm:px-6 lg:px-8 pt-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\" \",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-xl font-semibold ml-4\",children:\"Select From Date--- To Date For Daily Progress Report\"}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"FromDate\",placeholder:\"dd-mm-yyyy\",onChange:function onChange(e){return handleInputFromDateChange(e);},className:\"form-control py-0\"})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"ToDate\",placeholder:\"dd-mm-yyyy\",onChange:function onChange(e){return handleInputToDateChange(e);},className:\"form-control py-0\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"pl-1 -ml-2 inputField flex-initial\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",onClick:generateDpr,className:\"w-32 m-0 p-0\",children:\"Generate DPR\"})]})}),/*#__PURE__*/_jsx(\"main\",{className:\"max-w-8xl mx-auto px-4 sm:px-6 lg:px-8 pt-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex-container\",children:/*#__PURE__*/_jsx(ShowDpr,{})})}),/*#__PURE__*/_jsx(\"main\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"min-h-full bg-gray-100 text-gray-900\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-10xl mx-auto px-4 sm:px-6 lg:px-8 pt-4\",children:/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h1\",{class:\"text-blue-600\",align:\"center\",children:\"Breakup Details----Auditor\"}),/*#__PURE__*/_jsxs(\"table\",{className:\"table table-striped table-bordered\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Sl No\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Dak Id\"}),/*#__PURE__*/_jsx(\"th\",{children:\"CDAO No\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Bill Type\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Amount\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Oldest Date\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Reason\"})]})}),audData&&audData.map(function(taud,index){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:index+1}),/*#__PURE__*/_jsx(\"td\",{children:taud.dakidNo}),/*#__PURE__*/_jsx(\"td\",{children:taud.cdaoNo}),/*#__PURE__*/_jsx(\"td\",{children:taud.billType}),/*#__PURE__*/_jsx(\"td\",{children:taud.amountClaimed}),/*#__PURE__*/_jsx(\"td\",{children:taud.oldestDate}),/*#__PURE__*/_jsx(\"td\",{children:taud.reason})]},taud.dakidNo);}),/*#__PURE__*/_jsx(\"tbody\",{children:audData.length===0&&/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsxs(\"td\",{colspan:\"7\",align:\"center\",children:[\"No Details for Auditor Avaialble\",\" \"]})})})]}),/*#__PURE__*/_jsx(\"br\",{})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h1\",{class:\"text-blue-600\",align:\"center\",children:\"Breakup Details----AAO\"}),/*#__PURE__*/_jsxs(\"table\",{className:\"table table-striped table-bordered\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Sl No\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Dak Id\"}),/*#__PURE__*/_jsx(\"th\",{children:\"CDAO No\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Bill Type\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Amount\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Oldest Date\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Reason\"})]})}),aaoData&&aaoData.map(function(taao,index){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:index+1}),/*#__PURE__*/_jsx(\"td\",{children:taao.dakidNo}),/*#__PURE__*/_jsx(\"td\",{children:taao.cdaoNo}),/*#__PURE__*/_jsx(\"td\",{children:taao.billType}),/*#__PURE__*/_jsx(\"td\",{children:taao.amountClaimed}),/*#__PURE__*/_jsx(\"td\",{children:taao.oldestDate}),/*#__PURE__*/_jsx(\"td\",{children:taao.reason})]},taao.dakidNo);}),/*#__PURE__*/_jsx(\"tbody\",{children:aaoData.length===0&&/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsxs(\"td\",{colspan:\"7\",align:\"center\",children:[\"No Details for AAO Avaialble\",\" \"]})})})]}),/*#__PURE__*/_jsx(\"br\",{})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h1\",{class:\"text-blue-600\",align:\"center\",children:\"Breakup Details----SAO/AO\"}),/*#__PURE__*/_jsxs(\"table\",{className:\"table table-striped table-bordered\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Sl No\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Dak Id\"}),/*#__PURE__*/_jsx(\"th\",{children:\"CDAO No\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Bill Type\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Amount\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Oldest Date\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Reason\"})]})}),aoData&&aoData.map(function(tao,index){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:index+1}),/*#__PURE__*/_jsx(\"td\",{children:tao.dakidNo}),/*#__PURE__*/_jsx(\"td\",{children:tao.cdaoNo}),/*#__PURE__*/_jsx(\"td\",{children:tao.billType}),/*#__PURE__*/_jsx(\"td\",{children:tao.amountClaimed}),/*#__PURE__*/_jsx(\"td\",{children:tao.oldestDate}),/*#__PURE__*/_jsx(\"td\",{children:tao.reason})]},tao.dakidNo);}),/*#__PURE__*/_jsx(\"tbody\",{children:aoData.length===0&&/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsxs(\"td\",{colspan:\"7\",align:\"center\",children:[\"No Details for AO Avaialble\",\" \"]})})})]}),/*#__PURE__*/_jsx(\"br\",{})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h1\",{class:\"text-blue-600\",align:\"center\",children:\"Breakup Details----Approved but pending CMP Generation\"}),/*#__PURE__*/_jsxs(\"table\",{className:\"table table-striped table-bordered\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Sl No\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Dak Id\"}),/*#__PURE__*/_jsx(\"th\",{children:\"CDAO No\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Bill Type\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Amount\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Oldest Date\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Reason\"})]})}),approvedData&&approvedData.map(function(tao,index){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:index+1}),/*#__PURE__*/_jsx(\"td\",{children:tao.dakidNo}),/*#__PURE__*/_jsx(\"td\",{children:tao.cdaoNo}),/*#__PURE__*/_jsx(\"td\",{children:tao.billType}),/*#__PURE__*/_jsx(\"td\",{children:tao.amountClaimed}),/*#__PURE__*/_jsx(\"td\",{children:tao.oldestDate}),/*#__PURE__*/_jsx(\"td\",{children:tao.reason})]},tao.dakidNo);})]}),/*#__PURE__*/_jsx(\"br\",{})]})]})})})})]});};export default withRouter(DailyProgressReport);","map":{"version":3,"sources":["/home/itsdcsec/falconws/falcon_face/src/components/DailyProgressReport.js"],"names":["useState","useEffect","useMemo","withRouter","useParams","useHistory","Link","useForm","axios","Table","SelectColumnFilter","yup","yupResolver","LiveSearch","DatePicker","addDays","Tabs","Tab","schema","object","DailyProgressReport","resolver","register","handleSubmit","setValue","errors","formState","clearErrors","id","history","data","setData","serverErrors","setServerErrors","entity","setEntity","state","setState","Date","fromDate","setFromDate","toDate","setToDate","fromDateStr","setFromDateStr","toDateStr","setToDateStr","formErrors","setFormErrors","loading","setLoading","mesg","setMesg","task","setTask","sectionname","setSectionname","key","setKey","audData","setAudData","aaoData","setAaoData","aoData","setAoData","approvedData","setApprovedData","generateDpr","saving","fetchData","get","then","response","console","log","catch","error","Error","breakUp","record","handleInputFromDateChange","e","target","value","handleInputToDateChange","onError","errorCallback","err","handleInputChange","ShowDpr","columns","Header","accessor","Cell","row","original","closingBalance","rejPercentage","ShowBreakupAud","date","dateMDY","getDate","getMonth","getFullYear","ShowBreakupAao","ShowBreakupAo","map","taud","index","dakidNo","cdaoNo","billType","amountClaimed","oldestDate","reason","length","taao","tao"],"mappings":"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","sourcesContent":["/**\n * Code generated using Python\n * @author Raja Reddy\n * Date : 17 Oct 2021\n *\n * Modified By :\n */\n\nimport { useState, useEffect, useMemo } from \"react\";\nimport { withRouter, useParams, useHistory, Link } from \"react-router-dom\";\nimport { useForm } from \"react-hook-form\";\nimport axios from \"axios\";\nimport Table, { SelectColumnFilter } from \"../utils/Table\"; //\n\nimport * as yup from \"yup\";\n\nimport { yupResolver } from \"@hookform/resolvers/yup\";\nimport LiveSearch from \"../utils/LiveSearch\";\n\nimport DatePicker from \"react-datepicker\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport addDays from \"date-fns/addDays\";\n\nimport Tabs from \"react-bootstrap/Tabs\";\nimport Tab from \"react-bootstrap/Tab\";\n\nconst schema = yup.object({});\n\nconst DailyProgressReport = () => {\n  const {\n    register,\n    handleSubmit,\n    setValue,\n    formState: { errors },\n    clearErrors,\n  } = useForm({\n    resolver: yupResolver(schema),\n  });\n\n  let { id } = useParams();\n  //console.log(id);\n\n  let history = useHistory();\n\n  const [data, setData] = useState([]);\n  const [serverErrors, setServerErrors] = useState([]);\n  const [entity, setEntity] = useState({});\n  const [state, setState] = useState({});\n\n  const [fromDate, setFromDate] = useState(new Date());\n  const [toDate, setToDate] = useState(new Date());\n  const [fromDateStr, setFromDateStr] = useState(\"\");\n  const [toDateStr, setToDateStr] = useState(\"\");\n  const [formErrors, setFormErrors] = useState({});\n\n  const [loading, setLoading] = useState(true);\n  const [mesg, setMesg] = useState();\n  const [task, setTask] = useState(\"\");\n  const [sectionname, setSectionname] = useState(\"\");\n\n  const [key, setKey] = useState(\"Page1\");\n  const [audData, setAudData] = useState([]);\n  const [aaoData, setAaoData] = useState([]);\n  const [aoData, setAoData] = useState([]);\n  const [approvedData, setApprovedData] = useState([]);\n\n  const generateDpr = () => {\n    let saving = false;\n\n    async function fetchData() {\n      if (!saving)\n        //console.log(secId);\n        await axios\n          .get(`/reports/${fromDateStr}/${toDateStr}/dpr`)\n          .then((response) => {\n            console.log(\"response>>\" + response.data);\n            //setSh3List(response.data);\n            setData(response.data);\n            console.log(\"---Task No>>\" + data[1].task);\n            setTask(data[3].task);\n            console.log(\"---Section No>>\" + data[1].sectionname);\n            setSectionname(data[1].sectionname);\n          })\n          .catch((error) => {\n            //console.log(error);\n            //console.log(error.response.status);\n            //console.log(error.response.headers);\n            if (error.response) setServerErrors(error.response.data.error);\n            else setServerErrors(error.Error);\n          });\n    }\n    fetchData();\n\n    return () => {\n      saving = true;\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  };\n\n  async function breakUp(task, sectionname, fromDateStr, toDateStr) {\n    let record = \"\";\n\n    console.log(\">>>>>>>>:\" + task);\n    console.log(\">>>Section Name--:\" + sectionname);\n    await axios\n      .get(\n        `/reports/${task}/${sectionname}/${fromDateStr}/${toDateStr}/dprBreakup`\n      )\n      .then((response) => {\n        console.log(\"response>>\" + response.data[1]);\n\n        if (response.data[0]) {\n          console.log(\">>>>>aud Data--:\" + response.data[0]);\n          setAudData(response.data[0]);\n        }\n        if (response.data[1]) {\n          console.log(\">>>>>aao Data--:\" + response.data[1]);\n          setAaoData(response.data[1]);\n        }\n        if (response.data[2]) {\n          setAoData(response.data[2]);\n        }\n        if (response.data[3]) {\n          setApprovedData(response.data[3]);\n        }\n      })\n      .catch((error) => {\n        //console.log(error);\n        //console.log(error.response.status);\n        //console.log(error.response.headers);\n        if (error.response) setServerErrors(error.response.data.error);\n        else setServerErrors(error.Error);\n      });\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }\n\n  const handleInputFromDateChange = (e) => {\n    console.log(e.target.value);\n    //setFromDate(e.target.value);\n    // validateFromDate(e.target.value);\n    setFromDateStr(e.target.value);\n  };\n\n  const handleInputToDateChange = (e) => {\n    console.log(e.target.value);\n    //setToDate(e.target.value);\n    // validateToDate(e.target.value);\n\n    setToDateStr(e.target.value);\n  };\n\n  const onError = (errors, e) => console.log(errors, e);\n\n  //All foreign keys.\n  // XXXXXX Add search fields and adjust the values as necessary\n\n  const errorCallback = (err) => {\n    //console.log(err);\n    setServerErrors(err);\n  };\n\n  const handleInputChange = (e) => {\n    console.log(e.target.value);\n    //\tconsole.log(\"handle input change\");\n  };\n\n  const ShowDpr = () => {\n    const columns = useMemo(\n      () => [\n        {\n          Header: \"Section\",\n          accessor: \"sectionname\",\n        },\n        {\n          Header: \"Task\",\n          accessor: \"task\",\n        },\n        {\n          Header: \"Usr\",\n          accessor: \"usrName\",\n        },\n        {\n          Header: \"Opening Balance\",\n          accessor: \"openingBalance\",\n        },\n\n        {\n          Header: \"Receipts\",\n          accessor: \"receipts\",\n        },\n\n        {\n          Header: \"Disposal\",\n          accessor: \"disposal\",\n        },\n        {\n          Header: \"Closing Balance\",\n          accessor: \"closingBalance\",\n          Cell: ({ row }) => (\n            <div>\n              <a\n                href=\"#\"\n                className=\"w-32 m-0 p-0 bg-green-500 hover:bg-green-700 \"\n                onClick={() =>\n                  breakUp(\n                    row.original.task,\n                    row.original.sectionname,\n                    fromDateStr,\n                    toDateStr\n                  )\n                }\n              >\n                {\" \"}\n                {row.original.closingBalance}{\" \"}\n              </a>\n            </div>\n          ),\n        },\n\n        {\n          Header: \"Rejection Count\",\n          accessor: \"rejectionCount\",\n        }, \n\n        {\n          Header: \"Rejection Percentage\",\n          accessor: \"rejPercentage\",\n          Cell: ({row}) => (\n            <div className=\"w-11 m-0 p-0 bg-red-200 \">\n              \n              {row.original.rejPercentage}\n            </div>\n          )\n        },\n\n        {\n          Header: \"Oldest Date\",\n          accessor: \"oldestDate\",\n        },\n      ],\n      [data]\n    );\n\n    return (\n      <div className=\"min-h-full bg-gray-100 text-gray-900\">\n        <main className=\"max-w-8xl mx-auto px-4 sm:px-6 lg:px-8 pt-4\">\n          <div className=\" \">\n            <h1 className=\"text-xl font-semibold ml-4\">\n              Daily Progress Report\n            </h1>\n          </div>\n          <div className=\"-mt-2 max-h-full py-0 ml-0\">\n            <Table\n              columns={columns}\n              data={data}\n              page={50}\n              className=\"table-auto\"\n            />\n          </div>\n        </main>\n      </div>\n    );\n  };\n  const ShowBreakupAud = () => {\n    let date = new Date(\"createdAt\");\n    let dateMDY = `${date.getDate()}-${\n      date.getMonth() + 1\n    }-${date.getFullYear()}`;\n\n    const columns = useMemo(\n      () => [\n        {\n          Header: \"Dak Id\",\n          accessor: \"dak.dakidNo\",\n        },\n        {\n          Header: \"CDAo_No\",\n          accessor: \"cdaoNo\",\n        },\n        {\n          Header: \"Bill Type\",\n          accessor: \"billType.description\",\n        },\n        {\n          Header: \"Amount\",\n          accessor: \"amountClaimed\",\n        },\n\n        {\n          Header: \"Oldest Date\",\n          accessor: \"createdAt\",\n        },\n\n        {\n          Header: \"Reason\",\n          accessor: \"reason\",\n        },\n      ],\n      [audData]\n    );\n\n    return (\n      <div className=\"min-h-full bg-gray-100 text-gray-900\">\n        <main className=\"max-w-8xl mx-auto px-4 sm:px-6 lg:px-8 pt-4\">\n          <div className=\" \">\n            <h1 className=\"text-xl font-semibold ml-4\">\n              Breakup Details of Auditor\n            </h1>\n          </div>\n          <div className=\"-mt-2 max-h-full py-0 ml-0\">\n            <Table\n              columns={columns}\n              data={audData}\n              page={50}\n              className=\"table-auto\"\n            />\n          </div>\n        </main>\n      </div>\n    );\n  };\n\n  const ShowBreakupAao = () => {\n    let date = new Date(\"createdAt\");\n    let dateMDY = `${date.getDate()}-${\n      date.getMonth() + 1\n    }-${date.getFullYear()}`;\n\n    const columns = useMemo(\n      () => [\n        {\n          Header: \"Dak Id\",\n          accessor: \"dak.dakidNo\",\n        },\n        {\n          Header: \"CDAo_No\",\n          accessor: \"cdaoNo\",\n        },\n        {\n          Header: \"Bill Type\",\n          accessor: \"billType.description\",\n        },\n        {\n          Header: \"Amount\",\n          accessor: \"amountClaimed\",\n        },\n\n        {\n          Header: \"Oldest Date\",\n          accessor: \"createdAt\",\n        },\n\n        {\n          Header: \"Reason\",\n          accessor: \"reason\",\n        },\n      ],\n      [aaoData]\n    );\n\n    return (\n      <div className=\"min-h-full bg-gray-100 text-gray-900\">\n        <main className=\"max-w-8xl mx-auto px-4 sm:px-6 lg:px-8 pt-4\">\n          <div className=\" \">\n            <h1 className=\"text-xl font-semibold ml-4\">\n              Breakup Details of AAO\n            </h1>\n          </div>\n          <div className=\"-mt-2 max-h-full py-0 ml-0\">\n            <Table\n              columns={columns}\n              data={aaoData}\n              page={50}\n              className=\"table-auto\"\n            />\n          </div>\n        </main>\n      </div>\n    );\n  };\n  const ShowBreakupAo = () => {\n    let date = new Date(\"createdAt\");\n    let dateMDY = `${date.getDate()}-${\n      date.getMonth() + 1\n    }-${date.getFullYear()}`;\n\n    const columns = useMemo(\n      () => [\n        {\n          Header: \"Dak Id\",\n          accessor: \"dak.dakidNo\",\n        },\n        {\n          Header: \"CDAo_No\",\n          accessor: \"cdaoNo\",\n        },\n        {\n          Header: \"Bill Type\",\n          accessor: \"billType.description\",\n        },\n        {\n          Header: \"Amount\",\n          accessor: \"amountClaimed\",\n        },\n\n        {\n          Header: \"Oldest Date\",\n          accessor: \"createdAt\",\n        },\n\n        {\n          Header: \"Reason\",\n          accessor: \"reason\",\n        },\n      ],\n      [aoData]\n    );\n\n    return (\n      <div className=\"min-h-full bg-gray-100 text-gray-900\">\n        <main className=\"max-w-8xl mx-auto px-4 sm:px-6 lg:px-8 pt-4\">\n          <div className=\" \">\n            <h1 className=\"text-xl font-semibold ml-4\">\n              Breakup Details of AO\n            </h1>\n          </div>\n          <div className=\"-mt-2 max-h-full py-0 ml-0\">\n            <Table\n              columns={columns}\n              data={aoData}\n              page={50}\n              className=\"table-auto\"\n            />\n          </div>\n        </main>\n      </div>\n    );\n  };\n\n  return (\n    <div className=\"min-h-full bg-gray-100 text-gray-900\">\n      <main className=\"max-w-xl mx-auto px-4 sm:px-6 lg:px-8 pt-4\">\n        <div className=\" \">\n          <h1 className=\"text-xl font-semibold ml-4\">\n            Select From Date--- To Date For Daily Progress Report\n          </h1>\n\n          <div>\n            <input\n              type=\"date\"\n              name=\"FromDate\"\n              placeholder=\"dd-mm-yyyy\"\n              onChange={(e) => handleInputFromDateChange(e)}\n              className=\"form-control py-0\"\n            />\n          </div>\n\n          <div>\n            <input\n              type=\"date\"\n              name=\"ToDate\"\n              placeholder=\"dd-mm-yyyy\"\n              onChange={(e) => handleInputToDateChange(e)}\n              className=\"form-control py-0\"\n            />\n          </div>\n\n          <div className=\"pl-1 -ml-2 inputField flex-initial\" />\n          <button type=\"submit\" onClick={generateDpr} className=\"w-32 m-0 p-0\">\n            Generate DPR\n          </button>\n        </div>\n      </main>\n\n      <main className=\"max-w-8xl mx-auto px-4 sm:px-6 lg:px-8 pt-4\">\n        <div className=\"flex-container\">\n          <ShowDpr />\n        </div>\n      </main>\n\n      <main>\n        <div className=\"min-h-full bg-gray-100 text-gray-900\">\n          <div className=\"max-w-10xl mx-auto px-4 sm:px-6 lg:px-8 pt-4\">\n            <form>\n              <div className=\"container\">\n                <h1 class=\"text-blue-600\" align=\"center\">\n                  Breakup Details----Auditor\n                </h1>\n                <table className=\"table table-striped table-bordered\">\n                  <thead>\n                    <tr>\n                      <th>Sl No</th>\n                      <th>Dak Id</th>\n                      <th>CDAO No</th>\n                      <th>Bill Type</th>\n                      <th>Amount</th>\n                      <th>Oldest Date</th>\n                      <th>Reason</th>\n                    </tr>\n                  </thead>\n                  {audData &&\n                    audData.map((taud, index) => (\n                      <tr key={taud.dakidNo}>\n                        <td>{index + 1}</td>\n                        <td>{taud.dakidNo}</td>\n                        <td>{taud.cdaoNo}</td>\n\n                        <td>{taud.billType}</td>\n\n                        <td>{taud.amountClaimed}</td>\n                        <td>{taud.oldestDate}</td>\n                        <td>{taud.reason}</td>\n                      </tr>\n                    ))}\n\n                  <tbody>\n                    {audData.length === 0 && (\n                      <tr>\n                        <td colspan=\"7\" align=\"center\">\n                          No Details for Auditor Avaialble{\" \"}\n                        </td>\n                      </tr>\n                    )}\n                  </tbody>\n                </table>\n                <br />\n              </div>\n\n              <div className=\"container\">\n                <h1 class=\"text-blue-600\" align=\"center\">\n                  Breakup Details----AAO\n                </h1>\n                <table className=\"table table-striped table-bordered\">\n                  <thead>\n                    <tr>\n                      <th>Sl No</th>\n                      <th>Dak Id</th>\n                      <th>CDAO No</th>\n                      <th>Bill Type</th>\n                      <th>Amount</th>\n                      <th>Oldest Date</th>\n                      <th>Reason</th>\n                    </tr>\n                  </thead>\n                  {aaoData &&\n                    aaoData.map((taao, index) => (\n                      <tr key={taao.dakidNo}>\n                        <td>{index + 1}</td>\n                        <td>{taao.dakidNo}</td>\n                        <td>{taao.cdaoNo}</td>\n                        <td>{taao.billType}</td>\n                        <td>{taao.amountClaimed}</td>\n                        <td>{taao.oldestDate}</td>\n                        <td>{taao.reason}</td>\n                      </tr>\n                    ))}\n\n                  <tbody>\n                    {aaoData.length === 0 && (\n                      <tr>\n                        <td colspan=\"7\" align=\"center\">\n                          No Details for AAO Avaialble{\" \"}\n                        </td>\n                      </tr>\n                    )}\n                  </tbody>\n                </table>\n                <br />\n              </div>\n\n              <div className=\"container\">\n                <h1 class=\"text-blue-600\" align=\"center\">\n                  Breakup Details----SAO/AO\n                </h1>\n                <table className=\"table table-striped table-bordered\">\n                  <thead>\n                    <tr>\n                      <th>Sl No</th>\n                      <th>Dak Id</th>\n                      <th>CDAO No</th>\n                      <th>Bill Type</th>\n                      <th>Amount</th>\n                      <th>Oldest Date</th>\n                      <th>Reason</th>\n                    </tr>\n                  </thead>\n                  {aoData &&\n                    aoData.map((tao, index) => (\n                      <tr key={tao.dakidNo}>\n                        <td>{index + 1}</td>\n                        <td>{tao.dakidNo}</td>\n                        <td>{tao.cdaoNo}</td>\n                        <td>{tao.billType}</td>\n                        <td>{tao.amountClaimed}</td>\n                        <td>{tao.oldestDate}</td>\n                        <td>{tao.reason}</td>\n                      </tr>\n                    ))}\n\n                  <tbody>\n                    {aoData.length === 0 && (\n                      <tr>\n                        <td colspan=\"7\" align=\"center\">\n                          No Details for AO Avaialble{\" \"}\n                        </td>\n                      </tr>\n                    )}\n                  </tbody>\n                </table>\n                <br />\n              </div>\n\n              <div className=\"container\">\n                <h1 class=\"text-blue-600\" align=\"center\">\n                  Breakup Details----Approved but pending CMP Generation\n                </h1>\n                <table className=\"table table-striped table-bordered\">\n                  <thead>\n                    <tr>\n                      <th>Sl No</th>\n                      <th>Dak Id</th>\n                      <th>CDAO No</th>\n                      <th>Bill Type</th>\n                      <th>Amount</th>\n                      <th>Oldest Date</th>\n                      <th>Reason</th>\n                    </tr>\n                  </thead>\n                  {approvedData &&\n                    approvedData.map((tao, index) => (\n                      <tr key={tao.dakidNo}>\n                        <td>{index + 1}</td>\n                        <td>{tao.dakidNo}</td>\n                        <td>{tao.cdaoNo}</td>\n                        <td>{tao.billType}</td>\n                        <td>{tao.amountClaimed}</td>\n                        <td>{tao.oldestDate}</td>\n                        <td>{tao.reason}</td>\n                      </tr>\n                    ))}\n                </table>\n                <br />\n              </div>\n            </form>\n          </div>\n        </div>\n      </main>\n    </div>\n  );\n};\n\nexport default withRouter(DailyProgressReport);\n"]},"metadata":{},"sourceType":"module"}