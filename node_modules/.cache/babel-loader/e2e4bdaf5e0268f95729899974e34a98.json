{"ast":null,"code":"var _jsxFileName = \"/home/itsdcsec/falconws/falcon_face/src/components/FamaEdit.js\";\n\n/**\n * Code generated using Python\n * @author Raja Reddy\n * Date : 17 Oct 2021\n *\n * Modified By : \n */\nimport { useState, useEffect } from \"react\";\nimport { withRouter, useParams, useHistory, useLocation } from \"react-router-dom\";\nimport { useForm } from \"react-hook-form\";\nimport axios from 'axios';\nimport * as yup from \"yup\";\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport LiveSearch from '../utils/LiveSearch'; //import DatePicker  from 'react-datepicker';\n//import \"react-datepicker/dist/react-datepicker.css\";\n//import addDays from 'date-fns/addDays'\n\nimport Tabs from 'react-bootstrap/Tabs';\nimport Tab from 'react-bootstrap/Tab';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst schema = yup.object({// bankName: yup.string().required('Required'),\n  /// bankBranch: yup.string().required('Required'),\n  //  bankStation: yup.string().required('Required'),\n  // ifsc: yup.string().required('Required'),\n});\n\nconst FamaEdit = () => {\n  var _errors$benname, _errors$employee, _errors$beneficiaryNa, _errors$address, _errors$fromdate, _errors$todate, _errors$bankclear, _errors$bankStation, _errors$ifsc;\n\n  const {\n    register,\n    handleSubmit,\n    setValue,\n    formState: {\n      errors\n    },\n    clearErrors\n  } = useForm({\n    resolver: yupResolver(schema)\n  });\n  let {\n    id\n  } = useParams();\n  let history = useHistory();\n  const [serverErrors, setServerErrors] = useState([]);\n  const [entity, setEntity] = useState({});\n  const [state, setState] = useState({});\n  const [key, setKey] = useState('page1');\n  const [dakidNo, setDakidNo] = useState('');\n  const [empName, setEmpName] = useState('');\n  const [action, setAction] = useState('');\n  const [read, setRead] = useState(false);\n  const [noEdit, setNoEdit] = useState(false);\n  const [transType, setTransType] = useState('');\n  const [amountRead, setAmountRead] = useState(false);\n  const [fdateRead, setFdateRead] = useState(false);\n  const [tdateRead, setTdateRead] = useState(false);\n  useEffect(() => {\n    let isCancelled = false;\n    console.log(id);\n\n    if (id !== 'new') {\n      async function fetchData() {\n        let record = '';\n        await axios.get('/famas/' + id).then(response => {\n          record = response.data;\n          const fields = ['id', 'dakid', 'empname', 'cdaono', ',checkdigit', 'amount', 'benname', 'address', 'relname', 'bankclear', 'ifsc', 'fromdate', 'todate', 'status', 'approved', 'reason', 'task', 'action', 'transType'];\n          fields.forEach(field => setValue(field, record[field]));\n        }).catch(error => {\n          //console.log(error);\n          //console.log(error.response.status);\n          //console.log(error.response.headers);\n          if (error.response) setServerErrors(error.response.data.error);else setServerErrors(error.Error);\n        });\n        console.log(record['dakid']);\n        if (record['dakid']) setDakidNo(record['dakid']);\n        if (record['empname']) setEmpName(record['empname']);\n\n        if (record['transType'] && record['transType'] === 'CNG' && record['action'] && record['action'] === 'change') {\n          setTransType(record['transType']);\n          setRead(true);\n          setNoEdit(true);\n        }\n\n        if (record['action']) {\n          if (record['action'] === 'submit' || record['action'] === 'approve') {\n            setRead(true);\n            setAmountRead(true);\n            setFdateRead(true);\n            setTdateRead(true);\n          }\n\n          setAction(record['action']);\n        }\n\n        if (!isCancelled) {\n          setEntity(record);\n          setState(prev => ({ ...prev,\n            state: record\n          }));\n        }\n      }\n\n      fetchData();\n      return () => {\n        isCancelled = true;\n      };\n    }\n  }, [id, setValue]);\n\n  async function submitFama(id) {\n    await axios.put(`/famas/submit/${id}`).then(response => {\n      console.log(response.data);\n      if (response.data && response.data.reason) setServerErrors(response.data.reason); //  console.log(response.data);\n    }).catch(error => {\n      console.log(error); //console.log(error.response.status);\n      //console.log(error.response.headers);\n      // if (error.response) setServerErrors(error.response.data.error);\n      //else setServerErrors(error.Error);\n    });\n  }\n\n  async function approveFama(id) {\n    await axios.put(`/famas/approve/${id}`).then(response => {\n      console.log(response.data);\n      if (response.data && response.data.reason) setServerErrors(response.data.reason); //  console.log(response.data);\n    }).catch(error => {\n      console.log(error); //console.log(error.response.status);\n      //console.log(error.response.headers);\n      // if (error.response) setServerErrors(error.response.data.error);\n      //else setServerErrors(error.Error);\n    });\n  }\n\n  const onSubmit = (data, event) => {\n    event.preventDefault();\n    console.log(data);\n\n    if (data.id) {\n      axios.put(\"/famas/\" + data.id, data).then(response => {\n        if (response.status === 200) {\n          console.log(response.data.reason);\n\n          if (response.data && response.data.reason) {\n            setServerErrors(response.data.reason);\n          } //history.push(\"/famas\");\n\n        }\n      }).catch(error => {\n        //console.log(error.response.data);\n        console.log(error.response.status); //console.log(error.response.headers);\n\n        setServerErrors(error.response.data);\n      });\n    } else {\n      axios.post(\"/famas\", data).then(response => {\n        console.log(response.data);\n        if (response.status === 200) history.push({\n          pathname: '/famas',\n          state: response.data\n        });\n      }).catch(error => {\n        //console.log(error.response.data);\n        console.log(error.response.status); //console.log(error.response.headers);\n\n        setServerErrors(error.response.data);\n      });\n    }\n  };\n\n  const onError = (errors, e) => console.log(errors, e); //All foreign keys. \n  // XXXXXX Add search fields and adjust the values as necessary\n\n\n  const parentData = {\n    employee: {\n      title: \"Officer\",\n      url: \"employees\",\n      searchList: ['id'],\n      //XXXXXXXXX Add search fields here and also in the corresponding repository\n      fkEntity: \"employee\"\n    },\n    relation: {\n      title: \"Relation\",\n      url: \"relations\",\n      searchList: ['relationName'],\n      //XXXXXXXXX Add search fields\n      fkEntity: \"relation\",\n      preload: false //XXXXXX Set this to true for small tables like designations\n\n    }\n  }; //Callback for child components (Foreign Keys)\n\n  const callback = childData => {\n    //console.log(\"Parent Callback\");\n    setEntity(prev => ({ ...prev,\n      [childData.fk]: childData.entity\n    }));\n    setValue(childData.fk, childData.entity); //console.log(errors);\n\n    if (childData.fk === 'relation') {\n      console.log(childData.entity.relationName);\n      setValue(\"relname\", childData.entity.relationName);\n    }\n\n    clearErrors(childData.fk);\n  };\n\n  const errorCallback = err => {\n    //console.log(err);\n    setServerErrors(err);\n  };\n\n  const handleInputChange = e => {//console.log(e.target.value);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-xl mx-auto \",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full w-3/4  mx-auto \",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit(onSubmit, onError),\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: [id === 'new' ? 'Add' : 'Edit', \" Bank \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-red-500\",\n          children: serverErrors\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-2 gap-0\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"DakId\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 254,\n              columnNumber: 8\n            }, this), \" \", dakidNo]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 253,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Officer Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 257,\n              columnNumber: 8\n            }, this), \" \", empName]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 256,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Beneficiary Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 261,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"banname\",\n              ...register(\"benname\"),\n              className: \"form-control py-0\",\n              readOnly: read\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 262,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-red-500\",\n              children: (_errors$benname = errors.benname) === null || _errors$benname === void 0 ? void 0 : _errors$benname.message\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 265,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(LiveSearch, {\n              name: \"relation\",\n              onChange: handleInputChange,\n              parentData: parentData.relation,\n              parentCallback: callback,\n              fkEntity: entity.relation,\n              errCallback: errorCallback\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 268,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-red-500 \",\n              children: (_errors$employee = errors.employee) === null || _errors$employee === void 0 ? void 0 : _errors$employee.message\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 271,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Amount\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 274,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"amount\",\n              ...register(\"amount\"),\n              className: \"form-control py-0\",\n              readOnly: amountRead\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 275,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-red-500\",\n              children: (_errors$beneficiaryNa = errors.beneficiaryName) === null || _errors$beneficiaryNa === void 0 ? void 0 : _errors$beneficiaryNa.message\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 278,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 273,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Address\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 283,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"address\",\n              ...register(\"address\"),\n              className: \"form-control py-0\",\n              readOnly: read\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 284,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-red-500\",\n              children: (_errors$address = errors.address) === null || _errors$address === void 0 ? void 0 : _errors$address.message\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 287,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 282,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"From Date\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 290,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"date\",\n              name: \"fromdate\",\n              ...register(\"fromdate\"),\n              readOnly: fdateRead\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 291,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-red-500\",\n              children: (_errors$fromdate = errors.fromdate) === null || _errors$fromdate === void 0 ? void 0 : _errors$fromdate.message\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 296,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 289,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"To Date\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 300,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"date\",\n              name: \"todate\",\n              ...register(\"todate\"),\n              readOnly: tdateRead\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 301,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-red-500\",\n              children: (_errors$todate = errors.todate) === null || _errors$todate === void 0 ? void 0 : _errors$todate.message\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 306,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 299,\n            columnNumber: 1\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Bank Account\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 310,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"bankclear\",\n              ...register(\"bankclear\"),\n              className: \"form-control py-0\",\n              readOnly: read\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 311,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-red-500\",\n              children: (_errors$bankclear = errors.bankclear) === null || _errors$bankclear === void 0 ? void 0 : _errors$bankclear.message\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 314,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 309,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Bank Station\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 318,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"bankStation\",\n              ...register(\"bankStation\"),\n              className: \"form-control py-0\",\n              readOnly: read\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 319,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-red-500\",\n              children: (_errors$bankStation = errors.bankStation) === null || _errors$bankStation === void 0 ? void 0 : _errors$bankStation.message\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 322,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 317,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Ifsc\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 326,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"ifsc\",\n              ...register(\"ifsc\"),\n              className: \"form-control py-0\",\n              readOnly: read\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 327,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-red-500\",\n              children: (_errors$ifsc = errors.ifsc) === null || _errors$ifsc === void 0 ? void 0 : _errors$ifsc.message\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 330,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 325,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"px-8\",\n          children: [action && action === 'edit' && /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            children: \"Save\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 338,\n            columnNumber: 7\n          }, this), action && action === 'submit' && /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: () => submitFama(id),\n            children: \"Submit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 342,\n            columnNumber: 7\n          }, this), action && action === 'approve' && /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: () => approveFama(id),\n            children: \"Approve\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 346,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 335,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 4\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 243,\n    columnNumber: 3\n  }, this);\n};\n\nexport default withRouter(FamaEdit);","map":{"version":3,"sources":["/home/itsdcsec/falconws/falcon_face/src/components/FamaEdit.js"],"names":["useState","useEffect","withRouter","useParams","useHistory","useLocation","useForm","axios","yup","yupResolver","LiveSearch","Tabs","Tab","schema","object","FamaEdit","register","handleSubmit","setValue","formState","errors","clearErrors","resolver","id","history","serverErrors","setServerErrors","entity","setEntity","state","setState","key","setKey","dakidNo","setDakidNo","empName","setEmpName","action","setAction","read","setRead","noEdit","setNoEdit","transType","setTransType","amountRead","setAmountRead","fdateRead","setFdateRead","tdateRead","setTdateRead","isCancelled","console","log","fetchData","record","get","then","response","data","fields","forEach","field","catch","error","Error","prev","submitFama","put","reason","approveFama","onSubmit","event","preventDefault","status","post","push","pathname","onError","e","parentData","employee","title","url","searchList","fkEntity","relation","preload","callback","childData","fk","relationName","errorCallback","err","handleInputChange","benname","message","beneficiaryName","address","fromdate","todate","bankclear","bankStation","ifsc"],"mappings":"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","sourcesContent":["/**\n * Code generated using Python\n * @author Raja Reddy\n * Date : 17 Oct 2021\n *\n * Modified By : \n */\n\nimport { useState, useEffect } from \"react\";\nimport { withRouter, useParams, useHistory, useLocation } from \"react-router-dom\";\nimport { useForm } from \"react-hook-form\";\nimport axios from 'axios';\nimport * as yup from \"yup\";\n\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport LiveSearch from '../utils/LiveSearch';\n\n//import DatePicker  from 'react-datepicker';\n//import \"react-datepicker/dist/react-datepicker.css\";\n//import addDays from 'date-fns/addDays'\n\nimport Tabs from 'react-bootstrap/Tabs'\nimport Tab from 'react-bootstrap/Tab'\n\nconst schema = yup.object({\n\n\t// bankName: yup.string().required('Required'),\n\t/// bankBranch: yup.string().required('Required'),\n\t//  bankStation: yup.string().required('Required'),\n\n\t// ifsc: yup.string().required('Required'),\n\n});\n\n\nconst FamaEdit = () => {\n\tconst { register, handleSubmit, setValue, formState: { errors }, clearErrors } = useForm({\n\t\tresolver: yupResolver(schema)\n\t});\n\n\tlet { id } = useParams();\n\n\tlet history = useHistory();\n\tconst [serverErrors, setServerErrors] = useState([]);\n\tconst [entity, setEntity] = useState({});\n\tconst [state, setState] = useState({});\n\tconst [key, setKey] = useState('page1');\n\tconst [dakidNo, setDakidNo] = useState('');\n\tconst [empName, setEmpName] = useState('');\n\tconst [action,setAction]=useState('');\n\tconst [read,setRead]=useState(false);\n\tconst [noEdit,setNoEdit]=useState(false);\n\tconst [transType,setTransType]=useState('');\n\tconst [amountRead,setAmountRead]=useState(false);\n\tconst [fdateRead,setFdateRead]=useState(false);\n\tconst [tdateRead,setTdateRead]=useState(false);\n\n\n\tuseEffect(() => {\n\t\tlet isCancelled = false;\n\t\tconsole.log(id);\n\t\tif (id !== 'new') {\n\t\t\tasync function fetchData() {\n\t\t\t\tlet record = '';\n\t\t\t\tawait axios.get('/famas/' + id)\n\t\t\t\t\t.then((response) => {\n\t\t\t\t\t\trecord = response.data;\n\t\t\t\t\t\tconst fields = [\n\t\t\t\t\t\t\t'id'\n\t\t\t\t\t\t\t, 'dakid', 'empname', 'cdaono', ',checkdigit',  'amount', 'benname', 'address', 'relname', 'bankclear', 'ifsc', 'fromdate', 'todate','status',\n\t\t\t\t\t\t\t'approved', 'reason', 'task','action','transType'\n\t\t\t\t\t\t];\n\t\t\t\t\t\tfields.forEach(field => setValue(field, record[field]));\n\t\t\t\t\t})\n\t\t\t\t\t.catch((error) => {\n\t\t\t\t\t\t//console.log(error);\n\t\t\t\t\t\t//console.log(error.response.status);\n\t\t\t\t\t\t//console.log(error.response.headers);\n\t\t\t\t\t\tif (error.response)\n\t\t\t\t\t\t\tsetServerErrors(error.response.data.error);\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tsetServerErrors(error.Error);\n\t\t\t\t\t});\n\t\t\tconsole.log(record['dakid']);\n\t\t\t\tif (record['dakid'])\n\t\t\t\t\tsetDakidNo(record['dakid']);\n\t\t\t\tif (record['empname'])\n\t\t\t\t\tsetEmpName(record['empname']);\n\t\t\t\tif(record['transType'] && record['transType']==='CNG' && record['action'] && record['action']==='change'){\n\t\t\t\t\tsetTransType(record['transType']);\n\t\t\t\t\tsetRead(true);\n \t\t\t\t\tsetNoEdit(true);\n\t\t\t\t\t}\n\t\t\t\tif(record['action']){\n\t\t\t\t\tif((record['action']==='submit') ||(record['action']==='approve')){\n\t\t\t\t\t\tsetRead(true);\n\t\t\t\t\t\tsetAmountRead(true);\n\t\t\t\t\t\tsetFdateRead(true);\n\t\t\t\t\t\tsetTdateRead(true);\n\t\t\t\t\t\t}\n\t\t\t\t\tsetAction(record['action']);\n\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\tif (!isCancelled) {\n\t\t\t\t\tsetEntity(record);\n\t\t\t\t\tsetState(prev => ({ ...prev, state: record }));\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfetchData();\n\t\t\treturn () => {\n\t\t\t\tisCancelled = true;\n\t\t\t};\n\t\t}\n\n\t}, [id, setValue]);\n\n\nasync function submitFama(id) {\n    await axios\n      .put(`/famas/submit/${id}`)\n      .then((response) => {\n        console.log(response.data);\n        if(response.data && response.data.reason)\n        \tsetServerErrors(response.data.reason);\n        \t\n      //  console.log(response.data);\n         \n      })\n      .catch((error) => {\n        console.log(error);\n        //console.log(error.response.status);\n        //console.log(error.response.headers);\n       // if (error.response) setServerErrors(error.response.data.error);\n        \t//else setServerErrors(error.Error);\n      });\n  }\n  \n  async function approveFama(id) {\n    await axios\n      .put(`/famas/approve/${id}`)\n      .then((response) => {\n        console.log(response.data);\n        if(response.data && response.data.reason)\n        \tsetServerErrors(response.data.reason);\n        \t\n      //  console.log(response.data);\n         \n      })\n      .catch((error) => {\n        console.log(error);\n        //console.log(error.response.status);\n        //console.log(error.response.headers);\n       // if (error.response) setServerErrors(error.response.data.error);\n        \t//else setServerErrors(error.Error);\n      });\n  }\n\tconst onSubmit = (data, event) => {\n\t\tevent.preventDefault();\n\t\tconsole.log(data);\n\t\tif (data.id) {\n\t\t\taxios.put(\"/famas/\" + data.id, data)\n\t\t\t\t.then((response) => {\n\t\t\t\t\tif (response.status === 200) {\n\t\t\t\t\t\tconsole.log(response.data.reason);\n\t\t\t\t\t\tif (response.data && response.data.reason) {\n\t\t\t\t\t\t\tsetServerErrors(response.data.reason);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t//history.push(\"/famas\");\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\t//console.log(error.response.data);\n\t\t\t\t\tconsole.log(error.response.status);\n\t\t\t\t\t//console.log(error.response.headers);\n\t\t\t\t\tsetServerErrors(error.response.data)\n\t\t\t\t});\n\t\t} else {\n\t\t\taxios.post(\"/famas\", data)\n\t\t\t\t.then((response) => {\n\t\t\t\t\tconsole.log(response.data);\n\t\t\t\t\tif (response.status === 200)\n\t\t\t\t\t\thistory.push({ pathname: '/famas', state: response.data });\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\n\t\t\t\t\t//console.log(error.response.data);\n\n\t\t\t\t\tconsole.log(error.response.status);\n\t\t\t\t\t//console.log(error.response.headers);\n\t\t\t\t\tsetServerErrors(error.response.data)\n\t\t\t\t});\n\t\t}\n\n\n\t}\n\n\tconst onError = (errors, e) => console.log(errors, e);\n\n\t//All foreign keys. \n\t// XXXXXX Add search fields and adjust the values as necessary\n\tconst parentData = {\n\n\t\temployee: {\n\t\t\ttitle: \"Officer\",\n\t\t\turl: \"employees\",\n\t\t\tsearchList: ['id'], //XXXXXXXXX Add search fields here and also in the corresponding repository\n\t\t\tfkEntity: \"employee\",\n\t\t},\n\t\trelation: {\n\t\t\ttitle: \"Relation\",\n\t\t\turl: \"relations\",\n\t\t\tsearchList: ['relationName'], //XXXXXXXXX Add search fields\n\t\t\tfkEntity: \"relation\",\n\t\t\tpreload: false, //XXXXXX Set this to true for small tables like designations\n\t\t},\n\n\t}\n\n\t//Callback for child components (Foreign Keys)\n\tconst callback = (childData) => {\n\t\t//console.log(\"Parent Callback\");\n\t\tsetEntity(prev => ({ ...prev, [childData.fk]: childData.entity }));\n\t\tsetValue(childData.fk, childData.entity);\n\t\t//console.log(errors);\n\t\tif (childData.fk === 'relation'){\n\t\t\tconsole.log(childData.entity.relationName);\n\t\t\tsetValue(\"relname\",childData.entity.relationName);\n\t\t\t}\n\t\tclearErrors(childData.fk);\n\t};\n\n\tconst errorCallback = (err) => {\n\t\t//console.log(err);\n\t\tsetServerErrors(err);\n\t}\n\n\tconst handleInputChange = (e) => {\n\t\t//console.log(e.target.value);\n\t};\n\n\treturn (\n\t\t<div className=\"max-w-xl mx-auto \">\n\t\t\t<div className=\"w-full w-3/4  mx-auto \" >\n\n\t\t\t\t<form onSubmit={handleSubmit(onSubmit, onError)}>\n\t\t\t\t\t<h1 >{id === 'new' ? 'Add' : 'Edit'} Bank </h1>\n\t\t\t\t\t<div className=\"text-red-500\">{serverErrors}</div>\n\n\n\t\t\t\t\t<div className=\"grid grid-cols-2 gap-0\">\n\n\t\t\t\t\t\t<div >\n\t\t\t\t\t\t\t<label>DakId</label> {dakidNo}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div >\n\t\t\t\t\t\t\t<label>Officer Name</label> {empName}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<label>Beneficiary Name</label>\n\t\t\t\t\t\t\t<input type=\"text\" name=\"banname\" {...register(\"benname\")}\n\t\t\t\t\t\t\t\tclassName=\"form-control py-0\" readOnly={read}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<div className=\"text-red-500\">{errors.benname?.message}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div >\n\t\t\t\t\t\t\t<LiveSearch name=\"relation\" onChange={handleInputChange}\n\t\t\t\t\t\t\t\tparentData={parentData.relation} parentCallback={callback}\n\t\t\t\t\t\t\t\tfkEntity={entity.relation} errCallback={errorCallback} />\n\t\t\t\t\t\t\t<div className=\"text-red-500 \">{errors.employee?.message}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<label>Amount</label>\n\t\t\t\t\t\t\t<input type=\"text\" name=\"amount\" {...register(\"amount\")}\n\t\t\t\t\t\t\t\tclassName=\"form-control py-0\" readOnly={amountRead}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<div className=\"text-red-500\">{errors.beneficiaryName?.message}</div>\n\t\t\t\t\t\t</div>\n\n\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<label>Address</label>\n\t\t\t\t\t\t\t<input type=\"text\" name=\"address\" {...register(\"address\")}\n\t\t\t\t\t\t\t\tclassName=\"form-control py-0\" readOnly={read}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<div className=\"text-red-500\">{errors.address?.message}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<label>From Date</label>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"date\"\n\t\t\t\t\t\t\t\tname=\"fromdate\"\n\t\t\t\t\t\t\t\t{...register(\"fromdate\")} readOnly={fdateRead}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<div className=\"text-red-500\">{errors.fromdate?.message}</div>\n\t\t\t\t\t\t</div>\n\n<div>\n\t\t\t\t\t\t\t<label>To Date</label>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"date\"\n\t\t\t\t\t\t\t\tname=\"todate\"\n\t\t\t\t\t\t\t\t{...register(\"todate\")} readOnly={tdateRead}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<div className=\"text-red-500\">{errors.todate?.message}</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<label>Bank Account</label>\n\t\t\t\t\t\t\t<input type=\"text\" name=\"bankclear\" {...register(\"bankclear\")}\n\t\t\t\t\t\t\t\tclassName=\"form-control py-0\" readOnly={read}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<div className=\"text-red-500\">{errors.bankclear?.message}</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<label>Bank Station</label>\n\t\t\t\t\t\t\t<input type=\"text\" name=\"bankStation\" {...register(\"bankStation\")}\n\t\t\t\t\t\t\t\tclassName=\"form-control py-0\" readOnly={read}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<div className=\"text-red-500\">{errors.bankStation?.message}</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<label>Ifsc</label>\n\t\t\t\t\t\t\t<input type=\"text\" name=\"ifsc\" {...register(\"ifsc\")}\n\t\t\t\t\t\t\t\tclassName=\"form-control py-0\" readOnly={read}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<div className=\"text-red-500\">{errors.ifsc?.message}</div>\n\t\t\t\t\t\t</div>\n \n\t\t\t\t\t</div>\n \n\t\t\t\t\t<div className=\"px-8\">\n\t\t\t\t\t\n\t\t\t\t\t{action && action==='edit' &&\n\t\t\t\t\t\t<button type=\"submit\" >Save</button>\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\t{action && action==='submit' &&\n\t\t\t\t\t\t<button type=\"button\" onClick={()=>submitFama(id)}>Submit</button>\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\t{action && action==='approve' &&\n\t\t\t\t\t\t<button type=\"button\" onClick={()=>approveFama(id)}>Approve</button>\n\t\t\t\t\t\t}\n\t\t\t\t\t</div>\n\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default withRouter(FamaEdit);"]},"metadata":{},"sourceType":"module"}