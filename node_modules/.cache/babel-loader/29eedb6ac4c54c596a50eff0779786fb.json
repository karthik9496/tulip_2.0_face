{"ast":null,"code":"import _toConsumableArray from\"/home/itsdcsec/falconws/falcon_face/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _regeneratorRuntime from\"/home/itsdcsec/falconws/falcon_face/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/itsdcsec/falconws/falcon_face/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/itsdcsec/falconws/falcon_face/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";/**\n * Code generated using Python\n * @author Raja Reddy\n * Date : 17 Oct 2021\n *\n * Modified By : \n */import{useState,useEffect,useMemo}from'react';import Table,{SelectColumnFilter}from'../utils/Table';// \nimport axios from\"axios\";import{withRouter,Link}from\"react-router-dom\";import TablePage from'../utils/TablePage';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function LicDemandTransactionList(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),update=_useState4[0],setUpdate=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),serverErrors=_useState6[0],setServerErrors=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),search=_useState8[0],setSearch=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),inputText=_useState10[0],setInputText=_useState10[1];var _useState11=useState(0),_useState12=_slicedToArray(_useState11,2),page=_useState12[0],setPage=_useState12[1];var _useState13=useState(0),_useState14=_slicedToArray(_useState13,2),pageSize=_useState14[0],setPageSize=_useState14[1];var _useState15=useState(0),_useState16=_slicedToArray(_useState15,2),usrLevel=_useState16[0],setUsrLevel=_useState16[1];var _useState17=useState(''),_useState18=_slicedToArray(_useState17,2),mesg=_useState18[0],setMesg=_useState18[1];var _useState19=useState(true),_useState20=_slicedToArray(_useState19,2),approved=_useState20[0],setApproved=_useState20[1];var _useState21=useState(\"\"),_useState22=_slicedToArray(_useState21,2),fileName=_useState22[0],setFileName=_useState22[1];var _useState23=useState(false),_useState24=_slicedToArray(_useState23,2),disabled=_useState24[0],setDisabled=_useState24[1];var _useState25=useState(''),_useState26=_slicedToArray(_useState25,2),validRec=_useState26[0],setValidRec=_useState26[1];var _useState27=useState(''),_useState28=_slicedToArray(_useState27,2),amount=_useState28[0],setAmount=_useState28[1];useEffect(function(){var fetching=false;function fetchData(){return _fetchData.apply(this,arguments);}function _fetchData(){_fetchData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(fetching){_context.next=3;break;}_context.next=3;return axios.get('/licDemandTransactions?search='+search+'&fileName='+fileName).then(function(response){setData(response.data);if(response.data[0]['approved']===null||response.data[0]['approved']===false){setApproved('false');}console.log(\"---response--LDT--:\"+response.data[0]['approved']);}).catch(function(error){//console.log(error);\n//console.log(error.response.status);\n//console.log(error.response.headers);\nif(error.response)setServerErrors(error.response.data.error);else setServerErrors(error.Error);});case 3:case\"end\":return _context.stop();}}},_callee);}));return _fetchData.apply(this,arguments);}fetchData();return function(){fetching=true;};},[update,search,fileName]);useEffect(function(){var fetching=false;function fetchUsrData(){return _fetchUsrData.apply(this,arguments);}function _fetchUsrData(){_fetchUsrData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!fetching)console.log(\">>>>Usr Level is -----:\"+usrLevel);_context2.next=3;return axios.get(\"/licDemandTransactions/userDesg\").then(function(response){console.log(\">>>>Usr Level is----:\"+response.data);setUsrLevel(response.data);}).catch(function(error){//console.log(error);\n//console.log(error.response.status);\n//console.log(error.response.headers);\nif(error.response)setServerErrors(error.response.data.error);else setServerErrors(error.Error);});case 3:case\"end\":return _context2.stop();}}},_callee2);}));return _fetchUsrData.apply(this,arguments);}fetchUsrData();return function(){fetching=true;};},[]);function submitBulk(){return _submitBulk.apply(this,arguments);}function _submitBulk(){_submitBulk=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var i,fname,proceed;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:console.log(\">>>>>Demand List----:\"+data);i=0,fname=\"NA\";if(!(fileName!==null&&fileName.length===0||fileName===null)){_context3.next=5;break;}alert(\"No file name given \");return _context3.abrupt(\"return\");case 5:if(!(data.length===0)){_context3.next=8;break;}alert(\"No records exist with this file name\");return _context3.abrupt(\"return\");case 8:i=0;case 9:if(!(i<data.length)){_context3.next=18;break;}if(!(fname!==\"NA\")){_context3.next=14;break;}if(!(data[i].uploadFileName!==fname)){_context3.next=14;break;}alert(\"Selection contains multiple file\");return _context3.abrupt(\"return\");case 14:fname=data[i].uploadFileName;case 15:i++;_context3.next=9;break;case 18:proceed=window.confirm(\"You are about to process file containing \"+data.length+\" records.\");if(proceed){_context3.next=21;break;}return _context3.abrupt(\"return\");case 21:if(!disabled){_context3.next=23;break;}return _context3.abrupt(\"return\");case 23:setDisabled(true);_context3.next=26;return axios.put(\"/licDemandTransactions/bulkSubmitDemand\",data).then(function(response){setDisabled(false);setMesg(response.data[0]);if(response.data[1]!==null)setData(response.data[1]);console.log(\"reponse status--------------\"+response.status);}).catch(function(error){//\tconsole.log(error);\n//console.log(error.response.status);\n//console.log(error.response.headers);\nif(error.response)setServerErrors(error.response.data.error);else setServerErrors(error.Error);});case 26:case\"end\":return _context3.stop();}}},_callee3);}));return _submitBulk.apply(this,arguments);}function approveBulk(){return _approveBulk.apply(this,arguments);}function _approveBulk(){_approveBulk=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){var i,fname,proceed;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:console.log(\">>>>>Demand List----:\"+data);console.log(\">>>>>Demand List----:\"+data);i=0,fname=\"NA\";if(!(fileName!==null&&fileName.length===0||fileName===null)){_context4.next=6;break;}alert(\"No file name given \");return _context4.abrupt(\"return\");case 6:if(!(data.length===0)){_context4.next=9;break;}alert(\"No records exist with this file name\");return _context4.abrupt(\"return\");case 9:i=0;case 10:if(!(i<data.length)){_context4.next=19;break;}if(!(fname!==\"NA\")){_context4.next=15;break;}if(!(data[i].uploadFileName!==fname)){_context4.next=15;break;}alert(\"Selection contains multiple file\");return _context4.abrupt(\"return\");case 15:fname=data[i].uploadFileName;case 16:i++;_context4.next=10;break;case 19:proceed=window.confirm(\"You are about to approve file containing \"+data.length+\" records.\");if(proceed){_context4.next=22;break;}return _context4.abrupt(\"return\");case 22:if(!disabled){_context4.next=24;break;}return _context4.abrupt(\"return\");case 24:setDisabled(true);_context4.next=27;return axios.put(\"/licDemandTransactions/bulkApproveDemand\",data).then(function(response){setValidRec(response.data[1]);setAmount(response.data[2]);if(response.data[2].startsWith(\"Selected\")){setMesg(response.data[3]);}else{setMesg(response.data[0]);}console.log(\"reponse status--------------\"+response.status);//\tsetFundList([]);\nvar updatedRecords=_toConsumableArray(data);console.log(updatedRecords);setData(updatedRecords);setUpdate(!update);}).catch(function(error){//\tconsole.log(error);\n//console.log(error.response.status);\n//console.log(error.response.headers);\nif(error.response)setServerErrors(error.response.data.error);else setServerErrors(error.Error);});case 27:case\"end\":return _context4.stop();}}},_callee4);}));return _approveBulk.apply(this,arguments);}var updateCheckBoxAll=function updateCheckBoxAll(e){// console.log(\"...\"+e.target.checked+\"--\"+index);\nvar newData=_toConsumableArray(data);for(var k in newData){newData[k].select=e.target.checked;}setData(newData);};var handleCheckBox=function handleCheckBox(index){return function(e){//console.log(Table.page)\nconsole.log(e.target.checked+\"--\"+index);console.log(e.target.checked);var item=data[index];item['select']=e.target.checked;var newData=_toConsumableArray(data);newData[index]=item;setData(newData);};};var columns=useMemo(function(){return[{Header:'Action',Cell:function Cell(_ref){var row=_ref.row;return/*#__PURE__*/_jsx(\"div\",{children:row.original.action!=null&&row.original.action.includes(\"edit\")&&/*#__PURE__*/_jsx(Link,{to:\"/licDemandTransactions/\"+row.original.id,children:/*#__PURE__*/_jsx(\"button\",{className:\" w-16 m-0 p-0 \",children:\" Edit \"})})});}},{Header:\"Dak\",accessor:'dak.dakidNo'// Change this\n},{Header:\"Cdao No\",accessor:'cdaoNo'},{Header:\"Cdao Check Digit\",accessor:'employee.checkDigit'},{Header:\"Officer Name\",accessor:'employee.officerName'// Change this\n},{Header:\"Policy No\",accessor:'policyNo'},{Header:\"Premium Amount\",accessor:'premiumAmount'},{Header:\"Gst\",accessor:'gstOnPremiumAmount'// Change this\n},{Header:\"Month Ending\",accessor:'monthEnding'// Change this\n},{Header:\"File Name\",accessor:'uploadFileName'// Change this\n},{Header:\"Auditor Date\",accessor:'auditorDate'},{Header:\"Aao Date\",accessor:'aaoDate'},{Header:\"Ao Date\",accessor:'aoDate'},{Header:\"Approved\",accessor:'approved',Cell:function Cell(_ref2){var row=_ref2.row;return/*#__PURE__*/_jsx(\"div\",{children:data[row.index]['approved']===true?'Y':'N'});}},{Header:\"Record Status\",accessor:'recordStatus'},{Header:\"Reason\",accessor:'reason'},{Header:\"Remarks\",accessor:'remarks'}];},[data]);var handleSubmit=function handleSubmit(event){event.preventDefault();console.log(inputText);setSearch(inputText);};var handleKeyPress=function handleKeyPress(event){// look for the `Enter` keyCode\nif(event.keyCode===13||event.which===13){handleSubmit(event);}};var handleP=function handleP(pp){console.log(pp);setPage(pp);};var handlePageSize=function handlePageSize(pp){console.log(pp);setPageSize(pp);};return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-100 text-gray-900\",children:/*#__PURE__*/_jsx(\"main\",{className:\"max-w-8xl mx-auto px-4 sm:px-6 lg:px-8 pt-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2 ml-4\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-xl font-semibold\",children:\"Lic Demand Transactions\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-red-500\",children:mesg}),usrLevel>30&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-red-500\",children:[\"Total Valid Records:\",validRec]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-red-500\",children:[\"Total Demand Amount:\",amount]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flexContainer\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"fileName\",placeholder:\"fileName\",onBlur:function onBlur(e){return setFileName(e.target.value);},className:\"pl-2 -ml-2 inputField flex-initial\"})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"search\",placeholder:\"Cdao No\",onBlur:function onBlur(e){return setInputText(e.target.value);},className:\"pl-2 -ml-2 inputField flex-initial\"})}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",onClick:handleSubmit,className:\"w-16 m-0 p-0\",children:\"Search\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"-mt-2 max-h-1 py-0 ml-0\",children:[/*#__PURE__*/_jsx(TablePage,{columns:columns,data:data,newpage:page,parentCallback:handleP,newPageSize:pageSize,parentCallbackPageSize:handlePageSize,className:\"table-auto\"}),/*#__PURE__*/_jsxs(\"div\",{children:[usrLevel<30&&/*#__PURE__*/_jsxs(\"button\",{type:\"button\",onClick:submitBulk,disabled:disabled,className:\"w-36 m-2 p-0\",children:[disabled&&/*#__PURE__*/_jsx(\"span\",{className:\"spinner-grow spinner-grow-sm\"}),\" Process File\"]}),usrLevel===30&&/*#__PURE__*/_jsxs(\"button\",{type:\"button\",onClick:submitBulk,disabled:disabled,className:\"w-36 m-2 p-0\",children:[disabled&&/*#__PURE__*/_jsx(\"span\",{className:\"spinner-grow spinner-grow-sm\"}),\" Submit File\"]}),usrLevel>30&&/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:approveBulk,className:\"w-36 m-2 p-0\",children:\" Approve File\"})]})]})]})})});}export default withRouter(LicDemandTransactionList);","map":{"version":3,"sources":["/home/itsdcsec/falconws/falcon_face/src/components/LicDemandTransactionList.js"],"names":["useState","useEffect","useMemo","Table","SelectColumnFilter","axios","withRouter","Link","TablePage","LicDemandTransactionList","data","setData","update","setUpdate","serverErrors","setServerErrors","search","setSearch","inputText","setInputText","page","setPage","pageSize","setPageSize","usrLevel","setUsrLevel","mesg","setMesg","approved","setApproved","fileName","setFileName","disabled","setDisabled","validRec","setValidRec","amount","setAmount","fetching","fetchData","get","then","response","console","log","catch","error","Error","fetchUsrData","submitBulk","i","fname","length","alert","uploadFileName","proceed","window","confirm","put","status","approveBulk","startsWith","updatedRecords","updateCheckBoxAll","e","newData","k","select","target","checked","handleCheckBox","index","item","columns","Header","Cell","row","original","action","includes","id","accessor","handleSubmit","event","preventDefault","handleKeyPress","keyCode","which","handleP","pp","handlePageSize","value"],"mappings":"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","sourcesContent":["/**\n * Code generated using Python\n * @author Raja Reddy\n * Date : 17 Oct 2021\n *\n * Modified By : \n */\n\nimport { useState, useEffect, useMemo } from 'react';\nimport Table, { SelectColumnFilter } from '../utils/Table'  // \nimport axios from \"axios\";\nimport { withRouter, Link } from \"react-router-dom\";\nimport TablePage from '../utils/TablePage';\n \n\nfunction LicDemandTransactionList() {\n\n\tconst [data, setData] = useState([]);\n\tconst [update, setUpdate] = useState(false);\n\tconst [serverErrors, setServerErrors] = useState([]);\n\tconst [search, setSearch] = useState(\"\");\n\tconst [inputText, setInputText] = useState('');\n\t const [page,setPage]=useState(0);\n\t  const [pageSize, setPageSize] = useState(0);\n\t  const[usrLevel,setUsrLevel]=useState(0);\n\t  const[mesg,setMesg]=useState('');\n\t  const[approved,setApproved]=useState(true);\n\t  const[fileName,setFileName]=useState(\"\");\n\t  const [disabled,setDisabled]=useState(false);\n\t  const [validRec,setValidRec]=useState('');\n\t  const [amount,setAmount]=useState('');\n\n\tuseEffect(() => {\n\t\tlet fetching = false;\n\t\tasync function fetchData() {\n\t\t\tif(!fetching)\n\t\t\tawait axios.get('/licDemandTransactions?search='+search+'&fileName='+fileName)\n\t\t\t\t.then((response) => {\n\t\t\t\t\tsetData(response.data);\n\t\t\t\t\tif(response.data[0]['approved']===null || response.data[0]['approved']===false){\n\t\t\t\t\t\tsetApproved('false');\n\t\t\t\t\t}\n\t\t\t\t\tconsole.log(\"---response--LDT--:\"+ response.data[0]['approved']);\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\t//console.log(error);\n\t\t\t\t\t//console.log(error.response.status);\n\t\t\t\t\t//console.log(error.response.headers);\n\t\t\t\t\tif (error.response)\n\t\t\t\t\t\tsetServerErrors(error.response.data.error);\n\t\t\t\t\telse\n\t\t\t\t\t\tsetServerErrors(error.Error);\n\t\t\t\t})\n\t\t}\n\t\tfetchData();\n\t\treturn () => { fetching = true; }\n\n\t}, [update, search,fileName]);\n\t\n\t \n\tuseEffect(() => {\n\t\tlet fetching = false;\n\t\tasync function fetchUsrData() {\n\t\t\tif(!fetching)\n\t\t\tconsole.log(\">>>>Usr Level is -----:\" + usrLevel);\n\t\t\tawait axios.get(`/licDemandTransactions/userDesg`)\n\t\t\t\t.then((response) => {\n\t\t\t\t\tconsole.log(\">>>>Usr Level is----:\" + response.data);\n\t\t\t\t\tsetUsrLevel(response.data);\n\t\t\t\t\t\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\t//console.log(error);\n\t\t\t\t\t//console.log(error.response.status);\n\t\t\t\t\t//console.log(error.response.headers);\n\t\t\t\t\tif (error.response)\n\t\t\t\t\t\tsetServerErrors(error.response.data.error);\n\t\t\t\t\telse\n\t\t\t\t\t\tsetServerErrors(error.Error);\n\t\t\t\t})\n\t\t}\n\t\tfetchUsrData();\n\t\treturn () => { fetching = true; }\n\n\t}, []);\n\tasync function submitBulk() {\n\t\tconsole.log(\">>>>>Demand List----:\" + data);\n\t\tlet i=0,fname=\"NA\";\n\t\tif((fileName!==null && fileName.length===0) || fileName===null){\n\t\t\talert(\"No file name given \");\n\t\t\treturn;\n\t\t}\n\t\tif(data.length===0){\n\t\t\talert(\"No records exist with this file name\");\n\t\t\treturn;\n\t\t}\n\t\tfor(i=0;i<data.length;i++){\n\t\t\tif(fname!==\"NA\"){\n\t\t\t\tif(data[i].uploadFileName!==fname){\n\t\t\t\t\talert(\"Selection contains multiple file\");\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\t\n\t\t\tfname=data[i].uploadFileName;\n\t\t\t\n\t\t}\n\t\t\n\t\tlet proceed=window.confirm(\"You are about to process file containing \"+data.length+\" records.\");\n\t\tif(!proceed)\n\t\t\treturn;\n\t\t\n\t\tif(disabled)\n\t\t\treturn;\n\t\t\t\n\t\t\tsetDisabled(true);\n\t\tawait axios.put(`/licDemandTransactions/bulkSubmitDemand`, data)\n\t\t\t.then((response) => {\n\t\t\t\tsetDisabled(false);\n\t\t\t\tsetMesg(response.data[0]);\n\t\t\t\tif(response.data[1]!==null)\n\t\t\t\t\tsetData(response.data[1]);\n\t\t\t\tconsole.log(\"reponse status--------------\"+response.status);\n\t\t\t \n\t\t\t\t \n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t//\tconsole.log(error);\n\t\t\t\t//console.log(error.response.status);\n\t\t\t\t//console.log(error.response.headers);\n\t\t\t\tif (error.response)\n\t\t\t\t\tsetServerErrors(error.response.data.error);\n\t\t\t\telse\n\t\t\t\t\tsetServerErrors(error.Error);\n\t\t\t});\n\t}\n\t\n\tasync function approveBulk() {\n\t\tconsole.log(\">>>>>Demand List----:\" + data);\n\t\tconsole.log(\">>>>>Demand List----:\" + data);\n\t\tlet i=0,fname=\"NA\";\n\t\tif((fileName!==null && fileName.length===0) || fileName===null){\n\t\t\talert(\"No file name given \");\n\t\t\treturn;\n\t\t}\n\t\tif(data.length===0){\n\t\t\talert(\"No records exist with this file name\");\n\t\t\treturn;\n\t\t}\n\t\tfor(i=0;i<data.length;i++){\n\t\t\tif(fname!==\"NA\"){\n\t\t\t\tif(data[i].uploadFileName!==fname){\n\t\t\t\t\talert(\"Selection contains multiple file\");\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\t\n\t\t\tfname=data[i].uploadFileName;\n\t\t\t\n\t\t}\n\t\t\n\t\tlet proceed=window.confirm(\"You are about to approve file containing \"+data.length+\" records.\");\n\t\tif(!proceed)\n\t\t\treturn;\n\t\t\n\t\tif(disabled)\n\t\t\treturn;\n\t\t\t\n\t\t\tsetDisabled(true);\n\t\tawait axios.put(`/licDemandTransactions/bulkApproveDemand`, data)\n\t\t\t.then((response) => {\n\t\t\t\tsetValidRec(response.data[1]);\n\t\t\t\tsetAmount(response.data[2]);\n\t\t\t\tif(response.data[2].startsWith(\"Selected\")){\n\t\t\t\t\tsetMesg(response.data[3]);\n\t\t\t\t}else{\n\t\t\t\t\tsetMesg(response.data[0]);\n\t\t\t\t}\n\t\t\t\tconsole.log(\"reponse status--------------\"+response.status);\n\t\t\t//\tsetFundList([]);\n\t\t\tlet updatedRecords = [...data];\n\t\t\t\tconsole.log(updatedRecords);\n\t\t\t\tsetData(updatedRecords);\n\t\t\t\tsetUpdate(!update);\n\t\t\t\t \n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t//\tconsole.log(error);\n\t\t\t\t//console.log(error.response.status);\n\t\t\t\t//console.log(error.response.headers);\n\t\t\t\tif (error.response)\n\t\t\t\t\tsetServerErrors(error.response.data.error);\n\t\t\t\telse\n\t\t\t\t\tsetServerErrors(error.Error);\n\t\t\t});\n\t}\n\tconst updateCheckBoxAll = (e) =>{\n\t\t  // console.log(\"...\"+e.target.checked+\"--\"+index);\n\t\t   \n\t\t\t  let newData=[...data];\n\t\t\tfor(var k in newData){\n\t\t\t\tnewData[k].select=e.target.checked;\n\t\t\t}\n\t\t\tsetData(newData);\n\t\t \n\t\t \n\t} \n\tconst handleCheckBox = index=>(e) =>{\n\t\t//console.log(Table.page)\n\t\t   console.log(e.target.checked+\"--\"+index);\n\t\t\t \n\t\t\t\n\t\t\t  \n\t\t   console.log(e.target.checked);\n\t\t\tlet item = data[index];\n\t\t \n\t\titem['select'] = e.target.checked;\n\t\tlet newData = [...data];\n\t\tnewData[index] = item;\n\t\tsetData(newData);\n\t\t \n\t\t \n\t\t \n\t}\n\tconst columns = useMemo(() => [\n\t\t\t\t \n\t\t\n\t\t\n\t\t{\n\t\t\tHeader: 'Action',\n\t\t\tCell: ({ row }) => (\n\t\t\t\t<div>\n\t\t\t\t\t {row.original.action!=null && row.original.action.includes(\"edit\") &&\n\t\t\t\t\t<Link to={\"/licDemandTransactions/\" + row.original.id}>\n\t\t\t\t\t\t<button className=\" w-16 m-0 p-0 \" > Edit </button>\n\t\t\t\t\t</Link>\n\t\t\t\t\t}\n\t\t\t\t\t \n\t\t\t\t</div>\n\t\t\t)\n\t\t},\n\t\t{\n\t\t\tHeader: \"Dak\",\n\t\t\taccessor: 'dak.dakidNo',// Change this\n\t\t},\n\t\t\n\t\t{\n\t\t\tHeader: \"Cdao No\",\n\t\t\taccessor: 'cdaoNo',\n\t\t},\n\t\t\n\t\t{\n\t\t\tHeader: \"Cdao Check Digit\",\n\t\t\taccessor: 'employee.checkDigit',\n\t\t},\n\t\t\n\t\t{\n\t\t\tHeader: \"Officer Name\",\n\t\t\taccessor: 'employee.officerName',// Change this\n\t\t},\n\t\t{\n\t\t\tHeader: \"Policy No\",\n\t\t\taccessor: 'policyNo',\n\t\t},\n\t\t\n\t\t{\n\t\t\tHeader: \"Premium Amount\",\n\t\t\taccessor: 'premiumAmount',\n\t\t},\n\t\t\n\t\t{\n\t\t\tHeader: \"Gst\",\n\t\t\taccessor: 'gstOnPremiumAmount',// Change this\n\t\t},\n\t\t \n\t\t\n\t\t{\n\t\t\tHeader: \"Month Ending\",\n\t\t\taccessor: 'monthEnding',// Change this\n\t\t},\n\t\t{\n\t\t\tHeader: \"File Name\",\n\t\t\taccessor: 'uploadFileName',// Change this\n\t\t},\n\t\t\n\t\t \n\t\t{\n\t\t\tHeader: \"Auditor Date\",\n\t\t\taccessor: 'auditorDate',\n\t\t},\n\t\t\n\t\t{\n\t\t\tHeader: \"Aao Date\",\n\t\t\taccessor: 'aaoDate',\n\t\t},\n\t\t\n\t\t{\n\t\t\tHeader: \"Ao Date\",\n\t\t\taccessor: 'aoDate',\n\t\t},\n\t\t\n\t\t{\n\t\t\tHeader: \"Approved\",\n\t\t\taccessor: 'approved',\n\t\t\tCell: ({ row }) => (\n\t\t\t\t<div>\n\t\t\t\t\n\t\t\t\t\t {data[row.index]['approved'] === true ? 'Y' : 'N'}\n\t\t\t\t</div>\n\t\t\t)\n\t\t},\n\t\t\n\t\t\n\t\t{\n\t\t\tHeader: \"Record Status\",\n\t\t\taccessor: 'recordStatus',\n\t\t},\n\t\t\n\t\t\n\t\t\n\t\t{\n\t\t\tHeader: \"Reason\",\n\t\t\taccessor: 'reason',\n\t\t},\n\t\t\n\t\t{\n\t\t\tHeader: \"Remarks\",\n\t\t\taccessor: 'remarks',\n\t\t},\n\t\t\n\t\t\n\t\t \n\t], [data])\n\n\tconst handleSubmit = (event) => {\n\t\tevent.preventDefault();\n\t\tconsole.log(inputText);\n\t\tsetSearch(inputText);\n\t}\n\n\tconst handleKeyPress = (event) => {\n\t\t// look for the `Enter` keyCode\n\t\tif (event.keyCode === 13 || event.which === 13) {\n\t\t\thandleSubmit(event)\n\t\t}\n\t}\n\tconst handleP = (pp)=>{\n\t\tconsole.log(pp); \n\t\tsetPage(pp);\n\t}\n\tconst handlePageSize = (pp) => {\n      console.log(pp);\n      setPageSize(pp);\n    };\n\n\treturn (\n\t\t<div className=\"min-h-screen bg-gray-100 text-gray-900\">\n\t\t\t<main className=\"max-w-8xl mx-auto px-4 sm:px-6 lg:px-8 pt-4\">\n\t\t\t\t<div className=\"mt-2 ml-4\">\n\t\t\t\t\t<h1 className=\"text-xl font-semibold\">Lic Demand Transactions</h1>\n\t\t\t\t\t<div className=\"text-red-500\">{mesg}</div>\n\t\t\t\t\t{usrLevel>30 &&\n\t\t\t\t\t<>\n\t\t\t\t\t<div className=\"text-red-500\">Total Valid Records:{validRec}</div>\n\t\t\t\t\t<div className=\"text-red-500\">Total Demand Amount:{amount}</div>\n\t\t\t\t\t</>\n\t\t\t\t\t}\n\t\t\t\t\t<div className=\"flexContainer\">\n\t\t\t\t\t<div>\n\t\t\t\t\t<input type=\"text\" name=\"fileName\" placeholder=\"fileName\"\n\t\t\t\t\t\tonBlur={e => setFileName(e.target.value)}\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tclassName=\"pl-2 -ml-2 inputField flex-initial\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\t\n\t\t\t\t\t\t<input type=\"text\" name=\"search\" placeholder=\"Cdao No\"\n\t\t\t\t\t\tonBlur={e => setInputText(e.target.value)}\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tclassName=\"pl-2 -ml-2 inputField flex-initial\" />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<button type=\"submit\" onClick={handleSubmit} className=\"w-16 m-0 p-0\">Search</button>\n\t\t\t\t\t\t \n\t\t\t\t\t\t \n\t\t\t\t\t\t \n\t\t\t\t\t</div>\t\t\t\n\t\t\t\t\t<div className=\"-mt-2 max-h-1 py-0 ml-0\">\n\t\t\t\t \n\t\t\t\t\t<TablePage columns={columns} data={data} newpage={page} parentCallback={handleP}  newPageSize={pageSize}\n              parentCallbackPageSize={handlePageSize}className=\"table-auto\" />\n\t\t\t\t <div>\n\t\t\t\t {(usrLevel <30) &&\n\t\t\t\t\t\t<button type=\"button\" onClick={submitBulk} disabled={disabled} className=\"w-36 m-2 p-0\">\n\t\t\t\t\t\t{disabled && (\n\t\t\t\t\t\t<span className=\"spinner-grow spinner-grow-sm\"></span>\n\t\t\t\t\t)\n\t\t\t\t\t\t\n\t\t\t\t\t} Process File</button>\n\t\t\t\t\t\t}\n\t\t\t\t {(usrLevel===30) &&\n\t\t\t\t\t\t<button type=\"button\" onClick={submitBulk} disabled={disabled} className=\"w-36 m-2 p-0\">\n\t\t\t\t\t\t{disabled && (\n\t\t\t\t\t\t<span className=\"spinner-grow spinner-grow-sm\"></span>\n\t\t\t\t\t)\n\t\t\t\t\t\t\n\t\t\t\t\t} Submit File</button>\n\t\t\t\t\t\t}\t\t\n\t\t\t\t{(usrLevel>30) &&\n\t\t\t\t\t\t<button type=\"button\" onClick={approveBulk} className=\"w-36 m-2 p-0\"> Approve File</button>\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\t</div>\n\t\t\t\t \n\t\t\t\t</div>\t\t\n\t\t\t\t</div>\n\t\t\t\t \n\t\t\t</main>\n\t\t</div>\n\t);\n}\n\nexport default withRouter(LicDemandTransactionList);\n\n"]},"metadata":{},"sourceType":"module"}