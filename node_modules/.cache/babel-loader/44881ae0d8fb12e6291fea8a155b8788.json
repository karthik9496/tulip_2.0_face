{"ast":null,"code":"var _jsxFileName = \"/home/itsdcsec/falconws/falcon_face/src/components/PaySummaryAdd.js\";\n\n/**\n * Code generated using Python\n * @author Raja Reddy\n * Date : 17 Oct 2021\n *\n * Modified By :\n */\nimport { useState, useEffect } from \"react\";\nimport { withRouter, useParams, useHistory } from \"react-router-dom\";\nimport { useForm } from \"react-hook-form\";\nimport axios from \"axios\";\nimport * as yup from \"yup\";\nimport { yupResolver } from \"@hookform/resolvers/yup\";\nimport LiveSearch from \"../utils/LiveSearch\"; //import DatePicker  from 'react-datepicker';\n//import \"react-datepicker/dist/react-datepicker.css\";\n//import addDays from 'date-fns/addDays'\n\nimport Tabs from \"react-bootstrap/Tabs\";\nimport Tab from \"react-bootstrap/Tab\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst schema = yup.object({\n  employee: yup.object().required(\"Required\"),\n  basicPay: yup.number().integer().required(\"Required\")\n});\n\nconst PaySummaryAdd = () => {\n  var _errors$employee;\n\n  const {\n    register,\n    handleSubmit,\n    setValue,\n    formState: {\n      errors\n    },\n    clearErrors\n  } = useForm({\n    resolver: yupResolver(schema)\n  });\n  let {\n    id\n  } = useParams();\n  let history = useHistory();\n  const [serverErrors, setServerErrors] = useState([]);\n  const [entity, setEntity] = useState({});\n  const [state, setState] = useState({});\n  const [key, setKey] = useState(\"page1\");\n  const [rankCode, setRankCode] = useState(\"\");\n  const [empId, setEmpId] = useState(0);\n  const [basicPay, setBasicPay] = useState();\n  const [payElementData, setPayElementData] = useState([]);\n  const [rank, setRank] = useState(\"\");\n  const [rankName, setRankName] = useState(\"\"); //pcdao -- for showing message if user not AO.\n\n  const [msg, setMsg] = useState(\"\");\n\n  const onSubmit = (data, event) => {\n    event.preventDefault();\n    console.log(data);\n\n    if (data.id) {\n      axios.put(\"/payElements/\" + data.id, data).then(response => {\n        history.push(\"/payElements\");\n      }).catch(error => {\n        //console.log(error.response.data);\n        //console.log(error.response.status);\n        //console.log(error.response.headers);\n        setServerErrors(error.response.data);\n      });\n    } else {\n      //pcdao -- added condition to show message if user not AO.\n      axios.post(\"/payElements\", data).then(response => {\n        if (response.data) {\n          history.push(\"/payElements\");\n        } else {\n          setMsg(\"Facility Available only for AO.\");\n        }\n      }).catch(error => {\n        //console.log(error.response.data);\n        //console.log(error.response.status);\n        //console.log(error.response.headers);\n        setServerErrors(error.response.data);\n      });\n    }\n  };\n\n  const onError = (errors, e) => console.log(errors, e); //All foreign keys.\n  // XXXXXX Add search fields and adjust the values as necessary\n\n\n  const parentData = {\n    employee: {\n      title: \"Employee\",\n      url: \"employees\",\n      searchList: [\"cdaoNo\", \"checkDigit\", \"officerName\"],\n      //XXXXXXXXX Add search fields here and also in the corresponding repository\n      fkEntity: \"employee\"\n    }\n  }; //Callback for child components (Foreign Keys)\n\n  const callback = childData => {\n    console.log(\"Parent Callback\" + childData.entity.officerName);\n\n    if (childData.fk === \"employee\") {\n      setEmpId(childData.entity.id);\n      setRankCode(childData.entity.rank.rankName + \":\" + childData.entity.rank.rankCode.toString());\n    } //console.log(errors);\n\n\n    clearErrors(childData.fk);\n  };\n\n  const errorCallback = err => {\n    //console.log(err);\n    setServerErrors(err);\n  };\n\n  const handleInputChange = e => {//console.log(e.target.value);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-xl mx-auto \",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full w-3/4  mx-auto \",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit(onSubmit, onError),\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: [id === \"new\" ? \"Add\" : \"Edit\", \" Pay Element \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n          className: \"text-red-500\",\n          children: msg\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-red-500\",\n          children: serverErrors\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Tabs, {\n          id: \"PayElementEdit\",\n          activeKey: key,\n          onSelect: k => setKey(k),\n          className: \"mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(Tab, {\n            eventKey: \"page1\",\n            title: \"Page 1\",\n            className: \"h-120\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(LiveSearch, {\n                  name: \"employee\",\n                  onChange: handleInputChange,\n                  parentData: parentData.employee,\n                  parentCallback: callback,\n                  fkEntity: entity.employee,\n                  errCallback: errorCallback\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 154,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-red-500 \",\n                  children: (_errors$employee = errors.employee) === null || _errors$employee === void 0 ? void 0 : _errors$employee.message\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 162,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 153,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Rank\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 168,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  name: \"rank\",\n                  value: rankCode,\n                  readOnly: true,\n                  className: \"form-control py-0\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 169,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 167,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 152,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Tab, {\n            eventKey: \"help\",\n            title: \"Help\",\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              children: \"Help\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 185,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n              className: \"list-disc\",\n              children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"Point 1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 187,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"Point 2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 188,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 186,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"px-4\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            children: \"Save\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 137,\n    columnNumber: 5\n  }, this);\n};\n\nexport default withRouter(PaySummaryAdd);","map":{"version":3,"sources":["/home/itsdcsec/falconws/falcon_face/src/components/PaySummaryAdd.js"],"names":["useState","useEffect","withRouter","useParams","useHistory","useForm","axios","yup","yupResolver","LiveSearch","Tabs","Tab","schema","object","employee","required","basicPay","number","integer","PaySummaryAdd","register","handleSubmit","setValue","formState","errors","clearErrors","resolver","id","history","serverErrors","setServerErrors","entity","setEntity","state","setState","key","setKey","rankCode","setRankCode","empId","setEmpId","setBasicPay","payElementData","setPayElementData","rank","setRank","rankName","setRankName","msg","setMsg","onSubmit","data","event","preventDefault","console","log","put","then","response","push","catch","error","post","onError","e","parentData","title","url","searchList","fkEntity","callback","childData","officerName","fk","toString","errorCallback","err","handleInputChange","k","message"],"mappings":"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","sourcesContent":["/**\n * Code generated using Python\n * @author Raja Reddy\n * Date : 17 Oct 2021\n *\n * Modified By :\n */\n\nimport { useState, useEffect } from \"react\";\nimport { withRouter, useParams, useHistory } from \"react-router-dom\";\nimport { useForm } from \"react-hook-form\";\nimport axios from \"axios\";\nimport * as yup from \"yup\";\n\nimport { yupResolver } from \"@hookform/resolvers/yup\";\nimport LiveSearch from \"../utils/LiveSearch\";\n\n//import DatePicker  from 'react-datepicker';\n//import \"react-datepicker/dist/react-datepicker.css\";\n//import addDays from 'date-fns/addDays'\n\nimport Tabs from \"react-bootstrap/Tabs\";\nimport Tab from \"react-bootstrap/Tab\";\n\nconst schema = yup.object({\n  employee: yup.object().required(\"Required\"),\n  basicPay: yup.number().integer().required(\"Required\"),\n});\n\nconst PaySummaryAdd = () => {\n  const {\n    register,\n    handleSubmit,\n    setValue,\n    formState: { errors },\n    clearErrors,\n  } = useForm({\n    resolver: yupResolver(schema),\n  });\n\n  let { id } = useParams();\n\n  let history = useHistory();\n  const [serverErrors, setServerErrors] = useState([]);\n  const [entity, setEntity] = useState({});\n  const [state, setState] = useState({});\n  const [key, setKey] = useState(\"page1\");\n\n  const [rankCode, setRankCode] = useState(\"\");\n  const [empId, setEmpId] = useState(0);\n  const [basicPay, setBasicPay] = useState();\n  const [payElementData, setPayElementData] = useState([]);\n  const [rank, setRank] = useState(\"\");\n  const [rankName, setRankName] = useState(\"\");\n\n  //pcdao -- for showing message if user not AO.\n  const [msg, setMsg] = useState(\"\");\n\n   \n\n  const onSubmit = (data, event) => {\n    event.preventDefault();\n    console.log(data);\n    if (data.id) {\n      axios\n        .put(\"/payElements/\" + data.id, data)\n        .then((response) => {\n          history.push(\"/payElements\");\n        })\n        .catch((error) => {\n          //console.log(error.response.data);\n          //console.log(error.response.status);\n          //console.log(error.response.headers);\n          setServerErrors(error.response.data);\n        });\n    } else {\n\t  //pcdao -- added condition to show message if user not AO.\n      axios\n        .post(\"/payElements\", data)\n        .then((response) => {\n          if (response.data) {\n            history.push(\"/payElements\");\n          } else {\n            setMsg(\"Facility Available only for AO.\");\n          }\n        })\n        .catch((error) => {\n          //console.log(error.response.data);\n          //console.log(error.response.status);\n          //console.log(error.response.headers);\n          setServerErrors(error.response.data);\n        });\n    }\n  };\n\n  const onError = (errors, e) => console.log(errors, e);\n\n  //All foreign keys.\n  // XXXXXX Add search fields and adjust the values as necessary\n  const parentData = {\n    employee: {\n      title: \"Employee\",\n      url: \"employees\",\n      searchList: [\"cdaoNo\", \"checkDigit\", \"officerName\"], //XXXXXXXXX Add search fields here and also in the corresponding repository\n      fkEntity: \"employee\",\n    },\n     \n  };\n\n  //Callback for child components (Foreign Keys)\n  const callback = (childData) => {\n    console.log(\"Parent Callback\"+childData.entity.officerName);\n    \n    \n    if (childData.fk === \"employee\") {\n\t\tsetEmpId(childData.entity.id);\n      setRankCode(\n        childData.entity.rank.rankName +\n          \":\" +\n          childData.entity.rank.rankCode.toString()\n      );\n    }\n    //console.log(errors);\n    clearErrors(childData.fk);\n  };\n\n  const errorCallback = (err) => {\n    //console.log(err);\n    setServerErrors(err);\n  };\n\n  const handleInputChange = (e) => {\n    //console.log(e.target.value);\n  };\n\n  return (\n    <div className=\"max-w-xl mx-auto \">\n      <div className=\"w-full w-3/4  mx-auto \">\n        <form onSubmit={handleSubmit(onSubmit, onError)}>\n          <h1>{id === \"new\" ? \"Add\" : \"Edit\"} Pay Element </h1>\n\n\t\t  {/* pcdao -- added message if user not AO */}\n          <h6 className=\"text-red-500\">{msg}</h6>\n          <div className=\"text-red-500\">{serverErrors}</div>\n          <Tabs\n            id=\"PayElementEdit\"\n            activeKey={key}\n            onSelect={(k) => setKey(k)}\n            className=\"mb-3\"\n          >\n            <Tab eventKey=\"page1\" title=\"Page 1\" className=\"h-120\">\n              <div>\n                <div>\n                  <LiveSearch\n                    name=\"employee\"\n                    onChange={handleInputChange}\n                    parentData={parentData.employee}\n                    parentCallback={callback}\n                    fkEntity={entity.employee}\n                    errCallback={errorCallback}\n                  />\n                  <div className=\"text-red-500 \">\n                    {errors.employee?.message}\n                  </div>\n                </div>\n\n                <div>\n                  <label>Rank</label>\n                  <input\n                    type=\"text\"\n                    name=\"rank\"\n                    value={rankCode}\n                    readOnly\n                    className=\"form-control py-0\"\n                  />\n                </div>\n\n                \n\n                 \n              </div>\n            </Tab>\n\n            <Tab eventKey=\"help\" title=\"Help\">\n              <h1>Help</h1>\n              <ul className=\"list-disc\">\n                <li>Point 1</li>\n                <li>Point 2</li>\n              </ul>\n            </Tab>\n          </Tabs>\n\n          <div className=\"px-4\">\n            <button type=\"submit\">Save</button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default withRouter(PaySummaryAdd);\n"]},"metadata":{},"sourceType":"module"}