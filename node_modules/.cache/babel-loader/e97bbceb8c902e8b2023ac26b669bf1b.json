{"ast":null,"code":"import _defineProperty from\"/home/itsdcsec/falconws/falcon_face/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _regeneratorRuntime from\"/home/itsdcsec/falconws/falcon_face/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _objectSpread from\"/home/itsdcsec/falconws/falcon_face/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _asyncToGenerator from\"/home/itsdcsec/falconws/falcon_face/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/itsdcsec/falconws/falcon_face/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";/**\n * Code generated using Python\n * @author Raja Reddy\n * Date : 17 Oct 2021\n *\n * Modified By : \n */import{useState,useEffect}from\"react\";import{withRouter,useParams,useHistory}from\"react-router-dom\";import{useForm}from\"react-hook-form\";import axios from'axios';import*as yup from\"yup\";import{yupResolver}from'@hookform/resolvers/yup';import LiveSearch from'../utils/LiveSearch';import DatePicker from'react-datepicker';import\"react-datepicker/dist/react-datepicker.css\";import addDays from'date-fns/addDays';import Tabs from'react-bootstrap/Tabs';import Tab from'react-bootstrap/Tab';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var schema=yup.object({unitCode:yup.string().required('Required'),unitName:yup.string().required('Required')});var UnitEdit=function UnitEdit(){var _errors$unitCode,_errors$unitName,_errors$susNo,_errors$address,_errors$address2,_errors$address3,_errors$station,_errors$pinCode,_errors$email,_errors$phone,_errors$phone2,_errors$fax,_errors$coRank,_errors$coName,_errors$unitCategory,_errors$unitCorps,_errors$fieldPeace,_errors$regularTa,_errors$interService,_errors$paraUnit,_errors$enrollPublish;var _useForm=useForm({resolver:yupResolver(schema)}),register=_useForm.register,handleSubmit=_useForm.handleSubmit,setValue=_useForm.setValue,errors=_useForm.formState.errors,clearErrors=_useForm.clearErrors;var _useParams=useParams(),id=_useParams.id;var history=useHistory();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),serverErrors=_useState2[0],setServerErrors=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),entity=_useState4[0],setEntity=_useState4[1];var _useState5=useState({}),_useState6=_slicedToArray(_useState5,2),state=_useState6[0],setState=_useState6[1];var _useState7=useState('page1'),_useState8=_slicedToArray(_useState7,2),key=_useState8[0],setKey=_useState8[1];var _useState9=useState(new Date()),_useState10=_slicedToArray(_useState9,2),raisedDate=_useState10[0],setRaisedDate=_useState10[1];var _useState11=useState(new Date()),_useState12=_slicedToArray(_useState11,2),closedDate=_useState12[0],setClosedDate=_useState12[1];var _useState13=useState(new Date()),_useState14=_slicedToArray(_useState13,2),auditorDate=_useState14[0],setAuditorDate=_useState14[1];var _useState15=useState(new Date()),_useState16=_slicedToArray(_useState15,2),aaoDate=_useState16[0],setAaoDate=_useState16[1];var _useState17=useState(new Date()),_useState18=_slicedToArray(_useState17,2),aoDate=_useState18[0],setAoDate=_useState18[1];useEffect(function(){var isCancelled=false;console.log(id);if(id!=='new'){function fetchData(){return _fetchData.apply(this,arguments);}function _fetchData(){_fetchData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var record,fields;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:record='';_context.next=3;return axios.get('/units/'+id).then(function(response){record=response.data;}).catch(function(error){//console.log(error);\n//console.log(error.response.status);\n//console.log(error.response.headers);\nif(error.response)setServerErrors(error.response.data.error);else setServerErrors(error.Error);});case 3:fields=['id','unitCode','task','unitName','susNo','address1','address2','address3','station','pinCode','email','phone1','phone2','fax','coRank','coName','unitCategory','unitSubarea','unitBrigade','unitCommand','unitCorps','unitBattalion','fieldPeace','raisedDate','closedDate','regularTa','interService','paraUnit','enrollPublish','auditorDate','aaoDate','aoDate','recordStatus','approved'];fields.forEach(function(field){return setValue(field,record[field]);});if(!isCancelled){setEntity(record);setState(function(prev){return _objectSpread(_objectSpread({},prev),{},{state:record});});}case 6:case\"end\":return _context.stop();}}},_callee);}));return _fetchData.apply(this,arguments);}fetchData();return function(){isCancelled=true;};}},[id,setValue]);var onSubmit=function onSubmit(data,event){event.preventDefault();console.log(data);if(data.id){axios.put(\"/units/\"+data.id,data).then(function(response){}).catch(function(error){//console.log(error.response.data);\n//console.log(error.response.status);\n//console.log(error.response.headers);\nsetServerErrors(error.response.data);});}else{axios.post(\"/units\",data).then(function(response){}).catch(function(error){//console.log(error.response.data);\n//console.log(error.response.status);\n//console.log(error.response.headers);\nsetServerErrors(error.response.data);});}history.push(\"/units\");};var onError=function onError(errors,e){return console.log(errors,e);};//All foreign keys. \n// XXXXXX Add search fields and adjust the values as necessary\nvar parentData={unitCategory:{title:\"Unit Category\",url:\"unitCategorys\",searchList:['id'],//XXXXXXXXX Add search fields\nfkEntity:\"unitCategory\",preload:false//XXXXXX Set this to true for small tables like designations\n},unitCorps:{title:\"Unit Corps\",url:\"corpss\",searchList:['unitCode','unitName'],//XXXXXXXXX Add search fields\nfkEntity:\"unit\",preload:false//XXXXXX Set this to true for small tables like designations\n}};//Callback for child components (Foreign Keys)\nvar callback=function callback(childData){//console.log(\"Parent Callback\");\nsetEntity(function(prev){return _objectSpread(_objectSpread({},prev),{},_defineProperty({},childData.fk,childData.entity));});setValue(childData.fk,childData.entity);//console.log(errors);\nclearErrors(childData.fk);};var errorCallback=function errorCallback(err){//console.log(err);\nsetServerErrors(err);};var handleInputChange=function handleInputChange(e){//console.log(e.target.value);\n};return/*#__PURE__*/_jsx(\"div\",{className:\"max-w-xl mx-auto \",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-full w-3/4  mx-auto \",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(onSubmit,onError),children:[/*#__PURE__*/_jsxs(\"h1\",{children:[id==='new'?'Add':'Edit',\" Unit \"]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-red-500\",children:serverErrors}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-0\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Unit Code\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({type:\"text\",name:\"unitCode\"},register(\"unitCode\")),{},{className:\"form-control py-0\"})),/*#__PURE__*/_jsx(\"div\",{className:\"text-red-500\",children:(_errors$unitCode=errors.unitCode)===null||_errors$unitCode===void 0?void 0:_errors$unitCode.message})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Unit Name\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({type:\"text\",name:\"unitName\"},register(\"unitName\")),{},{className:\"form-control py-0\"})),/*#__PURE__*/_jsx(\"div\",{className:\"text-red-500\",children:(_errors$unitName=errors.unitName)===null||_errors$unitName===void 0?void 0:_errors$unitName.message})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Sus No\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({type:\"text\",name:\"susNo\"},register(\"susNo\")),{},{className:\"form-control py-0\"})),/*#__PURE__*/_jsx(\"div\",{className:\"text-red-500\",children:(_errors$susNo=errors.susNo)===null||_errors$susNo===void 0?void 0:_errors$susNo.message})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Address1\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({type:\"text\",name:\"address1\"},register(\"address1\")),{},{className:\"form-control py-0\"})),/*#__PURE__*/_jsx(\"div\",{className:\"text-red-500\",children:(_errors$address=errors.address1)===null||_errors$address===void 0?void 0:_errors$address.message})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Address2\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({type:\"text\",name:\"address2\"},register(\"address2\")),{},{className:\"form-control py-0\"})),/*#__PURE__*/_jsx(\"div\",{className:\"text-red-500\",children:(_errors$address2=errors.address2)===null||_errors$address2===void 0?void 0:_errors$address2.message})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Address3\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({type:\"text\",name:\"address3\"},register(\"address3\")),{},{className:\"form-control py-0\"})),/*#__PURE__*/_jsx(\"div\",{className:\"text-red-500\",children:(_errors$address3=errors.address3)===null||_errors$address3===void 0?void 0:_errors$address3.message})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Station\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({type:\"text\",name:\"station\"},register(\"station\")),{},{className:\"form-control py-0\"})),/*#__PURE__*/_jsx(\"div\",{className:\"text-red-500\",children:(_errors$station=errors.station)===null||_errors$station===void 0?void 0:_errors$station.message})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Pin Code\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({type:\"text\",name:\"pinCode\"},register(\"pinCode\")),{},{className:\"form-control py-0\"})),/*#__PURE__*/_jsx(\"div\",{className:\"text-red-500\",children:(_errors$pinCode=errors.pinCode)===null||_errors$pinCode===void 0?void 0:_errors$pinCode.message})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({type:\"text\",name:\"email\"},register(\"email\")),{},{className:\"form-control py-0\"})),/*#__PURE__*/_jsx(\"div\",{className:\"text-red-500\",children:(_errors$email=errors.email)===null||_errors$email===void 0?void 0:_errors$email.message})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Phone1\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({type:\"text\",name:\"phone1\"},register(\"phone1\")),{},{className:\"form-control py-0\"})),/*#__PURE__*/_jsx(\"div\",{className:\"text-red-500\",children:(_errors$phone=errors.phone1)===null||_errors$phone===void 0?void 0:_errors$phone.message})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Phone2\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({type:\"text\",name:\"phone2\"},register(\"phone2\")),{},{className:\"form-control py-0\"})),/*#__PURE__*/_jsx(\"div\",{className:\"text-red-500\",children:(_errors$phone2=errors.phone2)===null||_errors$phone2===void 0?void 0:_errors$phone2.message})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Fax\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({type:\"text\",name:\"fax\"},register(\"fax\")),{},{className:\"form-control py-0\"})),/*#__PURE__*/_jsx(\"div\",{className:\"text-red-500\",children:(_errors$fax=errors.fax)===null||_errors$fax===void 0?void 0:_errors$fax.message})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Co Rank\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({type:\"text\",name:\"coRank\"},register(\"coRank\")),{},{className:\"form-control py-0\"})),/*#__PURE__*/_jsx(\"div\",{className:\"text-red-500\",children:(_errors$coRank=errors.coRank)===null||_errors$coRank===void 0?void 0:_errors$coRank.message})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Co Name\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({type:\"text\",name:\"coName\"},register(\"coName\")),{},{className:\"form-control py-0\"})),/*#__PURE__*/_jsx(\"div\",{className:\"text-red-500\",children:(_errors$coName=errors.coName)===null||_errors$coName===void 0?void 0:_errors$coName.message})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(LiveSearch,{name:\"unitCategory\",onChange:handleInputChange,parentData:parentData.unitCategory,parentCallback:callback,fkEntity:entity.unitCategory,errCallback:errorCallback}),/*#__PURE__*/_jsx(\"div\",{className:\"text-red-500 \",children:(_errors$unitCategory=errors.unitCategory)===null||_errors$unitCategory===void 0?void 0:_errors$unitCategory.message})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(LiveSearch,{name:\"unitCorps\",onChange:handleInputChange,parentData:parentData.unitCorps,parentCallback:callback,fkEntity:entity.rank,errCallback:errorCallback}),/*#__PURE__*/_jsx(\"div\",{className:\"text-red-500 \",children:(_errors$unitCorps=errors.unitCorps)===null||_errors$unitCorps===void 0?void 0:_errors$unitCorps.message})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Field Peace\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({type:\"text\",name:\"fieldPeace\"},register(\"fieldPeace\")),{},{className:\"form-control py-0\"})),/*#__PURE__*/_jsx(\"div\",{className:\"text-red-500\",children:(_errors$fieldPeace=errors.fieldPeace)===null||_errors$fieldPeace===void 0?void 0:_errors$fieldPeace.message})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Raised Date\"}),/*#__PURE__*/_jsx(DatePicker,_objectSpread(_objectSpread({type:\"text\",name:\"raisedDate\"},register(\"raisedDate\")),{},{selected:raisedDate,onChange:function onChange(date){return setRaisedDate(date);},dateFormat:\"dd/MM/yyyy\",className:\" -ml-2 pl-2 pr-6\"}))]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Closed Date\"}),/*#__PURE__*/_jsx(DatePicker,_objectSpread(_objectSpread({type:\"text\",name:\"closedDate\"},register(\"closedDate\")),{},{selected:closedDate,onChange:function onChange(date){return setClosedDate(date);},dateFormat:\"dd/MM/yyyy\",className:\" -ml-2 pl-2 pr-6\"}))]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Regular Ta\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({type:\"text\",name:\"regularTa\"},register(\"regularTa\")),{},{className:\"form-control py-0\"})),/*#__PURE__*/_jsx(\"div\",{className:\"text-red-500\",children:(_errors$regularTa=errors.regularTa)===null||_errors$regularTa===void 0?void 0:_errors$regularTa.message})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Inter Service\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({type:\"text\",name:\"interService\"},register(\"interService\")),{},{className:\"form-control py-0\"})),/*#__PURE__*/_jsx(\"div\",{className:\"text-red-500\",children:(_errors$interService=errors.interService)===null||_errors$interService===void 0?void 0:_errors$interService.message})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Para Unit\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({type:\"text\",name:\"paraUnit\"},register(\"paraUnit\")),{},{className:\"form-control py-0\"})),/*#__PURE__*/_jsx(\"div\",{className:\"text-red-500\",children:(_errors$paraUnit=errors.paraUnit)===null||_errors$paraUnit===void 0?void 0:_errors$paraUnit.message})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Enroll Publish\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({type:\"text\",name:\"enrollPublish\"},register(\"enrollPublish\")),{},{className:\"form-control py-0\"})),/*#__PURE__*/_jsx(\"div\",{className:\"text-red-500\",children:(_errors$enrollPublish=errors.enrollPublish)===null||_errors$enrollPublish===void 0?void 0:_errors$enrollPublish.message})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"px-4\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Save\"})})]})})});};export default withRouter(UnitEdit);","map":{"version":3,"sources":["/home/itsdcsec/falconws/falcon_face/src/components/UnitEdit.js"],"names":["useState","useEffect","withRouter","useParams","useHistory","useForm","axios","yup","yupResolver","LiveSearch","DatePicker","addDays","Tabs","Tab","schema","object","unitCode","string","required","unitName","UnitEdit","resolver","register","handleSubmit","setValue","errors","formState","clearErrors","id","history","serverErrors","setServerErrors","entity","setEntity","state","setState","key","setKey","Date","raisedDate","setRaisedDate","closedDate","setClosedDate","auditorDate","setAuditorDate","aaoDate","setAaoDate","aoDate","setAoDate","isCancelled","console","log","fetchData","record","get","then","response","data","catch","error","Error","fields","forEach","field","prev","onSubmit","event","preventDefault","put","post","push","onError","e","parentData","unitCategory","title","url","searchList","fkEntity","preload","unitCorps","callback","childData","fk","errorCallback","err","handleInputChange","message","susNo","address1","address2","address3","station","pinCode","email","phone1","phone2","fax","coRank","coName","rank","fieldPeace","date","regularTa","interService","paraUnit","enrollPublish"],"mappings":"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","sourcesContent":["/**\n * Code generated using Python\n * @author Raja Reddy\n * Date : 17 Oct 2021\n *\n * Modified By : \n */\n\nimport { useState, useEffect } from \"react\";\nimport { withRouter, useParams, useHistory } from \"react-router-dom\";\nimport { useForm } from \"react-hook-form\";\nimport axios from 'axios';\nimport * as yup from \"yup\";\n\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport LiveSearch from '../utils/LiveSearch';\n\nimport DatePicker from 'react-datepicker';\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport addDays from 'date-fns/addDays'\n\nimport Tabs from 'react-bootstrap/Tabs'\nimport Tab from 'react-bootstrap/Tab'\n\nconst schema = yup.object({\n\tunitCode: yup.string().required('Required'),\n \n\tunitName: yup.string().required('Required'),\n\t  \n});\n\n\nconst UnitEdit = () => {\n\tconst { register, handleSubmit, setValue, formState: { errors }, clearErrors } = useForm({\n\t\tresolver: yupResolver(schema)\n\t});\n\n\tlet { id } = useParams();\n\n\tlet history = useHistory();\n\tconst [serverErrors, setServerErrors] = useState([]);\n\tconst [entity, setEntity] = useState({});\n\tconst [state, setState] = useState({});\n\tconst [key, setKey] = useState('page1');\n\n\tconst [raisedDate, setRaisedDate] = useState(new Date());\n\tconst [closedDate, setClosedDate] = useState(new Date());\n\n\tconst [auditorDate, setAuditorDate] = useState(new Date());\n\tconst [aaoDate, setAaoDate] = useState(new Date());\n\tconst [aoDate, setAoDate] = useState(new Date());\n\n\n\tuseEffect(() => {\n\t\tlet isCancelled = false;\n\t\tconsole.log(id);\n\t\tif (id !== 'new') {\n\t\t\tasync function fetchData() {\n\t\t\t\tlet record = '';\n\t\t\t\tawait axios.get('/units/' + id)\n\t\t\t\t\t.then((response) => {\n\t\t\t\t\t\trecord = response.data;\n\t\t\t\t\t})\n\t\t\t\t\t.catch((error) => {\n\t\t\t\t\t\t//console.log(error);\n\t\t\t\t\t\t//console.log(error.response.status);\n\t\t\t\t\t\t//console.log(error.response.headers);\n\t\t\t\t\t\tif (error.response)\n\t\t\t\t\t\t\tsetServerErrors(error.response.data.error);\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tsetServerErrors(error.Error);\n\t\t\t\t\t});\n\n\t\t\t\tconst fields = [\n\t\t\t\t\t'id', 'unitCode', 'task', 'unitName', 'susNo', 'address1', 'address2', 'address3', 'station',\n\t\t\t\t\t'pinCode', 'email', 'phone1', 'phone2', 'fax', 'coRank', 'coName', 'unitCategory',\n\t\t\t\t\t'unitSubarea', 'unitBrigade', 'unitCommand', 'unitCorps', 'unitBattalion',\n\t\t\t\t\t'fieldPeace', 'raisedDate', 'closedDate', 'regularTa', 'interService', 'paraUnit',\n\t\t\t\t\t'enrollPublish', 'auditorDate', 'aaoDate', 'aoDate', 'recordStatus', 'approved'\n\t\t\t\t];\n\t\t\t\tfields.forEach(field => setValue(field, record[field]));\n\t\t\t\tif (!isCancelled) {\n\t\t\t\t\tsetEntity(record);\n\t\t\t\t\tsetState(prev => ({ ...prev, state: record }));\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfetchData();\n\t\t\treturn () => {\n\t\t\t\tisCancelled = true;\n\t\t\t};\n\t\t}\n\n\t}, [id, setValue]);\n\n\n\tconst onSubmit = (data, event) => {\n\t\tevent.preventDefault();\n\t\tconsole.log(data);\n\t\tif (data.id) {\n\t\t\taxios.put(\"/units/\" + data.id, data)\n\t\t\t\t.then((response) => { })\n\t\t\t\t.catch((error) => {\n\t\t\t\t\t//console.log(error.response.data);\n\t\t\t\t\t//console.log(error.response.status);\n\t\t\t\t\t//console.log(error.response.headers);\n\t\t\t\t\tsetServerErrors(error.response.data)\n\t\t\t\t});\n\t\t} else {\n\t\t\taxios.post(\"/units\", data)\n\t\t\t\t.then((response) => { })\n\t\t\t\t.catch((error) => {\n\t\t\t\t\t//console.log(error.response.data);\n\t\t\t\t\t//console.log(error.response.status);\n\t\t\t\t\t//console.log(error.response.headers);\n\t\t\t\t\tsetServerErrors(error.response.data)\n\t\t\t\t});\n\t\t}\n\n\t\thistory.push(\"/units\");\n\t}\n\n\tconst onError = (errors, e) => console.log(errors, e);\n\n\t//All foreign keys. \n\t// XXXXXX Add search fields and adjust the values as necessary\n\tconst parentData = {\n\n\t\tunitCategory: {\n\t\t\ttitle: \"Unit Category\",\n\t\t\turl: \"unitCategorys\",\n\t\t\tsearchList: ['id'], //XXXXXXXXX Add search fields\n\t\t\tfkEntity: \"unitCategory\",\n\t\t\tpreload: false, //XXXXXX Set this to true for small tables like designations\n\t\t},\n\t\t \n\t\t \n\t\t \n\t\tunitCorps: {\n\t\t\ttitle: \"Unit Corps\",\n\t\t\turl: \"corpss\",\n\t\t\tsearchList: ['unitCode','unitName'], //XXXXXXXXX Add search fields\n\t\t\tfkEntity: \"unit\",\n\t\t\tpreload: false, //XXXXXX Set this to true for small tables like designations\n\t\t},\n\t\t \n\t}\n\n\t//Callback for child components (Foreign Keys)\n\tconst callback = (childData) => {\n\t\t//console.log(\"Parent Callback\");\n\t\tsetEntity(prev => ({ ...prev, [childData.fk]: childData.entity }));\n\t\tsetValue(childData.fk, childData.entity);\n\t\t//console.log(errors);\n\t\tclearErrors(childData.fk);\n\t};\n\n\tconst errorCallback = (err) => {\n\t\t//console.log(err);\n\t\tsetServerErrors(err);\n\t}\n\n\tconst handleInputChange = (e) => {\n\t\t//console.log(e.target.value);\n\t};\n\n\treturn (\n\t\t<div className=\"max-w-xl mx-auto \">\n\t\t\t<div className=\"w-full w-3/4  mx-auto \" >\n\n\t\t\t\t<form onSubmit={handleSubmit(onSubmit, onError)}>\n\t\t\t\t\t<h1 >{id === 'new' ? 'Add' : 'Edit'} Unit </h1>\n\t\t\t\t\t<div className=\"text-red-500\">{serverErrors}</div>\n\t\t\t\t\t \n\t\t\t\t\t\t \n\t\t\t\t\t\t\t<div className=\"grid grid-cols-2 gap-0\">\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<label>Unit Code</label>\n\t\t\t\t\t\t\t\t\t<input type=\"text\" name=\"unitCode\" {...register(\"unitCode\")}\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-control py-0\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<div className=\"text-red-500\">{errors.unitCode?.message}</div>\n\t\t\t\t\t\t\t\t</div>\n\n\n\t\t\t\t\t\t\t\t\n\n\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<label>Unit Name</label>\n\t\t\t\t\t\t\t\t\t<input type=\"text\" name=\"unitName\" {...register(\"unitName\")}\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-control py-0\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<div className=\"text-red-500\">{errors.unitName?.message}</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\n\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<label>Sus No</label>\n\t\t\t\t\t\t\t\t\t<input type=\"text\" name=\"susNo\" {...register(\"susNo\")}\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-control py-0\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<div className=\"text-red-500\">{errors.susNo?.message}</div>\n\t\t\t\t\t\t\t\t</div>\n\n\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<label>Address1</label>\n\t\t\t\t\t\t\t\t\t<input type=\"text\" name=\"address1\" {...register(\"address1\")}\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-control py-0\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<div className=\"text-red-500\">{errors.address1?.message}</div>\n\t\t\t\t\t\t\t\t</div>\n\n\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<label>Address2</label>\n\t\t\t\t\t\t\t\t\t<input type=\"text\" name=\"address2\" {...register(\"address2\")}\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-control py-0\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<div className=\"text-red-500\">{errors.address2?.message}</div>\n\t\t\t\t\t\t\t\t</div>\n\n\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<label>Address3</label>\n\t\t\t\t\t\t\t\t\t<input type=\"text\" name=\"address3\" {...register(\"address3\")}\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-control py-0\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<div className=\"text-red-500\">{errors.address3?.message}</div>\n\t\t\t\t\t\t\t\t</div>\n\n\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<label>Station</label>\n\t\t\t\t\t\t\t\t\t<input type=\"text\" name=\"station\" {...register(\"station\")}\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-control py-0\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<div className=\"text-red-500\">{errors.station?.message}</div>\n\t\t\t\t\t\t\t\t</div>\n\n\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<label>Pin Code</label>\n\t\t\t\t\t\t\t\t\t<input type=\"text\" name=\"pinCode\" {...register(\"pinCode\")}\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-control py-0\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<div className=\"text-red-500\">{errors.pinCode?.message}</div>\n\t\t\t\t\t\t\t\t</div>\n\n\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<label>Email</label>\n\t\t\t\t\t\t\t\t\t<input type=\"text\" name=\"email\" {...register(\"email\")}\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-control py-0\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<div className=\"text-red-500\">{errors.email?.message}</div>\n\t\t\t\t\t\t\t\t</div>\n\n\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<label>Phone1</label>\n\t\t\t\t\t\t\t\t\t<input type=\"text\" name=\"phone1\" {...register(\"phone1\")}\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-control py-0\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<div className=\"text-red-500\">{errors.phone1?.message}</div>\n\t\t\t\t\t\t\t\t</div>\n\n\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<label>Phone2</label>\n\t\t\t\t\t\t\t\t\t<input type=\"text\" name=\"phone2\" {...register(\"phone2\")}\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-control py-0\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<div className=\"text-red-500\">{errors.phone2?.message}</div>\n\t\t\t\t\t\t\t\t</div>\n\n\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<label>Fax</label>\n\t\t\t\t\t\t\t\t\t<input type=\"text\" name=\"fax\" {...register(\"fax\")}\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-control py-0\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<div className=\"text-red-500\">{errors.fax?.message}</div>\n\t\t\t\t\t\t\t\t</div>\n\n\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<label>Co Rank</label>\n\t\t\t\t\t\t\t\t\t<input type=\"text\" name=\"coRank\" {...register(\"coRank\")}\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-control py-0\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<div className=\"text-red-500\">{errors.coRank?.message}</div>\n\t\t\t\t\t\t\t\t</div>\n\n\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<label>Co Name</label>\n\t\t\t\t\t\t\t\t\t<input type=\"text\" name=\"coName\" {...register(\"coName\")}\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-control py-0\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<div className=\"text-red-500\">{errors.coName?.message}</div>\n\t\t\t\t\t\t\t\t</div>\n\n\n\t\t\t\t\t\t\t\t<div >\n\t\t\t\t\t\t\t\t\t<LiveSearch name=\"unitCategory\" onChange={handleInputChange}\n\t\t\t\t\t\t\t\t\t\tparentData={parentData.unitCategory} parentCallback={callback}\n\t\t\t\t\t\t\t\t\t\tfkEntity={entity.unitCategory} errCallback={errorCallback} />\n\t\t\t\t\t\t\t\t\t<div className=\"text-red-500 \">{errors.unitCategory?.message}</div>\n\t\t\t\t\t\t\t\t</div>\n\n  \n\n\n\t\t\t\t\t\t\t\t<div >\n\t\t\t\t\t\t\t\t\t<LiveSearch name=\"unitCorps\" onChange={handleInputChange}\n\t\t\t\t\t\t\t\t\t\tparentData={parentData.unitCorps} parentCallback={callback}\n\t\t\t\t\t\t\t\t\t\tfkEntity={entity.rank} errCallback={errorCallback} />\n\t\t\t\t\t\t\t\t\t<div className=\"text-red-500 \">{errors.unitCorps?.message}</div>\n\t\t\t\t\t\t\t\t</div>\n\n\n\t\t\t\t\t\t\t\t \n\n\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<label>Field Peace</label>\n\t\t\t\t\t\t\t\t\t<input type=\"text\" name=\"fieldPeace\" {...register(\"fieldPeace\")}\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-control py-0\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<div className=\"text-red-500\">{errors.fieldPeace?.message}</div>\n\t\t\t\t\t\t\t\t</div>\n\n\n\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<label>Raised Date</label>\n\t\t\t\t\t\t\t\t\t<DatePicker type=\"text\" name=\"raisedDate\" {...register(\"raisedDate\")}\n\t\t\t\t\t\t\t\t\t\tselected={raisedDate} onChange={(date) => setRaisedDate(date)}\n\t\t\t\t\t\t\t\t\t\tdateFormat=\"dd/MM/yyyy\"\n\t\t\t\t\t\t\t\t\t\tclassName=\" -ml-2 pl-2 pr-6\" />\n\t\t\t\t\t\t\t\t</div>\n\n\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<label>Closed Date</label>\n\t\t\t\t\t\t\t\t\t<DatePicker type=\"text\" name=\"closedDate\" {...register(\"closedDate\")}\n\t\t\t\t\t\t\t\t\t\tselected={closedDate} onChange={(date) => setClosedDate(date)}\n\t\t\t\t\t\t\t\t\t\tdateFormat=\"dd/MM/yyyy\"\n\t\t\t\t\t\t\t\t\t\tclassName=\" -ml-2 pl-2 pr-6\" />\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<label>Regular Ta</label>\n\t\t\t\t\t\t\t\t\t<input type=\"text\" name=\"regularTa\" {...register(\"regularTa\")}\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-control py-0\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<div className=\"text-red-500\">{errors.regularTa?.message}</div>\n\t\t\t\t\t\t\t\t</div>\n\n\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<label>Inter Service</label>\n\t\t\t\t\t\t\t\t\t<input type=\"text\" name=\"interService\" {...register(\"interService\")}\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-control py-0\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<div className=\"text-red-500\">{errors.interService?.message}</div>\n\t\t\t\t\t\t\t\t</div>\n\n\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<label>Para Unit</label>\n\t\t\t\t\t\t\t\t\t<input type=\"text\" name=\"paraUnit\" {...register(\"paraUnit\")}\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-control py-0\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<div className=\"text-red-500\">{errors.paraUnit?.message}</div>\n\t\t\t\t\t\t\t\t</div>\n\n\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<label>Enroll Publish</label>\n\t\t\t\t\t\t\t\t\t<input type=\"text\" name=\"enrollPublish\" {...register(\"enrollPublish\")}\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-control py-0\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<div className=\"text-red-500\">{errors.enrollPublish?.message}</div>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t \n\t\t\t\t\t\t\t\t \n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t \n\t\t\t\t\t\t \n\n\t\t\t\t\t<div className=\"px-4\">\n\t\t\t\t\t\t<button type=\"submit\" >Save</button>\n\t\t\t\t\t</div>\n\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default withRouter(UnitEdit);"]},"metadata":{},"sourceType":"module"}