{"ast":null,"code":"import _defineProperty from\"/home/itsdcsec/falconws/falcon_face/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _regeneratorRuntime from\"/home/itsdcsec/falconws/falcon_face/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _objectSpread from\"/home/itsdcsec/falconws/falcon_face/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _asyncToGenerator from\"/home/itsdcsec/falconws/falcon_face/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/itsdcsec/falconws/falcon_face/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";/**\n * Code generated using Python\n * @author Raja Reddy\n * Date : 17 Oct 2021\n *\n * Modified By : \n */import{useState,useEffect}from\"react\";import{withRouter,useParams,useHistory}from\"react-router-dom\";import{useForm}from\"react-hook-form\";import axios from'axios';import*as yup from\"yup\";import{yupResolver}from'@hookform/resolvers/yup';import LiveSearch from'../utils/LiveSearch';import DatePicker from'react-datepicker';import\"react-datepicker/dist/react-datepicker.css\";import addDays from'date-fns/addDays';import Tabs from'react-bootstrap/Tabs';import Tab from'react-bootstrap/Tab';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var schema=yup.object({//cdaoNo: yup.string(),\n//grievanceSource: yup.string().required('Required'),\n//monthEnding: yup.string().required('Required'),\n//dak: yup.object().required('Required'),\n//unit: yup.object().required('Required'),\n/*\tsection: yup.object().required('Required'),\n\t//employee: yup.object().required('Required'),\n\t\n\tcheckDigit: yup.string().required('Required'),\n\twebId: yup.string().required('Required'),\n\t//emailId: yup.string().required('Required'),\n\tgrievanceDate: yup.string().required('Required'),\n\tsubject: yup.string().required('Required'),\n\treferenceNo: yup.string().required('Required'),\n\treferenceDate: yup.string().required('Required'),\n\tgrievanceBrief: yup.string().required('Required'),\n\tdisposalNo: yup.string().required('Required'),\n\tdisposalDate: yup.string().required('Required'),\n\tdisposalRemarks: yup.string().required('Required'),\n\tauditorRemarks: yup.string().required('Required'),\n\t//auditorDate: yup.string().required('Required'),\n\taaoRemarks: yup.string().required('Required'),\n\t//aaoDate: yup.string().required('Required'),\n\taoRemarks: yup.string().required('Required'),\n\t//aoDate: yup.string().required('Required'),\n\trecordStatus: yup.string().required('Required'),\n\tapproved: yup.boolean().required('Required'),\n\t*/});var GrievanceEdit=function GrievanceEdit(){var _errors$section,_errors$employee,_errors$grievanceSour,_errors$referenceNo,_errors$emailId,_errors$subject,_errors$grievanceBrie,_errors$disposalNo,_errors$disposalRemar,_errors$webId,_errors$auditorRemark,_errors$aaoRemarks,_errors$aoRemarks;var _useForm=useForm({resolver:yupResolver(schema)}),register=_useForm.register,handleSubmit=_useForm.handleSubmit,setValue=_useForm.setValue,errors=_useForm.formState.errors,clearErrors=_useForm.clearErrors;var _useParams=useParams(),id=_useParams.id;//console.log(id);\nvar history=useHistory();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),serverErrors=_useState2[0],setServerErrors=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),entity=_useState4[0],setEntity=_useState4[1];var _useState5=useState({}),_useState6=_slicedToArray(_useState5,2),state=_useState6[0],setState=_useState6[1];var _useState7=useState(new Date()),_useState8=_slicedToArray(_useState7,2),startDate=_useState8[0],setStartDate=_useState8[1];var _useState9=useState(new Date()),_useState10=_slicedToArray(_useState9,2),grievanceDate=_useState10[0],setGrievanceDate=_useState10[1];var _useState11=useState(new Date()),_useState12=_slicedToArray(_useState11,2),referenceDate=_useState12[0],setReferenceDate=_useState12[1];var _useState13=useState(new Date()),_useState14=_slicedToArray(_useState13,2),disposalDate=_useState14[0],setDisposalDate=_useState14[1];var _useState15=useState('page1'),_useState16=_slicedToArray(_useState15,2),key=_useState16[0],setKey=_useState16[1];var _useState17=useState(''),_useState18=_slicedToArray(_useState17,2),mesg=_useState18[0],setMesg=_useState18[1];var _useState19=useState(''),_useState20=_slicedToArray(_useState19,2),usrAction=_useState20[0],setUsrAction=_useState20[1];var _useState21=useState(false),_useState22=_slicedToArray(_useState21,2),audRemReadOnly=_useState22[0],setAudRemReadOnly=_useState22[1];var _useState23=useState(false),_useState24=_slicedToArray(_useState23,2),aaoRemReadOnly=_useState24[0],setAaoRemReadOnly=_useState24[1];var _useState25=useState(false),_useState26=_slicedToArray(_useState25,2),aoRemReadOnly=_useState26[0],setAoRemReadOnly=_useState26[1];useEffect(function(){var isCancelled=false;console.log(id);if(id!=='new'){function fetchData(){return _fetchData.apply(this,arguments);}function _fetchData(){_fetchData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var record,fields;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:record='';_context.next=3;return axios.get('/grievances/'+id).then(function(response){record=response.data;}).catch(function(error){//console.log(error);\n//console.log(error.response.status);\n//console.log(error.response.headers);\nif(error.response)setServerErrors(error.response.data.error);else setServerErrors(error.Error);});case 3:fields=['id','grievanceSource','monthEnding','dak','unit','section','employee','cdaoNo','checkDigit','webId','emailId','grievanceDate','subject','referenceNo','referenceDate','grievanceBrief','disposalNo','disposalDate','disposalRemarks','auditorRemarks','auditorDate','aaoRemarks','aaoDate','aoRemarks','aoDate','recordStatus','approved','action'];fields.forEach(function(field){return setValue(field,record[field]);});if(!isCancelled){setEntity(record);setState(function(prev){return _objectSpread(_objectSpread({},prev),{},{state:record});});}setUsrAction(record.action);console.log(usrAction+\"--\"+record['action']);if(usrAction==='Auditor'){setAaoRemReadOnly(true);setAoRemReadOnly(true);}if(usrAction==='AAO'){setAudRemReadOnly(true);setAoRemReadOnly(true);}if(usrAction==='AO'){setAaoRemReadOnly(true);setAudRemReadOnly(true);}case 11:case\"end\":return _context.stop();}}},_callee);}));return _fetchData.apply(this,arguments);}fetchData();return function(){isCancelled=true;};}},[]);var onSubmit=function onSubmit(data,event){event.preventDefault();console.log(data);if(data.id){axios.put(\"/grievances/\"+data.id,data).then(function(response){history.push(\"/grievances\");}).catch(function(error){//console.log(error.response.data);\n//console.log(error.response.status);\n//console.log(error.response.headers);\nsetServerErrors(error.response.data);});}else{axios.post(\"/grievances\",data).then(function(response){history.push(\"/grievances\");}).catch(function(error){console.log(error.response.data);console.log(error.response.status);console.log(error.response.headers);if(error.response)setServerErrors(error.response.data);else setServerErrors(error);});}};var onError=function onError(errors,e){return console.log(errors,e);};//All foreign keys. \n// XXXXXX Add search fields and adjust the values as necessary\nvar parentData={dak:{title:\"Dak\",url:\"daks\",searchList:['dakidNo'],//XXXXXXXXX Add search fields \nfkEntity:\"dak\",preload:false//XXXXXX Set this to true for small tables like designations\n},unit:{title:\"Unit\",url:\"units\",searchList:['unitCode','unitName'],//XXXXXXXXX Add search fields\nfkEntity:\"unit\",preload:false//XXXXXX Set this to true for small tables like designations\n},section:{title:\"Section\",url:\"sections\",searchList:['sectionName'],//XXXXXXXXX Add search fields\nfkEntity:\"section\",preload:false//XXXXXX Set this to true for small tables like designations\n},employee:{title:\"Employee\",url:\"employees\",searchList:['cdaoNo','officerName'],//XXXXXXXXX Add search fields\nfkEntity:\"employee\",preload:false//XXXXXX Set this to true for small tables like designations\n}};//Callback for child components (Foreign Keys)\nvar callback=function callback(childData){//console.log(\"Parent Callback\");\nsetEntity(function(prev){return _objectSpread(_objectSpread({},prev),{},_defineProperty({},childData.fk,childData.entity));});setValue(childData.fk,childData.entity);//console.log(errors);\nclearErrors(childData.fk);};var errorCallback=function errorCallback(err){//console.log(err);\nsetServerErrors(err);};var handleInputChange=function handleInputChange(e){//console.log(e.target.value);\n};return/*#__PURE__*/_jsx(\"div\",{className:\"max-w-xl mx-auto \",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-full w-3/4  mx-auto \",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(onSubmit,onError),children:[/*#__PURE__*/_jsxs(\"h1\",{children:[id==='new'?'Add':'Edit',\" Grievance \"]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-red-500\",children:serverErrors}),/*#__PURE__*/_jsxs(Tabs,{id:\"GrievanceEdit\",activeKey:key,onSelect:function onSelect(k){return setKey(k);},className:\"mb-3\",children:[/*#__PURE__*/_jsx(Tab,{eventKey:\"page1\",title:\"Page 1\",className:\"h-120\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-0 \",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(LiveSearch,{name:\"section\",onChange:handleInputChange,parentData:parentData.section,parentCallback:callback,fkEntity:entity.section,errCallback:errorCallback}),/*#__PURE__*/_jsx(\"div\",{className:\"text-red-500 \",children:(_errors$section=errors.section)===null||_errors$section===void 0?void 0:_errors$section.message})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(LiveSearch,{name:\"employee\",onChange:handleInputChange,parentData:parentData.employee,parentCallback:callback,fkEntity:entity.employee,errCallback:errorCallback}),/*#__PURE__*/_jsx(\"div\",{className:\"text-red-500 \",children:(_errors$employee=errors.employee)===null||_errors$employee===void 0?void 0:_errors$employee.message})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Grievance Source\"}),/*#__PURE__*/_jsxs(\"select\",_objectSpread(_objectSpread({name:\"grievanceSource\"},register(\"grievanceSource\")),{},{className:\"form-control py-0\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"--select--\"}),/*#__PURE__*/_jsx(\"option\",{value:\"E\",children:\"e-mail\"}),/*#__PURE__*/_jsx(\"option\",{value:\"L\",children:\"Letter\"}),/*#__PURE__*/_jsx(\"option\",{value:\"W\",children:\"Web Portal\"})]})),/*#__PURE__*/_jsx(\"div\",{className:\"text-red-500\",children:(_errors$grievanceSour=errors.grievanceSource)===null||_errors$grievanceSour===void 0?void 0:_errors$grievanceSour.message})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Reference No\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({type:\"text\",name:\"referenceNo\"},register(\"referenceNo\")),{},{className:\"form-control py-0\"})),/*#__PURE__*/_jsx(\"div\",{className:\"text-red-500\",children:(_errors$referenceNo=errors.referenceNo)===null||_errors$referenceNo===void 0?void 0:_errors$referenceNo.message})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Reference Date\"}),/*#__PURE__*/_jsx(DatePicker,_objectSpread(_objectSpread({type:\"text\",name:\"referenceDate\"},register(\"referenceDate\")),{},{selected:referenceDate,onChange:function onChange(date){return setReferenceDate(date);},dateFormat:\"dd/MM/yyyy\",className:\" -ml-2 pl-2 pr-2\"}))]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Email Id\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({type:\"text\",name:\"emailId\"},register(\"emailId\")),{},{className:\"form-control py-0\"})),/*#__PURE__*/_jsx(\"div\",{className:\"text-red-500\",children:(_errors$emailId=errors.emailId)===null||_errors$emailId===void 0?void 0:_errors$emailId.message})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Grievance Date\"}),/*#__PURE__*/_jsx(DatePicker,_objectSpread(_objectSpread({type:\"text\",name:\"grievanceDate\"},register(\"grievanceDate\")),{},{selected:grievanceDate,onChange:function onChange(date){return setGrievanceDate(date);},dateFormat:\"dd/MM/yyyy\",className:\" -ml-2 pl-2 pr-2\"}))]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Subject\"}),/*#__PURE__*/_jsx(\"textarea\",_objectSpread(_objectSpread({type:\"text\",name:\"subject\"},register(\"subject\")),{},{className:\"form-control py-0\"})),/*#__PURE__*/_jsx(\"div\",{className:\"text-red-500\",children:(_errors$subject=errors.subject)===null||_errors$subject===void 0?void 0:_errors$subject.message})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-span-1 ...\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Grievance Brief\"}),/*#__PURE__*/_jsx(\"textarea\",_objectSpread(_objectSpread({type:\"text\",name:\"grievanceBrief\"},register(\"grievanceBrief\")),{},{className:\"form-control py-0\"})),/*#__PURE__*/_jsx(\"div\",{className:\"text-red-500\",children:(_errors$grievanceBrie=errors.grievanceBrief)===null||_errors$grievanceBrie===void 0?void 0:_errors$grievanceBrie.message})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Disposal No\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({type:\"text\",name:\"disposalNo\"},register(\"disposalNo\")),{},{className:\"form-control py-0\"})),/*#__PURE__*/_jsx(\"div\",{className:\"text-red-500\",children:(_errors$disposalNo=errors.disposalNo)===null||_errors$disposalNo===void 0?void 0:_errors$disposalNo.message})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Disposal Date\"}),/*#__PURE__*/_jsx(DatePicker,_objectSpread(_objectSpread({type:\"text\",name:\"disposalDate\"},register(\"disposalDate\")),{},{selected:disposalDate,onChange:function onChange(date){setDisposalDate(date);},dateFormat:\"dd/MM/yyyy\",className:\" -ml-2 pl-2 pr-2\"}))]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Disposal Remarks\"}),/*#__PURE__*/_jsx(\"textarea\",_objectSpread(_objectSpread({type:\"text\",name:\"disposalRemarks\"},register(\"disposalRemarks\")),{},{className:\"form-control py-0\"})),/*#__PURE__*/_jsx(\"div\",{className:\"text-red-500\",children:(_errors$disposalRemar=errors.disposalRemarks)===null||_errors$disposalRemar===void 0?void 0:_errors$disposalRemar.message})]})]})}),/*#__PURE__*/_jsx(Tab,{eventKey:\"page2\",title:\"Page 2\",className:\"h-120\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-0\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Web Id\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({type:\"text\",name:\"webId\"},register(\"webId\")),{},{className:\"form-control py-0\"})),/*#__PURE__*/_jsx(\"div\",{className:\"text-red-500\",children:(_errors$webId=errors.webId)===null||_errors$webId===void 0?void 0:_errors$webId.message})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Auditor Remarks\"}),/*#__PURE__*/_jsx(\"textarea\",_objectSpread(_objectSpread({type:\"text\",name:\"auditorRemarks\"},register(\"auditorRemarks\")),{},{readOnly:audRemReadOnly,className:\"form-control py-0\"})),/*#__PURE__*/_jsx(\"div\",{className:\"text-red-500\",children:(_errors$auditorRemark=errors.auditorRemarks)===null||_errors$auditorRemark===void 0?void 0:_errors$auditorRemark.message})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Aao Remarkss\"}),/*#__PURE__*/_jsx(\"textarea\",_objectSpread(_objectSpread({type:\"text\",name:\"aaoRemarks\"},register(\"aaoRemarks\")),{},{readOnly:aaoRemReadOnly,className:\"form-control py-0\"})),/*#__PURE__*/_jsx(\"div\",{className:\"text-red-500\",children:(_errors$aaoRemarks=errors.aaoRemarks)===null||_errors$aaoRemarks===void 0?void 0:_errors$aaoRemarks.message})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Ao Remarks\"}),/*#__PURE__*/_jsx(\"textarea\",_objectSpread(_objectSpread({type:\"text\",name:\"aoRemarks\"},register(\"aoRemarks\")),{},{readOnly:aoRemReadOnly,className:\"form-control py-0\"})),/*#__PURE__*/_jsx(\"div\",{className:\"text-red-500\",children:(_errors$aoRemarks=errors.aoRemarks)===null||_errors$aoRemarks===void 0?void 0:_errors$aoRemarks.message})]})]})}),/*#__PURE__*/_jsxs(Tab,{eventKey:\"contact\",title:\"Help\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Help\"}),/*#__PURE__*/_jsxs(\"ul\",{className:\"list-disc\",children:[/*#__PURE__*/_jsx(\"li\",{children:\"Fill required fields in both page 1 and page 2. Save only once.\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Dak field gets auto-filled on saving.\"})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"px-4 ...\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Save\"})})]})})});};export default withRouter(GrievanceEdit);","map":{"version":3,"sources":["/home/itsdcsec/falconws/falcon_face/src/components/GrievanceEdit.js"],"names":["useState","useEffect","withRouter","useParams","useHistory","useForm","axios","yup","yupResolver","LiveSearch","DatePicker","addDays","Tabs","Tab","schema","object","GrievanceEdit","resolver","register","handleSubmit","setValue","errors","formState","clearErrors","id","history","serverErrors","setServerErrors","entity","setEntity","state","setState","Date","startDate","setStartDate","grievanceDate","setGrievanceDate","referenceDate","setReferenceDate","disposalDate","setDisposalDate","key","setKey","mesg","setMesg","usrAction","setUsrAction","audRemReadOnly","setAudRemReadOnly","aaoRemReadOnly","setAaoRemReadOnly","aoRemReadOnly","setAoRemReadOnly","isCancelled","console","log","fetchData","record","get","then","response","data","catch","error","Error","fields","forEach","field","prev","action","onSubmit","event","preventDefault","put","push","post","status","headers","onError","e","parentData","dak","title","url","searchList","fkEntity","preload","unit","section","employee","callback","childData","fk","errorCallback","err","handleInputChange","k","message","grievanceSource","referenceNo","date","emailId","subject","grievanceBrief","disposalNo","disposalRemarks","webId","auditorRemarks","aaoRemarks","aoRemarks"],"mappings":"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","sourcesContent":["/**\n * Code generated using Python\n * @author Raja Reddy\n * Date : 17 Oct 2021\n *\n * Modified By : \n */\n\nimport { useState, useEffect } from \"react\";\nimport { withRouter, useParams, useHistory } from \"react-router-dom\";\nimport { useForm } from \"react-hook-form\";\nimport axios from 'axios';\nimport * as yup from \"yup\";\n\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport LiveSearch from '../utils/LiveSearch';\n\nimport DatePicker from 'react-datepicker';\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport addDays from 'date-fns/addDays'\n\nimport Tabs from 'react-bootstrap/Tabs'\nimport Tab from 'react-bootstrap/Tab'\n\n\nconst schema = yup.object({\n\t//cdaoNo: yup.string(),\n\t//grievanceSource: yup.string().required('Required'),\n\t//monthEnding: yup.string().required('Required'),\n\t//dak: yup.object().required('Required'),\n\t//unit: yup.object().required('Required'),\n/*\tsection: yup.object().required('Required'),\n\t//employee: yup.object().required('Required'),\n\t\n\tcheckDigit: yup.string().required('Required'),\n\twebId: yup.string().required('Required'),\n\t//emailId: yup.string().required('Required'),\n\tgrievanceDate: yup.string().required('Required'),\n\tsubject: yup.string().required('Required'),\n\treferenceNo: yup.string().required('Required'),\n\treferenceDate: yup.string().required('Required'),\n\tgrievanceBrief: yup.string().required('Required'),\n\tdisposalNo: yup.string().required('Required'),\n\tdisposalDate: yup.string().required('Required'),\n\tdisposalRemarks: yup.string().required('Required'),\n\tauditorRemarks: yup.string().required('Required'),\n\t//auditorDate: yup.string().required('Required'),\n\taaoRemarks: yup.string().required('Required'),\n\t//aaoDate: yup.string().required('Required'),\n\taoRemarks: yup.string().required('Required'),\n\t//aoDate: yup.string().required('Required'),\n\trecordStatus: yup.string().required('Required'),\n\tapproved: yup.boolean().required('Required'),\n\t*/\n\n});\n\n\nconst GrievanceEdit = () => {\n\tconst { register, handleSubmit, setValue, formState: { errors }, clearErrors } = useForm({\n\t\tresolver: yupResolver(schema)\n\t});\n\n\tlet { id } = useParams();\n\t//console.log(id);\n\n\tlet history = useHistory();\n\tconst [serverErrors, setServerErrors] = useState([]);\n\tconst [entity, setEntity] = useState({});\n\tconst [state, setState] = useState({});\n\tconst [startDate, setStartDate] = useState(new Date())\n\tconst [grievanceDate, setGrievanceDate] = useState(new Date());\n\tconst [referenceDate, setReferenceDate] = useState(new Date());\n\tconst [disposalDate, setDisposalDate] = useState(new Date());\n\tconst [key, setKey] = useState('page1');\n\tconst [mesg,setMesg]=useState('');\n\tconst [usrAction,setUsrAction]=useState('');\n\tconst [audRemReadOnly,setAudRemReadOnly]=useState(false);\n\tconst [aaoRemReadOnly,setAaoRemReadOnly]=useState(false);\n\tconst [aoRemReadOnly,setAoRemReadOnly]=useState(false);\n\n\n\n\n\tuseEffect(() => {\n\t\tlet isCancelled = false;\n\t\tconsole.log(id);\n\t\tif (id !== 'new') {\n\t\t\tasync function fetchData() {\n\t\t\t\tlet record = '';\n\t\t\t\tawait axios.get('/grievances/' + id)\n\t\t\t\t\t.then((response) => {\n\t\t\t\t\t\trecord = response.data;\n\t\t\t\t\t})\n\t\t\t\t\t.catch((error) => {\n\t\t\t\t\t\t//console.log(error);\n\t\t\t\t\t\t//console.log(error.response.status);\n\t\t\t\t\t\t//console.log(error.response.headers);\n\t\t\t\t\t\tif (error.response)\n\t\t\t\t\t\t\tsetServerErrors(error.response.data.error);\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tsetServerErrors(error.Error);\n\t\t\t\t\t});\n\n\t\t\t\tconst fields = [\n\t\t\t\t\t'id', 'grievanceSource', 'monthEnding', 'dak', 'unit', 'section', 'employee', 'cdaoNo',\n\t\t\t\t\t'checkDigit', 'webId', 'emailId', 'grievanceDate', 'subject', 'referenceNo', 'referenceDate',\n\t\t\t\t\t'grievanceBrief', 'disposalNo', 'disposalDate', 'disposalRemarks', 'auditorRemarks', 'auditorDate',\n\t\t\t\t\t'aaoRemarks', 'aaoDate', 'aoRemarks', 'aoDate', 'recordStatus', 'approved','action'\n\t\t\t\t];\n\t\t\t\t\n\t\t\t\tfields.forEach(field => setValue(field, record[field]));\n\t\t\t\tif (!isCancelled) {\n\t\t\t\t\tsetEntity(record);\n\t\t\t\t\tsetState(prev => ({ ...prev, state: record }));\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tsetUsrAction(record.action);\n\t\t\t\tconsole.log(usrAction+\"--\"+record['action']);\n\t\t\t\tif(usrAction==='Auditor'){\n\t\t\t\t\tsetAaoRemReadOnly(true);\n\t\t\t\t\tsetAoRemReadOnly(true);\n\t\t\t\t}\n\t\t\t\tif(usrAction==='AAO'){\n\t\t\t\t\tsetAudRemReadOnly(true);\n\t\t\t\t\tsetAoRemReadOnly(true);\n\t\t\t\t}\n\t\t\t\tif(usrAction==='AO'){\n\t\t\t\t\tsetAaoRemReadOnly(true);\n\t\t\t\t\tsetAudRemReadOnly(true);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfetchData();\n\t\t\treturn () => {\n\t\t\t\tisCancelled = true;\n\t\t\t};\n\t\t}\n\n\t}, []);\n\n\n\tconst onSubmit = (data, event) => {\n\t\tevent.preventDefault();\n\t\tconsole.log(data);\n\t\tif (data.id) {\n\t\t\taxios.put(\"/grievances/\" + data.id, data)\n\t\t\t\t.then((response) => {\n\t\t\t\t\thistory.push(\"/grievances\");\n\t\t\t\t })\n\t\t\t\t.catch((error) => {\n\t\t\t\t\t//console.log(error.response.data);\n\t\t\t\t\t//console.log(error.response.status);\n\t\t\t\t\t//console.log(error.response.headers);\n\t\t\t\t\tsetServerErrors(error.response.data)\n\t\t\t\t});\n\t\t} else {\n\t\t\taxios.post(\"/grievances\", data)\n\t\t\t\t.then((response) => {\n\t\t\t\t\thistory.push(\"/grievances\");\n\t\t\t\t })\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tconsole.log(error.response.data);\n\t\t\t\t\tconsole.log(error.response.status);\n\t\t\t\t\tconsole.log(error.response.headers);\n\t\t\t\t\tif (error.response)\n\t\t\t\t\t\tsetServerErrors(error.response.data);\n\t\t\t\t\telse\n\t\t\t\t\t\tsetServerErrors(error);\n\t\t\t\t});\n\t\t}\n\n\t\t\n\t}\n\n\tconst onError = (errors, e) => console.log(errors, e);\n\n\t//All foreign keys. \n\t// XXXXXX Add search fields and adjust the values as necessary\n\tconst parentData = {\n\n\t\tdak: {\n\t\t\ttitle: \"Dak\",\n\t\t\turl: \"daks\",\n\t\t\tsearchList: ['dakidNo'], //XXXXXXXXX Add search fields \n\t\t\tfkEntity: \"dak\",\n\t\t\tpreload: false, //XXXXXX Set this to true for small tables like designations\n\t\t},\n\t\tunit: {\n\t\t\ttitle: \"Unit\",\n\t\t\turl: \"units\",\n\t\t\tsearchList: ['unitCode', 'unitName'], //XXXXXXXXX Add search fields\n\t\t\tfkEntity: \"unit\",\n\t\t\tpreload: false, //XXXXXX Set this to true for small tables like designations\n\t\t},\n\t\tsection: {\n\t\t\ttitle: \"Section\",\n\t\t\turl: \"sections\",\n\t\t\tsearchList: ['sectionName'], //XXXXXXXXX Add search fields\n\t\t\tfkEntity: \"section\",\n\t\t\tpreload: false, //XXXXXX Set this to true for small tables like designations\n\t\t},\n\t\temployee: {\n\t\t\ttitle: \"Employee\",\n\t\t\turl: \"employees\",\n\t\t\tsearchList: ['cdaoNo', 'officerName'], //XXXXXXXXX Add search fields\n\t\t\tfkEntity: \"employee\",\n\t\t\tpreload: false, //XXXXXX Set this to true for small tables like designations\n\t\t},\n\t}\n\n\t//Callback for child components (Foreign Keys)\n\tconst callback = (childData) => {\n\t\t//console.log(\"Parent Callback\");\n\t\tsetEntity(prev => ({ ...prev, [childData.fk]: childData.entity }));\n\t\tsetValue(childData.fk, childData.entity);\n\t\t//console.log(errors);\n\t\tclearErrors(childData.fk);\n\t};\n\n\tconst errorCallback = (err) => {\n\t\t//console.log(err);\n\t\tsetServerErrors(err);\n\t}\n\n\tconst handleInputChange = (e) => {\n\t\t//console.log(e.target.value);\n\t};\n\n\treturn (\n\t\t<div className=\"max-w-xl mx-auto \">\n\t\t\t<div className=\"w-full w-3/4  mx-auto \" >\n\n\t\t\t\t<form onSubmit={handleSubmit(onSubmit, onError)}>\n\t\t\t\t\t<h1 >{id === 'new' ? 'Add' : 'Edit'} Grievance </h1>\n\t\t\t\t\t<div className=\"text-red-500\">{serverErrors}</div>\n\n\t\t\t\t\t<Tabs\n\t\t\t\t\t\tid=\"GrievanceEdit\"\n\t\t\t\t\t\tactiveKey={key}\n\t\t\t\t\t\tonSelect={(k) => setKey(k)}\n\t\t\t\t\t\tclassName=\"mb-3\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<Tab eventKey=\"page1\" title=\"Page 1\" className=\"h-120\">\n\t\t\t\t\t\t\t<div className=\"grid grid-cols-2 gap-0 \">\n\n\t\t\t\t\t\t\t<div >\n\t\t\t\t\t\t\t\t\t<LiveSearch name=\"section\" onChange={handleInputChange}\n\t\t\t\t\t\t\t\t\t\tparentData={parentData.section} parentCallback={callback}\n\t\t\t\t\t\t\t\t\t\tfkEntity={entity.section} errCallback={errorCallback} />\n\t\t\t\t\t\t\t\t\t<div className=\"text-red-500 \">{errors.section?.message}</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div >\n\t\t\t\t\t\t\t\t\t<LiveSearch name=\"employee\" onChange={handleInputChange}\n\t\t\t\t\t\t\t\t\t\tparentData={parentData.employee} parentCallback={callback}\n\t\t\t\t\t\t\t\t\t\tfkEntity={entity.employee} errCallback={errorCallback} />\n\t\t\t\t\t\t\t\t\t<div className=\"text-red-500 \">{errors.employee?.message}</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\n\n\t\t\t\t\t\t\t\t \n\n\n\t\t\t\t\t\t\t{/*\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<label>* CDAO No</label>\n\t\t\t\t\t\t\t\t\t<input type=\"text\" name=\"cdaoNo\" {...register(\"cdaoNo\")}\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-control py-0\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<div className=\"text-red-500\">{errors.cdaoNo?.message}</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\n\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<label>Check Digit</label>\n\t\t\t\t\t\t\t\t\t<input type=\"text\" name=\"checkDigit\" {...register(\"checkDigit\")}\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-control py-0\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<div className=\"text-red-500\">{errors.checkDigit?.message}</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t*/}\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<label>Grievance Source</label>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t<select name=\"grievanceSource\" {...register(\"grievanceSource\")} className=\"form-control py-0\">\n\t\t\t\t\t\t\t\t\t<option value=\"\">--select--</option>\n\t\t\t\t\t\t\t\t\t<option value=\"E\">e-mail</option>\n\t\t\t\t\t\t\t\t\t<option value=\"L\">Letter</option>\n\t\t\t\t\t\t\t\t\t<option value=\"W\">Web Portal</option>\n\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t \n\t\t\t\t\t\t\t\t\t<div className=\"text-red-500\">{errors.grievanceSource?.message}</div>\n\t\t\t\t\t\t\t\t</div>\n\n\n\t\t\t\t\t\t\t\t \n\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<label>Reference No</label>\n\t\t\t\t\t\t\t\t\t<input type=\"text\" name=\"referenceNo\" {...register(\"referenceNo\")}\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-control py-0\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<div className=\"text-red-500\">{errors.referenceNo?.message}</div>\n\t\t\t\t\t\t\t\t</div>\n\n\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<label>Reference Date</label>\n\t\t\t\t\t\t\t\t\t<DatePicker type=\"text\" name=\"referenceDate\" {...register(\"referenceDate\")}\n\t\t\t\t\t\t\t\t\t\tselected={referenceDate} onChange={(date) => setReferenceDate(date)}\n\t\t\t\t\t\t\t\t\t\tdateFormat=\"dd/MM/yyyy\"\n\t\t\t\t\t\t\t\t\t\tclassName=\" -ml-2 pl-2 pr-2\" />\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<label>Email Id</label>\n\t\t\t\t\t\t\t\t\t<input type=\"text\" name=\"emailId\" {...register(\"emailId\")}\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-control py-0\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<div className=\"text-red-500\">{errors.emailId?.message}</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<label>Grievance Date</label>\n\t\t\t\t\t\t\t\t\t<DatePicker type=\"text\" name=\"grievanceDate\" {...register(\"grievanceDate\")}\n\t\t\t\t\t\t\t\t\t\tselected={grievanceDate} onChange={(date) => setGrievanceDate(date)}\n\t\t\t\t\t\t\t\t\t\tdateFormat=\"dd/MM/yyyy\"\n\t\t\t\t\t\t\t\t\t\tclassName=\" -ml-2 pl-2 pr-2\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<label>Subject</label>\n\t\t\t\t\t\t\t\t\t<textarea type=\"text\" name=\"subject\" {...register(\"subject\")}\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-control py-0\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<div className=\"text-red-500\">{errors.subject?.message}</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t<div className=\"col-span-1 ...\">\n\t\t\t\t\t\t\t\t\t<label>Grievance Brief</label>\n\t\t\t\t\t\t\t\t\t<textarea type=\"text\" name=\"grievanceBrief\" {...register(\"grievanceBrief\")}\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-control py-0\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<div className=\"text-red-500\">{errors.grievanceBrief?.message}</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\n\n\t\t\t\t\t\t\t\t\t{/*\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t<div >\n\t\t\t\t\t\t\t\t\t<LiveSearch name=\"dak\" onChange={handleInputChange}\n\t\t\t\t\t\t\t\t\t\tparentData={parentData.dak} parentCallback={callback}\n\t\t\t\t\t\t\t\t\t\tfkEntity={entity.dak} errCallback={errorCallback} />\n\t\t\t\t\t\t\t\t\t<div className=\"text-red-500 \">{errors.dak?.message}</div>\n\t\t\t\t\t\t\t\t</div>\n*/}\t\n\n\t\t\t\t\t\t\t\t\n\n\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<label>Disposal No</label>\n\t\t\t\t\t\t\t\t\t<input type=\"text\" name=\"disposalNo\" {...register(\"disposalNo\")}\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-control py-0\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<div className=\"text-red-500\">{errors.disposalNo?.message}</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<label>Disposal Date</label>\n\t\t\t\t\t\t\t\t\t<DatePicker type=\"text\" name=\"disposalDate\" {...register(\"disposalDate\")}\n\t\t\t\t\t\t\t\t\t\tselected={disposalDate} onChange={(date) => { setDisposalDate(date); }}\n\t\t\t\t\t\t\t\t\t\tdateFormat=\"dd/MM/yyyy\"\n\t\t\t\t\t\t\t\t\t\tclassName=\" -ml-2 pl-2 pr-2\" />\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<label>Disposal Remarks</label>\n\t\t\t\t\t\t\t\t\t<textarea type=\"text\" name=\"disposalRemarks\" {...register(\"disposalRemarks\")}\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-control py-0\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<div className=\"text-red-500\">{errors.disposalRemarks?.message}</div>\n\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t</Tab>\n\n\n\t\t\t\t\t\t<Tab eventKey=\"page2\" title=\"Page 2\" className=\"h-120\">\n\t\t\t\t\t\t\t<div className=\"grid grid-cols-2 gap-0\">\n\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<label>Web Id</label>\n\t\t\t\t\t\t\t\t\t<input type=\"text\" name=\"webId\" {...register(\"webId\")}\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-control py-0\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<div className=\"text-red-500\">{errors.webId?.message}</div>\n\t\t\t\t\t\t\t\t</div>\n\n\n\n\t\t\t\t\t\t\t \n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<label>Auditor Remarks</label>\n\t\t\t\t\t\t\t\t\t<textarea type=\"text\" name=\"auditorRemarks\" {...register(\"auditorRemarks\")} readOnly={audRemReadOnly}\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-control py-0\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<div className=\"text-red-500\">{errors.auditorRemarks?.message}</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<label>Aao Remarkss</label>\n\t\t\t\t\t\t\t\t\t<textarea type=\"text\" name=\"aaoRemarks\" {...register(\"aaoRemarks\")} readOnly={aaoRemReadOnly}\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-control py-0\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<div className=\"text-red-500\">{errors.aaoRemarks?.message}</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<label>Ao Remarks</label>\n\t\t\t\t\t\t\t\t\t<textarea type=\"text\" name=\"aoRemarks\" {...register(\"aoRemarks\")} readOnly={aoRemReadOnly}\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-control py-0\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<div className=\"text-red-500\">{errors.aoRemarks?.message}</div>\n\t\t\t\t\t\t\t\t</div>\n\n\n\t\t\t\t\t\t\t\t{/*\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<label>Record Status</label>\n\t\t\t\t\t\t\t<input type=\"text\" name=\"recordStatus\" {...register(\"recordStatus\")}\n\t\t\t\t\t\t\t\tclassName=\"form-control py-0\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<div className=\"text-red-500\">{errors.recordStatus?.message}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t*/}\n\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t</Tab>\n\n\t\t\t\t\t\t<Tab eventKey=\"contact\" title=\"Help\" >\n\t\t\t\t\t\t\t<h1>Help</h1>\n\t\t\t\t\t\t\t<ul className=\"list-disc\">\n\t\t\t\t\t\t\t<li>Fill required fields in both page 1 and page 2. Save only once.</li>\n\t\t\t\t\t\t\t<li>Dak field gets auto-filled on saving.</li>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</Tab>\n\t\t\t\t\t</Tabs>\n\n\t\t\t\t\t<div className=\"px-4 ...\">\n\t\t\t\t\t\t<button type=\"submit\" >Save</button>\n\t\t\t\t\t</div>\n\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default withRouter(GrievanceEdit);"]},"metadata":{},"sourceType":"module"}