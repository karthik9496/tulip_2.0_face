{"ast":null,"code":"import _regeneratorRuntime from\"/home/itsdcsec/falconws/falcon_face/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/itsdcsec/falconws/falcon_face/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/itsdcsec/falconws/falcon_face/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";/**\n * Code generated using Python\n * @author Raja Reddy\n * Date : 17 Oct 2021\n *\n * Modified By :\n */import{useState}from\"react\";import{withRouter}from\"react-router-dom\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var IrlaDebitCsv=function IrlaDebitCsv(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),serverErrors=_useState2[0],setServerErrors=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),me=_useState4[0],setMe=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),disabled=_useState6[0],setDisabled=_useState6[1];var handleInputChange=function handleInputChange(e){setMe(e.target.value);};var generateCsv=function generateCsv(){setDisabled(true);function csvFile(){return _csvFile.apply(this,arguments);}function _csvFile(){_csvFile=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:axios.get(\"/ndcs/csv/irlaDebit/\".concat(me)).then(function(response){setDisabled(false);console.log(response.data);var fileList=response.data;fileList.map(function(file){return window.open(\"\".concat(process.env.REACT_APP_BASE_URL,\"/files/\").concat(file));});}).catch(function(error){setDisabled(false);if(error.response)setServerErrors(error.response.data.error);else setServerErrors(error.Error);});case 1:case\"end\":return _context.stop();}}},_callee);}));return _csvFile.apply(this,arguments);}csvFile();};return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-100 text-gray-900\",style:disabled?{pointerEvents:\"none\",opacity:\"0.4\"}:{},children:/*#__PURE__*/_jsx(\"main\",{className:\"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 pt-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\" \",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-semibold ml-4\",children:\"IRLA Debit CSV\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flexContainer\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"search\",placeholder:\"Month(mmyyyy)\",onChange:function onChange(e){return handleInputChange(e);},className:\"pl-2 -ml-2 inputField flex-initial\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",onClick:generateCsv,className:\"w-32 m-0 p-0\",children:\"Generate CSV\"})]})]})})});};export default withRouter(IrlaDebitCsv);","map":{"version":3,"sources":["/home/itsdcsec/falconws/falcon_face/src/components/IrlaDebitCsv.js"],"names":["useState","withRouter","axios","IrlaDebitCsv","serverErrors","setServerErrors","me","setMe","disabled","setDisabled","handleInputChange","e","target","value","generateCsv","csvFile","get","then","response","console","log","data","fileList","map","file","window","open","process","env","REACT_APP_BASE_URL","catch","error","Error","pointerEvents","opacity"],"mappings":"2cAAA;AACA;AACA;AACA;AACA;AACA;AACA,GAEA,OAASA,QAAT,KAAyB,OAAzB,CACA,OAASC,UAAT,KAA2B,kBAA3B,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,wFAEA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,eACeH,QAAQ,CAAC,EAAD,CADvB,wCAClBI,YADkB,eACJC,eADI,8BAGLL,QAAQ,CAAC,EAAD,CAHH,yCAGlBM,EAHkB,eAGdC,KAHc,8BAIOP,QAAQ,CAAC,KAAD,CAJf,yCAIlBQ,QAJkB,eAIRC,WAJQ,eAMzB,GAAMC,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,CAACC,CAAD,CAAO,CAC/BJ,KAAK,CAACI,CAAC,CAACC,MAAF,CAASC,KAAV,CAAL,CACD,CAFD,CAIA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CACxBL,WAAW,CAAC,IAAD,CAAX,CADwB,QAETM,CAAAA,OAFS,+HAExB,mIACEb,KAAK,CACFc,GADH,+BAC8BV,EAD9B,GAEGW,IAFH,CAEQ,SAACC,QAAD,CAAc,CAClBT,WAAW,CAAC,KAAD,CAAX,CACAU,OAAO,CAACC,GAAR,CAAYF,QAAQ,CAACG,IAArB,EAEA,GAAIC,CAAAA,QAAQ,CAAGJ,QAAQ,CAACG,IAAxB,CACAC,QAAQ,CAACC,GAAT,CAAa,SAACC,IAAD,QACXC,CAAAA,MAAM,CAACC,IAAP,WAAeC,OAAO,CAACC,GAAR,CAAYC,kBAA3B,mBAAuDL,IAAvD,EADW,EAAb,EAGD,CAVH,EAWGM,KAXH,CAWS,SAACC,KAAD,CAAW,CAChBtB,WAAW,CAAC,KAAD,CAAX,CACA,GAAIsB,KAAK,CAACb,QAAV,CAAoBb,eAAe,CAAC0B,KAAK,CAACb,QAAN,CAAeG,IAAf,CAAoBU,KAArB,CAAf,CAApB,IACK1B,CAAAA,eAAe,CAAC0B,KAAK,CAACC,KAAP,CAAf,CACN,CAfH,EADF,sDAFwB,0CAoBxBjB,OAAO,GACR,CArBD,CAuBA,mBACE,YACE,SAAS,CAAC,wCADZ,CAEE,KAAK,CAAEP,QAAQ,CAAG,CAAEyB,aAAa,CAAE,MAAjB,CAAyBC,OAAO,CAAE,KAAlC,CAAH,CAA+C,EAFhE,uBAIE,aAAM,SAAS,CAAC,6CAAhB,uBACE,aAAK,SAAS,CAAC,GAAf,wBACE,WAAI,SAAS,CAAC,6BAAd,4BADF,cAEE,aAAK,SAAS,CAAC,eAAf,wBACE,cACE,IAAI,CAAC,MADP,CAEE,IAAI,CAAC,QAFP,CAGE,WAAW,CAAC,eAHd,CAIE,QAAQ,CAAE,kBAACvB,CAAD,QAAOD,CAAAA,iBAAiB,CAACC,CAAD,CAAxB,EAJZ,CAKE,SAAS,CAAC,oCALZ,EADF,cAQE,eACE,IAAI,CAAC,QADP,CAEE,OAAO,CAAEG,WAFX,CAGE,SAAS,CAAC,cAHZ,0BARF,GAFF,GADF,EAJF,EADF,CA4BD,CA7DD,CA+DA,cAAeb,CAAAA,UAAU,CAACE,YAAD,CAAzB","sourcesContent":["/**\n * Code generated using Python\n * @author Raja Reddy\n * Date : 17 Oct 2021\n *\n * Modified By :\n */\n\nimport { useState } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport axios from \"axios\";\n\nconst IrlaDebitCsv = () => {\n  const [serverErrors, setServerErrors] = useState([]);\n\n  const [me, setMe] = useState(\"\");\n  const [disabled, setDisabled] = useState(false);\n\n  const handleInputChange = (e) => {\n    setMe(e.target.value);\n  };\n\n  const generateCsv = () => {\n    setDisabled(true);\n    async function csvFile() {\n      axios\n        .get(`/ndcs/csv/irlaDebit/${me}`)\n        .then((response) => {\n          setDisabled(false);\n          console.log(response.data);\n\n          let fileList = response.data;\n          fileList.map((file) =>\n            window.open(`${process.env.REACT_APP_BASE_URL}/files/${file}`)\n          );\n        })\n        .catch((error) => {\n          setDisabled(false);\n          if (error.response) setServerErrors(error.response.data.error);\n          else setServerErrors(error.Error);\n        });\n    }\n    csvFile();\n  };\n\n  return (\n    <div\n      className=\"min-h-screen bg-gray-100 text-gray-900\"\n      style={disabled ? { pointerEvents: \"none\", opacity: \"0.4\" } : {}}\n    >\n      <main className=\"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 pt-4\">\n        <div className=\" \">\n          <h1 className=\"text-2xl font-semibold ml-4\">IRLA Debit CSV</h1>\n          <div className=\"flexContainer\">\n            <input\n              type=\"text\"\n              name=\"search\"\n              placeholder=\"Month(mmyyyy)\"\n              onChange={(e) => handleInputChange(e)}\n              className=\"pl-2 -ml-2 inputField flex-initial\"\n            />\n            <button\n              type=\"submit\"\n              onClick={generateCsv}\n              className=\"w-32 m-0 p-0\"\n            >\n              Generate CSV\n            </button>\n          </div>\n        </div>\n      </main>\n    </div>\n  );\n};\n\nexport default withRouter(IrlaDebitCsv);\n"]},"metadata":{},"sourceType":"module"}