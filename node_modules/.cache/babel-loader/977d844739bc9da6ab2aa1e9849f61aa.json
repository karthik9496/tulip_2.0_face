{"ast":null,"code":"import _toConsumableArray from\"/home/itsdcsec/falconws/falcon_face/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _regeneratorRuntime from\"/home/itsdcsec/falconws/falcon_face/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/itsdcsec/falconws/falcon_face/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/itsdcsec/falconws/falcon_face/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";/**\n * Code generated using Python\n * @author Raja Reddy\n * Date : 17 Oct 2021\n *\n * Modified By : \n */import{useState,useEffect,useMemo}from'react';import Table,{SelectColumnFilter}from'../utils/Table';// \nimport axios from\"axios\";import{withRouter,Link,useLocation}from\"react-router-dom\";import TablePage from'../utils/TablePage';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function LicMaturityTransactionList(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),update=_useState4[0],setUpdate=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),serverErrors=_useState6[0],setServerErrors=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),search=_useState8[0],setSearch=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),inputText=_useState10[0],setInputText=_useState10[1];var _useState11=useState(0),_useState12=_slicedToArray(_useState11,2),page=_useState12[0],setPage=_useState12[1];var _useState13=useState(0),_useState14=_slicedToArray(_useState13,2),pageSize=_useState14[0],setPageSize=_useState14[1];var _useState15=useState(0),_useState16=_slicedToArray(_useState15,2),usrLevel=_useState16[0],setUsrLevel=_useState16[1];var _useState17=useState(''),_useState18=_slicedToArray(_useState17,2),mesg=_useState18[0],setMesg=_useState18[1];var _useLocation=useLocation(),state=_useLocation.state;var _useState19=useState(''),_useState20=_slicedToArray(_useState19,2),cdaoNo=_useState20[0],setCdaoNo=_useState20[1];var _useState21=useState(''),_useState22=_slicedToArray(_useState21,2),batch=_useState22[0],setBatch=_useState22[1];var _useState23=useState(''),_useState24=_slicedToArray(_useState23,2),mroDakId=_useState24[0],setMroDakId=_useState24[1];var _useState25=useState(false),_useState26=_slicedToArray(_useState25,2),disabled=_useState26[0],setDisabled=_useState26[1];useEffect(function(){var fetching=false;function fetchData(){return _fetchData.apply(this,arguments);}function _fetchData(){_fetchData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!fetching)console.log(\">>>Uplaod File Name==:\"+state);_context.next=3;return axios.get(\"/licMaturityTransactions?batch=\"+batch+\"&cdaoNo=\"+cdaoNo+\"&mroDakId=\"+mroDakId).then(function(response){setData(response.data);}).catch(function(error){//console.log(error);\n//console.log(error.response.status);\n//console.log(error.response.headers);\nif(error.response)setServerErrors(error.response.data.error);else setServerErrors(error.Error);});case 3:case\"end\":return _context.stop();}}},_callee);}));return _fetchData.apply(this,arguments);}fetchData();return function(){fetching=true;};},[batch,cdaoNo]);useEffect(function(){var fetching=false;function fetchMroData(){return _fetchMroData.apply(this,arguments);}function _fetchMroData(){_fetchMroData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(fetching){_context2.next=3;break;}_context2.next=3;return axios.get(\"/licMaturityTransactions/mroData/\".concat(mroDakId)).then(function(response){console.log(mroDakId);}).catch(function(error){//console.log(error);\n//console.log(error.response.status);\n//console.log(error.response.headers);\nif(error.response)setServerErrors(error.response.data.error);else setServerErrors(error.Error);});case 3:case\"end\":return _context2.stop();}}},_callee2);}));return _fetchMroData.apply(this,arguments);}fetchMroData();return function(){fetching=true;};},[mroDakId]);useEffect(function(){var fetching=false;function fetchUsrData(){return _fetchUsrData.apply(this,arguments);}function _fetchUsrData(){_fetchUsrData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:if(!fetching)console.log(\">>>>Usr Level is -----:\"+usrLevel);_context3.next=3;return axios.get(\"/licMaturityTransactions/userDesg\").then(function(response){console.log(\">>>>Usr Level is----:\"+response.data);setUsrLevel(response.data);}).catch(function(error){//console.log(error);\n//console.log(error.response.status);\n//console.log(error.response.headers);\nif(error.response)setServerErrors(error.response.data.error);else setServerErrors(error.Error);});case 3:case\"end\":return _context3.stop();}}},_callee3);}));return _fetchUsrData.apply(this,arguments);}fetchUsrData();return function(){fetching=true;};},[]);function submitBulk(){return _submitBulk.apply(this,arguments);}function _submitBulk(){_submitBulk=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){var i,selectedList,mrodak;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:console.log(\">>>>>Demand List----:\"+data+\"==\"+mroDakId);i=0;selectedList=[];mrodak=null;for(i=0;i<data.length;i++){if(data[i].select!==null&&data[i].select===true)selectedList.push(data[i]);}console.log(selectedList);if(!(selectedList.length===0)){_context4.next=9;break;}alert(\"No selection done.\");return _context4.abrupt(\"return\");case 9:if(selectedList[0].mroDakId!=null&&selectedList[0].mroDakId.length>0){mrodak=selectedList[0].mroDakId;setMroDakId(selectedList[0].mroDakId);}console.log(mrodak);console.log(mroDakId);if(!(mrodak===null&&(mroDakId===null||mroDakId!==null&&mroDakId.length===0))){_context4.next=15;break;}alert(\"Please update MRO Dak Id\");return _context4.abrupt(\"return\");case 15:if(!disabled){_context4.next=17;break;}return _context4.abrupt(\"return\");case 17:setDisabled(true);if(!(mrodak!==null)){_context4.next=23;break;}_context4.next=21;return axios.put(\"/licMaturityTransactions/bulkSubmitMaturity/\".concat(mrodak),selectedList).then(function(response){setDisabled(false);setMesg(response.data);//\tsetFundList([]);\nsetData([]);}).catch(function(error){//\tconsole.log(error);\n//console.log(error.response.status);\n//console.log(error.response.headers);\nif(error.response)setServerErrors(error.response.data.error);else setServerErrors(error.Error);});case 21:_context4.next=26;break;case 23:if(!(mroDakId!==null)){_context4.next=26;break;}_context4.next=26;return axios.put(\"/licMaturityTransactions/bulkSubmitMaturity/\".concat(mroDakId),selectedList).then(function(response){setDisabled(false);setMesg(response.data);//\tsetFundList([]);\nsetData([]);}).catch(function(error){//\tconsole.log(error);\n//console.log(error.response.status);\n//console.log(error.response.headers);\nif(error.response)setServerErrors(error.response.data.error);else setServerErrors(error.Error);});case 26:case\"end\":return _context4.stop();}}},_callee4);}));return _submitBulk.apply(this,arguments);}function approveBulk(){return _approveBulk.apply(this,arguments);}function _approveBulk(){_approveBulk=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(){return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:if(!disabled){_context5.next=2;break;}return _context5.abrupt(\"return\");case 2:setDisabled(true);_context5.next=5;return axios.put(\"/licMaturityTransactions/bulkApproveMaturity\",data).then(function(response){setMesg(response.data);console.log(\"reponse status--------------\"+response.status);//\tsetFundList([]);\nsetData([]);setDisabled(false);}).catch(function(error){//\tconsole.log(error);\n//console.log(error.response.status);\n//console.log(error.response.headers);\nif(error.response)setServerErrors(error.response.data.error);else setServerErrors(error.Error);});case 5:case\"end\":return _context5.stop();}}},_callee5);}));return _approveBulk.apply(this,arguments);}var updateCheckBoxAll=function updateCheckBoxAll(e){// console.log(\"...\"+e.target.checked+\"--\"+index);\nvar newData=_toConsumableArray(data);for(var k in newData){newData[k].select=e.target.checked;}setData(newData);};var handleCheckBox=function handleCheckBox(index){return function(e){//console.log(Table.page)\nconsole.log(e.target.checked+\"--\"+index);console.log(e.target.checked);var item=data[index];item['select']=e.target.checked;var newData=_toConsumableArray(data);newData[index]=item;setData(newData);};};var columns=useMemo(function(){return[{Header:/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",onChange:updateCheckBoxAll}),accessor:\"select\",Cell:function Cell(_ref){var row=_ref.row;return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",onChange:handleCheckBox(row.index),checked:data[row.index]['select']})});}},{Header:'Action',Cell:function Cell(_ref2){var row=_ref2.row;return/*#__PURE__*/_jsxs(\"div\",{children:[row.original.action!=null&&row.original.action.includes(\"edit\")&&/*#__PURE__*/_jsx(Link,{to:\"/licMaturityTransactions/\"+row.original.id,children:/*#__PURE__*/_jsx(\"button\",{className:\" w-16 m-0 p-0 \",children:\" Edit \"})}),' ']});}},{Header:\"Dak\",accessor:'dak.dakidNo'// Change this\n},{Header:\"MRO Dak\",accessor:'mroDakId'// Change this\n},{Header:\"Cdao No\",accessor:'cdaoNo',Cell:function Cell(_ref3){var row=_ref3.row;return/*#__PURE__*/_jsxs(\"div\",{children:[row.original.employee!=null&&/*#__PURE__*/_jsxs(\"label\",{children:[\" \",row.original.employee.officerName,':',row.original.employee.cdaoNo,row.original.employee.checkDigit]}),row.original.employee!=null&&row.original.employee.rank!=null&&/*#__PURE__*/_jsx(\"label\",{children:row.original.employee.rank.rankName})]});}},{Header:\"Upload File\",accessor:'uploadFileName'},{Header:\"Policy No\",accessor:'policyNo'},{Header:\"Maturity Amount\",accessor:'maturityAmount'},{Header:\"Date of Commencement\",accessor:'dateOfCommencementPolicy'},{Header:\"Demand Intimation Memo\",accessor:'demandIntimationNo'},{Header:\"Month Ending\",accessor:'monthEnding'// Change this\n},{Header:\"Auditor Date\",accessor:'auditorDate'},{Header:\"Aao Date\",accessor:'aaoDate'},{Header:\"Ao Date\",accessor:'aoDate'},{Header:\"Approved\",accessor:'approved',Cell:function Cell(_ref4){var row=_ref4.row;return/*#__PURE__*/_jsx(\"div\",{children:data[row.index]['approved']===true?'Y':'N'});}},{Header:\"Record Status\",accessor:'recordStatus'},{Header:\"Reason\",accessor:'reason'},{Header:\"Remarks\",accessor:'remarks'}];},[data]);var handleSubmit=function handleSubmit(event){event.preventDefault();console.log(inputText);setSearch(inputText);};var handleKeyPress=function handleKeyPress(event){// look for the `Enter` keyCode\nif(event.keyCode===13||event.which===13){handleSubmit(event);}};var handleP=function handleP(pp){console.log(pp);setPage(pp);};var handlePageSize=function handlePageSize(pp){console.log(pp);setPageSize(pp);};return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-100 text-gray-900\",children:/*#__PURE__*/_jsx(\"main\",{className:\"max-w-8xl mx-auto px-4 sm:px-6 lg:px-8 pt-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2 ml-4\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-xl font-semibold\",children:\"Lic Maturity Transactions\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-red-500\",children:mesg}),/*#__PURE__*/_jsxs(\"div\",{className:\"flexContainer\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"batch\",placeholder:\"file name\",onChange:function onChange(e){return setBatch(e.target.value);},className:\"pl-2 -ml-2 inputField flex-initial\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"cdaoNo\",placeholder:\"Cdao No\",onChange:function onChange(e){return setCdaoNo(e.target.value);},className:\"pl-2 -ml-2 inputField flex-initial\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",onClick:handleSubmit,className:\"w-16 m-0 p-0\",children:\"Search\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"-mt-2 max-h-1 py-0 ml-0\",children:[/*#__PURE__*/_jsx(TablePage,{columns:columns,data:data,newpage:page,parentCallback:handleP,newPageSize:pageSize,parentCallbackPageSize:handlePageSize,className:\"table-auto\"}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"mroDakId\",placeholder:\"update MRO DakId\",onBlur:function onBlur(e){return setMroDakId(e.target.value);},className:\"pl-2 -ml-2 inputField flex-initial\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[(usrLevel===30||usrLevel<30)&&/*#__PURE__*/_jsxs(\"button\",{type:\"button\",onClick:submitBulk,disabled:disabled,className:\"w-36 m-2 p-0\",children:[disabled&&/*#__PURE__*/_jsx(\"span\",{className:\"spinner-grow spinner-grow-sm\"}),\" Submit Selected Records\"]}),usrLevel>30&&/*#__PURE__*/_jsxs(\"button\",{type:\"button\",onClick:approveBulk,disabled:disabled,className:\"w-36 m-2 p-0\",children:[disabled&&/*#__PURE__*/_jsx(\"span\",{className:\"spinner-grow spinner-grow-sm\"}),\" Approve Selected Records\"]})]})]})]})})});}export default withRouter(LicMaturityTransactionList);","map":{"version":3,"sources":["/home/itsdcsec/falconws/falcon_face/src/components/LicMaturityTransactionList.js"],"names":["useState","useEffect","useMemo","Table","SelectColumnFilter","axios","withRouter","Link","useLocation","TablePage","LicMaturityTransactionList","data","setData","update","setUpdate","serverErrors","setServerErrors","search","setSearch","inputText","setInputText","page","setPage","pageSize","setPageSize","usrLevel","setUsrLevel","mesg","setMesg","state","cdaoNo","setCdaoNo","batch","setBatch","mroDakId","setMroDakId","disabled","setDisabled","fetching","fetchData","console","log","get","then","response","catch","error","Error","fetchMroData","fetchUsrData","submitBulk","i","selectedList","mrodak","length","select","push","alert","put","approveBulk","status","updateCheckBoxAll","e","newData","k","target","checked","handleCheckBox","index","item","columns","Header","accessor","Cell","row","original","action","includes","id","employee","officerName","checkDigit","rank","rankName","handleSubmit","event","preventDefault","handleKeyPress","keyCode","which","handleP","pp","handlePageSize","value"],"mappings":"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","sourcesContent":["/**\n * Code generated using Python\n * @author Raja Reddy\n * Date : 17 Oct 2021\n *\n * Modified By : \n */\n\nimport { useState, useEffect, useMemo } from 'react';\nimport Table, { SelectColumnFilter } from '../utils/Table'  // \nimport axios from \"axios\";\nimport { withRouter, Link ,useLocation } from \"react-router-dom\";\nimport TablePage from '../utils/TablePage';\n\nfunction LicMaturityTransactionList() {\n\n\tconst [data, setData] = useState([]);\n\tconst [update, setUpdate] = useState(false);\n\tconst [serverErrors, setServerErrors] = useState([]);\n\tconst [search, setSearch] = useState(\"\");\n\tconst [inputText, setInputText] = useState('');\n\t const [page,setPage]=useState(0);\n\t  const [pageSize, setPageSize] = useState(0);\n\t  const[usrLevel,setUsrLevel]=useState(0);\n\t  const[mesg,setMesg]=useState('');\n\t  const {state}=useLocation();\n\t   const [cdaoNo,setCdaoNo]=useState('');\n\t   const [batch,setBatch]=useState('');\n\t   const [mroDakId,setMroDakId]=useState('');\n\t   const [disabled,setDisabled]=useState(false);\n\n\t \n\tuseEffect(() => {\n\t\tlet fetching = false;\n\t\tasync function fetchData() {\n\t\t\tif(!fetching)\n\t\t\tconsole.log(\">>>Uplaod File Name==:\" + state); \n\t\t\tawait axios.get(`/licMaturityTransactions?batch=`+batch+`&cdaoNo=`+cdaoNo+`&mroDakId=`+mroDakId)\n\t\t\t\t.then((response) => {\n\t\t\t\t\tsetData(response.data);\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\t//console.log(error);\n\t\t\t\t\t//console.log(error.response.status);\n\t\t\t\t\t//console.log(error.response.headers);\n\t\t\t\t\tif (error.response)\n\t\t\t\t\t\tsetServerErrors(error.response.data.error);\n\t\t\t\t\telse\n\t\t\t\t\t\tsetServerErrors(error.Error);\n\t\t\t\t})\n\t\t}\n\t\tfetchData();\n\t\treturn () => { fetching = true; }\n\n\t}, [batch,cdaoNo]);\n\t\n\tuseEffect(() => {\n\t\tlet fetching = false;\n\t\tasync function fetchMroData() {\n\t\t\tif(!fetching)\n\t\t\t \n\t\t\tawait axios.get(`/licMaturityTransactions/mroData/${mroDakId}`)\n\t\t\t\t.then((response) => {\n\t\t\t\t\tconsole.log(mroDakId);\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\t//console.log(error);\n\t\t\t\t\t//console.log(error.response.status);\n\t\t\t\t\t//console.log(error.response.headers);\n\t\t\t\t\tif (error.response)\n\t\t\t\t\t\tsetServerErrors(error.response.data.error);\n\t\t\t\t\telse\n\t\t\t\t\t\tsetServerErrors(error.Error);\n\t\t\t\t})\n\t\t}\n\t\tfetchMroData();\n\t\treturn () => { fetching = true; }\n\n\t}, [mroDakId]);\n\t\n\t\n\tuseEffect(() => {\n\t\tlet fetching = false;\n\t\tasync function fetchUsrData() {\n\t\t\tif(!fetching)\n\t\t\tconsole.log(\">>>>Usr Level is -----:\" + usrLevel);\n\t\t\tawait axios.get(`/licMaturityTransactions/userDesg`)\n\t\t\t\t.then((response) => {\n\t\t\t\t\tconsole.log(\">>>>Usr Level is----:\" + response.data);\n\t\t\t\t\tsetUsrLevel(response.data);\n\t\t\t\t\t\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\t//console.log(error);\n\t\t\t\t\t//console.log(error.response.status);\n\t\t\t\t\t//console.log(error.response.headers);\n\t\t\t\t\tif (error.response)\n\t\t\t\t\t\tsetServerErrors(error.response.data.error);\n\t\t\t\t\telse\n\t\t\t\t\t\tsetServerErrors(error.Error);\n\t\t\t\t})\n\t\t}\n\t\tfetchUsrData();\n\t\treturn () => { fetching = true; }\n\n\t}, []);\n\t\n\t \n\t\n\tasync function submitBulk() {\n\t\tconsole.log(\">>>>>Demand List----:\" + data+\"==\"+mroDakId);\n\t\tlet i=0;\n\t\tvar selectedList=[];\n\t\tvar mrodak=null;\n\t\tfor(i=0;i<data.length;i++){\n\t\t\tif(data[i].select!==null && data[i].select===true)\n\t\t\t\tselectedList.push(data[i]);\n\t\t}\n\t\tconsole.log(selectedList);\n\t\t\n\t\tif(selectedList.length===0){\n\t\t\talert(\"No selection done.\");\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tif(selectedList[0].mroDakId!=null && selectedList[0].mroDakId.length>0){\n\t\t\t\n\t\t\t\n\t\t\tmrodak=selectedList[0].mroDakId;\n\t\t\tsetMroDakId(selectedList[0].mroDakId);\n\t\t}\n\t\tconsole.log(mrodak);\n\t\tconsole.log(mroDakId);\n\t\t\n\t\tif(mrodak===null && (mroDakId===null || (mroDakId!==null && mroDakId.length===0))){\n\t\t\talert(\"Please update MRO Dak Id\");\n\t\t\treturn;\n\t\t}\n\t\tif(disabled)\n\t\t\treturn;\n\t\t\t\n\t\t\tsetDisabled(true);\n\t\tif(mrodak!==null){\n\t\t\tawait axios.put(`/licMaturityTransactions/bulkSubmitMaturity/${mrodak}`, selectedList)\n\t\t\t.then((response) => {\n\t\t\t\tsetDisabled(false);\n\t\t\tsetMesg(response.data);\n\t\t\t//\tsetFundList([]);\n\t\t\tsetData([]);\n\t\t\t\t\n\t\t\t\t \n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t//\tconsole.log(error);\n\t\t\t\t//console.log(error.response.status);\n\t\t\t\t//console.log(error.response.headers);\n\t\t\t\tif (error.response)\n\t\t\t\t\tsetServerErrors(error.response.data.error);\n\t\t\t\telse\n\t\t\t\t\tsetServerErrors(error.Error);\n\t\t\t});\n\t\t}else if(mroDakId!==null){\n\t\tawait axios.put(`/licMaturityTransactions/bulkSubmitMaturity/${mroDakId}`, selectedList)\n\t\t\t.then((response) => {\n\t\t\t\tsetDisabled(false);\n\t\t\tsetMesg(response.data);\n\t\t\t//\tsetFundList([]);\n\t\t\tsetData([]);\n\t\t\t\t\n\t\t\t\t \n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t//\tconsole.log(error);\n\t\t\t\t//console.log(error.response.status);\n\t\t\t\t//console.log(error.response.headers);\n\t\t\t\tif (error.response)\n\t\t\t\t\tsetServerErrors(error.response.data.error);\n\t\t\t\telse\n\t\t\t\t\tsetServerErrors(error.Error);\n\t\t\t});\n\t\t\t}\n\t}\n\t\n\tasync function approveBulk() {\n\t\t//console.log(\">>>>>Demand List----:\" + data);\n\t\tif(disabled)\n\t\t\treturn;\n\t\t\t\n\t\t\tsetDisabled(true);\n\t\tawait axios.put(`/licMaturityTransactions/bulkApproveMaturity`, data)\n\t\t\t.then((response) => {\n\t\t\t\tsetMesg(response.data);\n\t\t\t\tconsole.log(\"reponse status--------------\"+response.status);\n\t\t\t//\tsetFundList([]);\n\t\t\t setData([]);\n\t\t\t setDisabled(false);\n\t\t\t\t \n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t//\tconsole.log(error);\n\t\t\t\t//console.log(error.response.status);\n\t\t\t\t//console.log(error.response.headers);\n\t\t\t\tif (error.response)\n\t\t\t\t\tsetServerErrors(error.response.data.error);\n\t\t\t\telse\n\t\t\t\t\tsetServerErrors(error.Error);\n\t\t\t});\n\t}\n\tconst updateCheckBoxAll = (e) =>{\n\t\t  // console.log(\"...\"+e.target.checked+\"--\"+index);\n\t\t   \n\t\t\t  let newData=[...data];\n\t\t\tfor(var k in newData){\n\t\t\t\tnewData[k].select=e.target.checked;\n\t\t\t}\n\t\t\tsetData(newData);\n\t\t \n\t\t \n\t} \n\tconst handleCheckBox = index=>(e) =>{\n\t\t//console.log(Table.page)\n\t\t   console.log(e.target.checked+\"--\"+index);\n\t\t\t \n\t\t\t\n\t\t\t  \n\t\t   console.log(e.target.checked);\n\t\t\tlet item = data[index];\n\t\t \n\t\titem['select'] = e.target.checked;\n\t\tlet newData = [...data];\n\t\tnewData[index] = item;\n\t\tsetData(newData);\n\t\t \n\t\t \n\t\t \n\t}\n\tconst columns = useMemo(() => [\n\t\t\t\t{\n\t\t\tHeader:  <input type=\"checkbox\" onChange={updateCheckBoxAll}/>,\n\t\t\t\taccessor : \"select\",\t\n\t\t\tCell: ({ row }) => (\n\t\t\t\t<div>\n\t\t\t\t\t \n\t\t\t\t\t<input type=\"checkbox\" onChange={handleCheckBox(row.index)} checked={data[row.index]['select']}  />\n\t\t\t\t\t\t \n\t\t\t\t\t \n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t)\n\t\t\t \n\t\t},\n\t\t\n\t\t\n\t\t{\n\t\t\tHeader: 'Action',\n\t\t\tCell: ({ row }) => (\n\t\t\t\t<div>\n\t\t\t\t\t {row.original.action!=null && row.original.action.includes(\"edit\") &&\n\t\t\t\t\t<Link to={\"/licMaturityTransactions/\" + row.original.id}>\n\t\t\t\t\t\t<button className=\" w-16 m-0 p-0 \" > Edit </button>\n\t\t\t\t\t</Link>\n\t\t\t\t\t}\n\t\t\t\t\t{' '}\n\t\t\t\t\t \n\t\t\t\t</div>\n\t\t\t)\n\t\t},\n\t\t{\n\t\t\tHeader: \"Dak\",\n\t\t\taccessor: 'dak.dakidNo',// Change this\n\t\t},\n\t\t{\n\t\t\tHeader: \"MRO Dak\",\n\t\t\taccessor: 'mroDakId',// Change this\n\t\t},\n\t\t{\n\t\t\tHeader: \"Cdao No\",\n\t\t\taccessor: 'cdaoNo',\n\t\t\t\tCell: ({ row }) => (\n\t\t\t\t<div>\n\t\t\t\t\t {row.original.employee!=null &&\n\t\t\t\t\t \n\t\t\t\t\t <label> {row.original.employee.officerName}{':'}{row.original.employee.cdaoNo}{row.original.employee.checkDigit}</label>\n\t\t\t\t\t \n\t\t\t\t\t}\n\t\t\t\t\t{row.original.employee!=null && row.original.employee.rank!=null &&\n\t\t\t\t\t<label>{row.original.employee.rank.rankName}</label>\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t \n\t\t\t\t</div>\n\t\t\t)\n\t\t},\n\t\t\n\t {\n\t\t\tHeader: \"Upload File\",\n\t\t\taccessor: 'uploadFileName',\n\t\t},\n\t\t{\n\t\t\tHeader: \"Policy No\",\n\t\t\taccessor: 'policyNo',\n\t\t},\n\t\t\n\t\t{\n\t\t\tHeader: \"Maturity Amount\",\n\t\t\taccessor: 'maturityAmount',\n\t\t},\n\t\t{\n\t\t\tHeader: \"Date of Commencement\",\n\t\t\taccessor: 'dateOfCommencementPolicy',\n\t\t}, \n\t\t\n\t\t {\n\t\t\tHeader: \"Demand Intimation Memo\",\n\t\t\taccessor: 'demandIntimationNo',\n\t\t}, \n\t\t \n\t\t\n\t\t{\n\t\t\tHeader: \"Month Ending\",\n\t\t\taccessor: 'monthEnding',// Change this\n\t\t},\n\t\t\n\t\t \n\t\t{\n\t\t\tHeader: \"Auditor Date\",\n\t\t\taccessor: 'auditorDate',\n\t\t},\n\t\t\n\t\t{\n\t\t\tHeader: \"Aao Date\",\n\t\t\taccessor: 'aaoDate',\n\t\t},\n\t\t\n\t\t{\n\t\t\tHeader: \"Ao Date\",\n\t\t\taccessor: 'aoDate',\n\t\t},\n\t\t\n\t\t{\n\t\t\tHeader: \"Approved\",\n\t\t\taccessor: 'approved',\n\t\t\tCell: ({ row }) => (\n\t\t\t\t<div>\n\t\t\t\t\n\t\t\t\t\t {data[row.index]['approved'] === true ? 'Y' : 'N'}\n\t\t\t\t</div>\n\t\t\t)\n\t\t},\n\t\t\n\t\t\n\t\t{\n\t\t\tHeader: \"Record Status\",\n\t\t\taccessor: 'recordStatus',\n\t\t},\n\t\t\n\t\t\n\t\t\n\t\t{\n\t\t\tHeader: \"Reason\",\n\t\t\taccessor: 'reason',\n\t\t},\n\t\t\n\t\t{\n\t\t\tHeader: \"Remarks\",\n\t\t\taccessor: 'remarks',\n\t\t},\n\t\t\n\t\t\n\t\t \n\t], [data])\n\n\tconst handleSubmit = (event) => {\n\t\tevent.preventDefault();\n\t\tconsole.log(inputText);\n\t\tsetSearch(inputText);\n\t}\n\n\tconst handleKeyPress = (event) => {\n\t\t// look for the `Enter` keyCode\n\t\tif (event.keyCode === 13 || event.which === 13) {\n\t\t\thandleSubmit(event)\n\t\t}\n\t}\n\tconst handleP = (pp)=>{\n\t\tconsole.log(pp); \n\t\tsetPage(pp);\n\t}\n\tconst handlePageSize = (pp) => {\n      console.log(pp);\n      setPageSize(pp);\n    };\n\n\treturn (\n\t\t<div className=\"min-h-screen bg-gray-100 text-gray-900\">\n\t\t\t<main className=\"max-w-8xl mx-auto px-4 sm:px-6 lg:px-8 pt-4\">\n\t\t\t\t<div className=\"mt-2 ml-4\">\n\t\t\t\t\t<h1 className=\"text-xl font-semibold\">Lic Maturity Transactions</h1>\n\t\t\t\t\t<div className=\"text-red-500\">{mesg}</div>\n\t\t\t\t\t<div className=\"flexContainer\">\n\t\t\t\t\t\n\t\t\t\t\t<input type=\"text\" name=\"batch\" placeholder=\"file name\"\n\t\t\t\t\t\tonChange={e => setBatch(e.target.value)}\n\t\t\t\t\t\t\t \n\t\t\t\t\t\t\tclassName=\"pl-2 -ml-2 inputField flex-initial\" />\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t<input type=\"text\" name=\"cdaoNo\" placeholder=\"Cdao No\"\n\t\t\t\t\t\tonChange={e => setCdaoNo(e.target.value)}\n\t\t\t\t\t\tclassName=\"pl-2 -ml-2 inputField flex-initial\" />\n\t\t\t\t\t\t\n\t\t\t\t\t\t\n\t\t\t\t\t\t\t \n\t\t\t\t\t\t\t\n\t\t\t\t\t\t<button type=\"submit\" onClick={handleSubmit} className=\"w-16 m-0 p-0\">Search</button>\n\t\t\t\t\t  \n\t\t\t\t\t\t \n\t\t\t\t\t\t \n\t\t\t\t\t\t \n\t\t\t\t\t</div>\t\t\t\n\t\t\t\t\t<div className=\"-mt-2 max-h-1 py-0 ml-0\">\n\t\t\t\t \n\t\t\t\t\t<TablePage columns={columns} data={data} newpage={page} parentCallback={handleP}  newPageSize={pageSize}\n              parentCallbackPageSize={handlePageSize}className=\"table-auto\" />\n              <div>\n              <input type=\"text\" name=\"mroDakId\" placeholder=\"update MRO DakId\"\n\t\t\t\t\t\tonBlur={e => setMroDakId(e.target.value)} className=\"pl-2 -ml-2 inputField flex-initial\" />\n              </div>\n\t\t\t\t <div>\n\t\t\t\t {(usrLevel===30 || usrLevel <30) &&\n\t\t\t\t\t\t<button type=\"button\" onClick={submitBulk} disabled={disabled} className=\"w-36 m-2 p-0\"> \n\t\t\t\t\t\t{disabled && (\n\t\t\t\t\t\t<span className=\"spinner-grow spinner-grow-sm\"></span>\n\t\t\t\t\t)\n\t\t\t\t\t\t\n\t\t\t\t\t} Submit Selected Records</button>\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t{(usrLevel>30) &&\n\t\t\t\t\t\t<button type=\"button\" onClick={approveBulk} disabled={disabled} className=\"w-36 m-2 p-0\"> \n\t\t\t\t\t\t{disabled && (\n\t\t\t\t\t\t<span className=\"spinner-grow spinner-grow-sm\"></span>\n\t\t\t\t\t)\n\t\t\t\t\t\t\n\t\t\t\t\t} Approve Selected Records</button>\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\t</div>\n\t\t\t\t \n\t\t\t\t</div>\t\t\n\t\t\t\t</div>\n\t\t\t\t \n\t\t\t</main>\n\t\t</div>\n\t);\n}\n\nexport default withRouter(LicMaturityTransactionList);\n\n"]},"metadata":{},"sourceType":"module"}