{"ast":null,"code":"import _regeneratorRuntime from\"/home/itsdcsec/falconws/falcon_face/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _toConsumableArray from\"/home/itsdcsec/falconws/falcon_face/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _asyncToGenerator from\"/home/itsdcsec/falconws/falcon_face/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/itsdcsec/falconws/falcon_face/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";/**\n * Code generated using Python\n * @author Raja Reddy\n * Date : 17 Oct 2021\n *\n * Modified By : \n */import{useState,useEffect,useMemo}from'react';import Table,{SelectColumnFilter}from'../utils/Table';// \nimport axios from\"axios\";import{withRouter,Link}from\"react-router-dom\";import TablePage from'../utils/TablePage';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function LicMaturityBatchSelection(){var _useState=useState(true),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),data=_useState4[0],setData=_useState4[1];var _useState5=useState({}),_useState6=_slicedToArray(_useState5,2),selectedData=_useState6[0],setSelectedData=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),update=_useState8[0],setUpdate=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),serverErrors=_useState10[0],setServerErrors=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),search=_useState12[0],setSearch=_useState12[1];var _useState13=useState(''),_useState14=_slicedToArray(_useState13,2),inputText=_useState14[0],setInputText=_useState14[1];var _useState15=useState(0),_useState16=_slicedToArray(_useState15,2),page=_useState16[0],setPage=_useState16[1];var _useState17=useState(0),_useState18=_slicedToArray(_useState17,2),pageSize=_useState18[0],setPageSize=_useState18[1];var _useState19=useState(0),_useState20=_slicedToArray(_useState19,2),usrLevel=_useState20[0],setUsrLevel=_useState20[1];var _useState21=useState(''),_useState22=_slicedToArray(_useState21,2),mesg=_useState22[0],setMesg=_useState22[1];var _useState23=useState(''),_useState24=_slicedToArray(_useState23,2),uploadFileName=_useState24[0],setUploadFileName=_useState24[1];var _useState25=useState(0),_useState26=_slicedToArray(_useState25,2),maturityAmount=_useState26[0],setMaturityAmount=_useState26[1];var _useState27=useState(''),_useState28=_slicedToArray(_useState27,2),totalRecords=_useState28[0],setTotalRecords=_useState28[1];var _useState29=useState(''),_useState30=_slicedToArray(_useState29,2),mroDakId=_useState30[0],setMroDakId=_useState30[1];function fetchData(){return _fetchData.apply(this,arguments);}function _fetchData(){_fetchData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log(\"XXXXXXXXXXXX\");_context.next=3;return axios.get(\"/licMaturityTransactions/generateBatch/licMaturity\").then(function(response){console.log(\"response>>\"+response.data[0]['uploadFileName']);//\t setUploadFileName(response.data[0]);\n//\t setMaturityAmount(response.data[1]); \n// setTotalRecords(response.data[2]);\nsetData(response.data);setUploadFileName(response.data[0]['uploadFileName']);console.log(\">>>>> Dak Id----:\"+uploadFileName);}).catch(function(error){//console.log(error);\n//console.log(error.response.status);\n//console.log(error.response.headers);\nif(error.response)setServerErrors(error.response.data.error);else setServerErrors(error.Error);});case 3:case\"end\":return _context.stop();}}},_callee);}));return _fetchData.apply(this,arguments);}function processBatch(_x){return _processBatch.apply(this,arguments);}function _processBatch(){_processBatch=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(batch){var i;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:console.log(\"--:\"+batch+\"==\"+data[0].uploadFileName+\"==\"+data[0].mroDakId);for(i=0;i<data.length;i++){console.log(data[i].mroDakId);if(data[i].uploadFileName===batch){setSelectedData(data[i]);}}axios.get(\"/licMaturityTransactions/maturityLicList\",selectedData).then(function(response){setData(response.data);}).catch(function(error){//console.log(error);\n//console.log(error.response.status);\n//console.log(error.response.headers);\nif(error.response)setServerErrors(error.response.data.error);else setServerErrors(error.Error);});case 3:case\"end\":return _context2.stop();}}},_callee2);}));return _processBatch.apply(this,arguments);}var updateCheckBoxAll=function updateCheckBoxAll(e){// console.log(\"...\"+e.target.checked+\"--\"+index);\nvar newData=_toConsumableArray(data);for(var k in newData){newData[k].select=e.target.checked;}setData(newData);};var handleCheckBox=function handleCheckBox(index){return function(e){//console.log(Table.page)\nconsole.log(e.target.checked+\"--\"+index);console.log(e.target.checked);var item=data[index];item['select']=e.target.checked;var newData=_toConsumableArray(data);newData[index]=item;setData(newData);};};var handleTextBox=function handleTextBox(index){return function(e){//console.log(Table.page)\n//   console.log(e.target.checked+\"--\"+index);\nconsole.log(e.target.value);setMroDakId(e.target.value);};};var handleDak=function handleDak(index){return function(e){console.log(index+\"--\"+e.target.value);var item=data[index];item['mroDakId']=e.target.value;var newData=_toConsumableArray(data);newData[index]=item;setData(newData);};};var columns=useMemo(function(){return[{Header:\"Action\",accessor:\"select\",Cell:function Cell(_ref){var row=_ref.row;return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:processBatch(row.original.uploadFileName),children:\"Process\"})});}},{Header:\"Upload File Name\",accessor:'uploadFileName'},{Header:\"Maturity Amount\",accessor:\"maturityAmount\"},{Header:\"Total Records\",accessor:\"totalRecords\"},{Header:\"Mro Dak - Id\",accessor:\"dak\",Cell:function Cell(_ref2){var row=_ref2.row;return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"MRO DakId\",value:row.original.mroDakId,onBlur:handleDak(row.index)})});}}];},[data]);var handleSubmit=function handleSubmit(event){event.preventDefault();console.log(inputText);setSearch(inputText);};var handleKeyPress=function handleKeyPress(event){// look for the `Enter` keyCode\nif(event.keyCode===13||event.which===13){handleSubmit(event);}};return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-100 text-gray-900\",children:/*#__PURE__*/_jsx(\"main\",{className:\"max-w-8xl mx-auto px-4 sm:px-6 lg:px-8 pt-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2 ml-4\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-xl font-semibold\",children:\"Lic Maturity Batch Selection\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-red-500\",children:mesg}),/*#__PURE__*/_jsxs(\"div\",{className:\"flexContainer\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:fetchData,className:\"w-36 m-2 p-0\",children:\" Generate batch\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Click on \\\"Generate Batch\\\" button \"}),/*#__PURE__*/_jsx(\"label\",{children:\"Select batch for which MRO has been approved\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-6 max-h-1\",children:/*#__PURE__*/_jsx(Table,{columns:columns,data:data,className:\"table-auto\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[console.log(\"--File Name--:\"+uploadFileName),/*#__PURE__*/_jsx(Link,{to:{pathname:\"/licMaturityTransactions/maturityLicList\",state:uploadFileName},children:/*#__PURE__*/_jsx(\"button\",{className:\"w-46 m-2 p-0\",children:\"Process Lic Maturity Batch Selected \"})})]})]})]})})});}export default withRouter(LicMaturityBatchSelection);","map":{"version":3,"sources":["/home/itsdcsec/falconws/falcon_face/src/components/LicMaturityBatchSelection.js"],"names":["useState","useEffect","useMemo","Table","SelectColumnFilter","axios","withRouter","Link","TablePage","LicMaturityBatchSelection","loading","setLoading","data","setData","selectedData","setSelectedData","update","setUpdate","serverErrors","setServerErrors","search","setSearch","inputText","setInputText","page","setPage","pageSize","setPageSize","usrLevel","setUsrLevel","mesg","setMesg","uploadFileName","setUploadFileName","maturityAmount","setMaturityAmount","totalRecords","setTotalRecords","mroDakId","setMroDakId","fetchData","console","log","get","then","response","catch","error","Error","processBatch","batch","i","length","updateCheckBoxAll","e","newData","k","select","target","checked","handleCheckBox","index","item","handleTextBox","value","handleDak","columns","Header","accessor","Cell","row","original","handleSubmit","event","preventDefault","handleKeyPress","keyCode","which","pathname","state"],"mappings":"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","sourcesContent":["/**\n * Code generated using Python\n * @author Raja Reddy\n * Date : 17 Oct 2021\n *\n * Modified By : \n */\n\nimport { useState, useEffect, useMemo } from 'react';\nimport Table, { SelectColumnFilter } from '../utils/Table'  // \nimport axios from \"axios\";\nimport { withRouter, Link } from \"react-router-dom\";\nimport TablePage from '../utils/TablePage';\n\nfunction LicMaturityBatchSelection() {\n\nconst [loading, setLoading] = useState(true);\n\tconst [data, setData] = useState([]);\n\tconst [selectedData,setSelectedData]=useState({});\n\tconst [update, setUpdate] = useState(false);\n\tconst [serverErrors, setServerErrors] = useState([]);\n\tconst [search, setSearch] = useState(\"\");\n\tconst [inputText, setInputText] = useState('');\n\t const [page,setPage]=useState(0);\n\t  const [pageSize, setPageSize] = useState(0);\n\t  const[usrLevel,setUsrLevel]=useState(0);\n\t  const[mesg,setMesg]=useState('');\n\t  const [uploadFileName,setUploadFileName]=useState('');\n\tconst [maturityAmount,setMaturityAmount]=useState(0);\n\tconst [totalRecords,setTotalRecords]=useState('');\n\tconst [mroDakId,setMroDakId]=useState('');\n\n\t \n\t\t \n\t\tasync function fetchData() {\n\t\t\t \n\t\t\t \n\t\t\t\tconsole.log(\"XXXXXXXXXXXX\");\n\t\t\t\tawait axios.get(`/licMaturityTransactions/generateBatch/licMaturity`)\n\t\t\t\t\t.then((response) => {\n\t\t\t\t\t\tconsole.log(\"response>>\" + response.data[0]['uploadFileName']);\n\t\t\t\t\t//\t setUploadFileName(response.data[0]);\n\t\t\t\t\t//\t setMaturityAmount(response.data[1]); \n\t\t\t\t\t\t// setTotalRecords(response.data[2]);\n\t\t\t\t\t\t setData(response.data);\n\t\t\t\t\t\t setUploadFileName(response.data[0]['uploadFileName']);\n\t\t\t\t\t\tconsole.log(\">>>>> Dak Id----:\" + uploadFileName);\n\t\t\t\t\t\t \n\t\t\t\t\t\t \n\t\t\t\t\t})\n\t\t\t\t\t.catch((error) => {\n\t\t\t\t\t\t//console.log(error);\n\t\t\t\t\t\t//console.log(error.response.status);\n\t\t\t\t\t\t//console.log(error.response.headers);\n\t\t\t\t\t\tif (error.response)\n\t\t\t\t\t\t\tsetServerErrors(error.response.data.error);\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tsetServerErrors(error.Error);\n\t\t\t\t\t})\n\t\t}\n\t\t \n\n\t\n\tasync function processBatch(batch){\n\t\t\t \n\t\t\t console.log(\"--:\"+batch+\"==\"+data[0].uploadFileName+\"==\"+data[0].mroDakId);\n\t\t\t \n\t\t\t for(var i=0;i<data.length;i++){\n\t\t\t\tconsole.log(data[i].mroDakId);\n\t\t\t\tif(data[i].uploadFileName===batch){\n\t\t\t\t\tsetSelectedData(data[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\t \n\t\t\t axios.get(`/licMaturityTransactions/maturityLicList`,selectedData)\n\t\t\t\t\t\t.then((response) => {\n\t\t\t\t\t\tsetData(response.data);\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\t//console.log(error);\n\t\t\t\t\t//console.log(error.response.status);\n\t\t\t\t\t//console.log(error.response.headers);\n\t\t\t\t\tif (error.response)\n\t\t\t\t\t\tsetServerErrors(error.response.data.error);\n\t\t\t\t\telse\n\t\t\t\t\t\tsetServerErrors(error.Error);\n\t\t\t\t})\n\t\t}\n\t\t \n\t \n\tconst updateCheckBoxAll = (e) =>{\n\t\t  // console.log(\"...\"+e.target.checked+\"--\"+index);\n\t\t   \n\t\t\t  let newData=[...data];\n\t\t\tfor(var k in newData){\n\t\t\t\tnewData[k].select=e.target.checked;\n\t\t\t}\n\t\t\tsetData(newData);\n\t\t \n\t\t \n\t} \n\tconst handleCheckBox = index=>(e) =>{\n\t\t//console.log(Table.page)\n\t\t   console.log(e.target.checked+\"--\"+index);\n\t\t\t \n\t\t\t\n\t\t\t  \n\t\t   console.log(e.target.checked);\n\t\t\tlet item = data[index];\n\t\t \n\t\titem['select'] = e.target.checked;\n\t\tlet newData = [...data];\n\t\tnewData[index] = item;\n\t\tsetData(newData);\n\t\t \n\t\t \n\t\t \n\t}\n\t\n\tconst handleTextBox = index=>(e) =>{\n\t\t//console.log(Table.page)\n\t\t//   console.log(e.target.checked+\"--\"+index);\n\t\tconsole.log(e.target.value);\t \n\t\tsetMroDakId(e.target.value);\t\n\t\t \t  \n\t\t  \n\t\t \n\t}\n\tconst handleDak= index => (e) => {\n\t\tconsole.log(index+\"--\"+e.target.value);\n\t\tlet item = data[index];\n\t\t \n\t\titem['mroDakId'] = e.target.value;\n\t\t \n\t\tlet newData = [...data];\n\t\tnewData[index] = item;\n\t\tsetData(newData);\n\t\t \n\t}\n\tconst columns=useMemo(()=>[\n\t\t \n\t\t \n\t\t \n\t\t\n\t\t{\n\t\t\t \n\t\t\tHeader: \"Action\",\n\t\t\t\n\t\t \taccessor : \"select\",\t\t\t \n\t\t\tCell: ({ row }) => (\n\t\t\t\t<div>\n\t\t\t\t\t<button type=\"button\" onClick={processBatch(row.original.uploadFileName)} >Process</button>\n\t\t\t\t \n\t\t\t\t</div>\n\t\t\t)\n\t\t},\n\t\t\n\t\t{\n\t\tHeader: \"Upload File Name\",\n\t\taccessor: 'uploadFileName',\n\t\t},\n\t\t{\n        Header: \"Maturity Amount\",\n        accessor: \"maturityAmount\",\n    \t},\n      \n        {\n        Header: \"Total Records\",\n        accessor: \"totalRecords\",\n        },\n        \n        {\n        Header: \"Mro Dak - Id\",\n        accessor: \"dak\",\n        Cell: ({ row }) => (\n\t\t\t\t<div>\n\t\t\t\t\t<input type=\"text\" placeholder=\"MRO DakId\" value={row.original.mroDakId} onBlur={handleDak(row.index)} />\n\t\t\t\t \n\t\t\t\t</div>\n\t\t\t)\n         \n        \n        },\n\t\t \n\t\t\n\t],[data])\n\n\tconst handleSubmit = (event) => {\n\t\tevent.preventDefault();\n\t\tconsole.log(inputText);\n\t\tsetSearch(inputText);\n\t}\n\n\tconst handleKeyPress = (event) => {\n\t\t// look for the `Enter` keyCode\n\t\tif (event.keyCode === 13 || event.which === 13) {\n\t\t\thandleSubmit(event)\n\t\t}\n\t}\n\t \n\n\treturn (\n\t\t<div className=\"min-h-screen bg-gray-100 text-gray-900\">\n\t\t\t<main className=\"max-w-8xl mx-auto px-4 sm:px-6 lg:px-8 pt-4\">\n\t\t\t\t<div className=\"mt-2 ml-4\">\n\t\t\t\t\t<h1 className=\"text-xl font-semibold\">Lic Maturity Batch Selection</h1>\n\t\t\t\t\t<div className=\"text-red-500\">{mesg}</div>\n\t\t\t\t\t<div className=\"flexContainer\">\n\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t\t\t \n\t\t\t\t\t <div>\n\t\t\t\t\t\t \n\t\t\t\t\t\t\t \n\t\t\t\t\t\t\t\t \n\t\t\t\t\t\t<button type=\"button\" onClick={fetchData} className=\"w-36 m-2 p-0\"> Generate batch</button> \n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t \n\t\t\t\t\t\t<label>Click on \"Generate Batch\" button </label> \n\t\t\t\t\t\t<label>Select batch for which MRO has been approved</label>\n\t\t\t\t\t\t \n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t \n\t\t\t\t\t\t <div className=\"mt-6 max-h-1\">\n\t\t\t\t\t<Table columns={columns} data={data} className=\"table-auto\" />\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t\t<div>\n\t\t\t\t\t{console.log(\"--File Name--:\" + uploadFileName)}\n\t\t\t\t\t\t<Link to={{pathname:\"/licMaturityTransactions/maturityLicList\",\n\t\t\t\t\t\tstate:uploadFileName}}>\n\t\t\t\t\t\t<button className=\"w-46 m-2 p-0\" >Process Lic Maturity Batch Selected </button>\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t \n\t\t\t\t\t</div>\t\t\t\n\t\t\t\t\t \n\t\t\t\t</div>\t\t\n\t\t\t\t \n\t\t\t\t \n\t\t\t</main>\n\t\t</div>\n\t);\n}\n\nexport default withRouter(LicMaturityBatchSelection);\n\n"]},"metadata":{},"sourceType":"module"}