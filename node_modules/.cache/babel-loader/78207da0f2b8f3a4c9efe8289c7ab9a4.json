{"ast":null,"code":"import _defineProperty from\"/home/itsdcsec/falconws/falcon_face/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _regeneratorRuntime from\"/home/itsdcsec/falconws/falcon_face/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _objectSpread from\"/home/itsdcsec/falconws/falcon_face/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _asyncToGenerator from\"/home/itsdcsec/falconws/falcon_face/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/itsdcsec/falconws/falcon_face/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";/**\n * Code generated using Python\n * @author Raja Reddy\n * Date : 17 Oct 2021\n *\n * Modified By :\n */import{useState,useEffect}from\"react\";import{withRouter,useParams,useHistory}from\"react-router-dom\";import{useForm}from\"react-hook-form\";import axios from\"axios\";import*as yup from\"yup\";import{yupResolver}from\"@hookform/resolvers/yup\";import LiveSearch from\"../utils/LiveSearch\";import DatePicker from\"react-datepicker\";import\"react-datepicker/dist/react-datepicker.css\";import addDays from\"date-fns/addDays\";import Tabs from\"react-bootstrap/Tabs\";import Tab from\"react-bootstrap/Tab\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var schema=yup.object({// section: yup.object().required('Required'),\ndisallowanceName:yup.string().required(\"Required\")//  module: yup.string().required('Required'),\n// recordStatus: yup.string().required('Required'),\n// remarks: yup.string().required('Required'),\n});var DisallowanceCodeEdit=function DisallowanceCodeEdit(){var _errors$disallowanceN,_errors$disallowanceH,_errors$subModule,_errors$remarks;var _useForm=useForm({resolver:yupResolver(schema)}),register=_useForm.register,handleSubmit=_useForm.handleSubmit,setValue=_useForm.setValue,errors=_useForm.formState.errors,clearErrors=_useForm.clearErrors;var _useParams=useParams(),id=_useParams.id;var history=useHistory();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),serverErrors=_useState2[0],setServerErrors=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),entity=_useState4[0],setEntity=_useState4[1];var _useState5=useState({}),_useState6=_slicedToArray(_useState5,2),state=_useState6[0],setState=_useState6[1];var _useState7=useState(\"page1\"),_useState8=_slicedToArray(_useState7,2),key=_useState8[0],setKey=_useState8[1];useEffect(function(){var isCancelled=false;console.log(id);if(id!==\"new\"){function fetchData(){return _fetchData.apply(this,arguments);}function _fetchData(){_fetchData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var record,fields;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:record=\"\";_context.next=3;return axios.get(\"/disallowanceCodes/\"+id).then(function(response){record=response.data;}).catch(function(error){//console.log(error);\n//console.log(error.response.status);\n//console.log(error.response.headers);\nif(error.response)setServerErrors(error.response.data.error);else setServerErrors(error.Error);});case 3:fields=[\"id\",\"section\",\"disallowanceName\",\"disallowanceHindiName\",\"module\",\"recordStatus\",\"remarks\",\"subModule\"];fields.forEach(function(field){return setValue(field,record[field]);});if(!isCancelled){setEntity(record);setState(function(prev){return _objectSpread(_objectSpread({},prev),{},{state:record});});}case 6:case\"end\":return _context.stop();}}},_callee);}));return _fetchData.apply(this,arguments);}fetchData();return function(){isCancelled=true;};}},[id,setValue]);var onSubmit=function onSubmit(data,event){event.preventDefault();console.log(data);if(data.id){axios.put(\"/disallowanceCodes/\"+data.id,data).then(function(response){}).catch(function(error){//console.log(error.response.data);\n//console.log(error.response.status);\n//console.log(error.response.headers);\nsetServerErrors(error.response.data);});}else{axios.post(\"/disallowanceCodes\",data).then(function(response){}).catch(function(error){//console.log(error.response.data);\n//console.log(error.response.status);\n//console.log(error.response.headers);\nsetServerErrors(error.response.data);});}history.push(\"/disallowanceCodes\");};var onError=function onError(errors,e){return console.log(errors,e);};//All foreign keys.\n// XXXXXX Add search fields and adjust the values as necessary\nvar parentData={section:{title:\"Section\",url:\"sections\",searchList:[\"id\"],//XXXXXXXXX Add search fields\nfkEntity:\"section\",preload:false//XXXXXX Set this to true for small tables like designations\n}};//Callback for child components (Foreign Keys)\nvar callback=function callback(childData){//console.log(\"Parent Callback\");\nsetEntity(function(prev){return _objectSpread(_objectSpread({},prev),{},_defineProperty({},childData.fk,childData.entity));});setValue(childData.fk,childData.entity);//console.log(errors);\nclearErrors(childData.fk);};var errorCallback=function errorCallback(err){//console.log(err);\nsetServerErrors(err);};var returnToList=function returnToList(){history.push(\"/disallowanceCodes\");};var handleInputChange=function handleInputChange(e){//console.log(e.target.value);\n};return/*#__PURE__*/_jsx(\"div\",{className:\"max-w-xl mx-auto \",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-full w-3/4  mx-auto \",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(onSubmit,onError),children:[/*#__PURE__*/_jsxs(\"h1\",{children:[id===\"new\"?\"Add\":\"Edit\",\" Disallowance Code \"]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-red-500\",children:serverErrors}),/*#__PURE__*/_jsx(Tabs,{id:\"GrievanceEdit\",activeKey:key,onSelect:function onSelect(k){return setKey(k);},className:\"mb-3\",children:/*#__PURE__*/_jsx(Tab,{eventKey:\"page1\",title:\"Page 1\",className:\"h-120\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 gap-0\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Disallowance Description\"}),/*#__PURE__*/_jsx(\"textarea\",_objectSpread(_objectSpread({type:\"text\",name:\"disallowanceName\"},register(\"disallowanceName\")),{},{className:\"form-control py-0\"})),/*#__PURE__*/_jsx(\"div\",{className:\"text-red-500\",children:(_errors$disallowanceN=errors.disallowanceName)===null||_errors$disallowanceN===void 0?void 0:_errors$disallowanceN.message})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Disallowance Hindi Description\"}),/*#__PURE__*/_jsx(\"textarea\",_objectSpread(_objectSpread({type:\"text\",name:\"disallowanceHindiName\"},register(\"disallowanceHindiName\")),{},{className:\"form-control py-0\"})),/*#__PURE__*/_jsx(\"div\",{className:\"text-red-500\",children:(_errors$disallowanceH=errors.disallowanceHindiName)===null||_errors$disallowanceH===void 0?void 0:_errors$disallowanceH.message})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Disallowance Code\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({type:\"text\",name:\"subModule\"},register(\"subModule\")),{},{className:\"form-control py-0\"})),/*#__PURE__*/_jsx(\"div\",{className:\"text-red-500\",children:(_errors$subModule=errors.subModule)===null||_errors$subModule===void 0?void 0:_errors$subModule.message})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Remarks\"}),/*#__PURE__*/_jsx(\"textarea\",_objectSpread(_objectSpread({type:\"text\",name:\"remarks\"},register(\"remarks\")),{},{className:\"form-control py-0\"})),/*#__PURE__*/_jsx(\"div\",{className:\"text-red-500\",children:(_errors$remarks=errors.remarks)===null||_errors$remarks===void 0?void 0:_errors$remarks.message})]})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-0\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Save\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:returnToList,children:\"Done\"})]})]})})});};export default withRouter(DisallowanceCodeEdit);","map":{"version":3,"sources":["/home/itsdcsec/falconws/falcon_face/src/components/DisallowanceCodeEdit.js"],"names":["useState","useEffect","withRouter","useParams","useHistory","useForm","axios","yup","yupResolver","LiveSearch","DatePicker","addDays","Tabs","Tab","schema","object","disallowanceName","string","required","DisallowanceCodeEdit","resolver","register","handleSubmit","setValue","errors","formState","clearErrors","id","history","serverErrors","setServerErrors","entity","setEntity","state","setState","key","setKey","isCancelled","console","log","fetchData","record","get","then","response","data","catch","error","Error","fields","forEach","field","prev","onSubmit","event","preventDefault","put","post","push","onError","e","parentData","section","title","url","searchList","fkEntity","preload","callback","childData","fk","errorCallback","err","returnToList","handleInputChange","k","message","disallowanceHindiName","subModule","remarks"],"mappings":"gwBAAA;AACA;AACA;AACA;AACA;AACA;AACA,GAEA,OAASA,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,CACA,OAASC,UAAT,CAAqBC,SAArB,CAAgCC,UAAhC,KAAkD,kBAAlD,CACA,OAASC,OAAT,KAAwB,iBAAxB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAO,GAAKC,CAAAA,GAAZ,KAAqB,KAArB,CAEA,OAASC,WAAT,KAA4B,yBAA5B,CACA,MAAOC,CAAAA,UAAP,KAAuB,qBAAvB,CAEA,MAAOC,CAAAA,UAAP,KAAuB,kBAAvB,CACA,MAAO,4CAAP,CACA,MAAOC,CAAAA,OAAP,KAAoB,kBAApB,CAEA,MAAOC,CAAAA,IAAP,KAAiB,sBAAjB,CACA,MAAOC,CAAAA,GAAP,KAAgB,qBAAhB,C,wFAEA,GAAMC,CAAAA,MAAM,CAAGP,GAAG,CAACQ,MAAJ,CAAW,CACxB;AACAC,gBAAgB,CAAET,GAAG,CAACU,MAAJ,GAAaC,QAAb,CAAsB,UAAtB,CAClB;AACA;AACA;AALwB,CAAX,CAAf,CAQA,GAAMC,CAAAA,oBAAoB,CAAG,QAAvBA,CAAAA,oBAAuB,EAAM,gGAO7Bd,OAAO,CAAC,CACVe,QAAQ,CAAEZ,WAAW,CAACM,MAAD,CADX,CAAD,CAPsB,CAE/BO,QAF+B,UAE/BA,QAF+B,CAG/BC,YAH+B,UAG/BA,YAH+B,CAI/BC,QAJ+B,UAI/BA,QAJ+B,CAKlBC,MALkB,UAK/BC,SAL+B,CAKlBD,MALkB,CAM/BE,WAN+B,UAM/BA,WAN+B,gBAWpBvB,SAAS,EAXW,CAW3BwB,EAX2B,YAW3BA,EAX2B,CAajC,GAAIC,CAAAA,OAAO,CAAGxB,UAAU,EAAxB,CAbiC,cAcOJ,QAAQ,CAAC,EAAD,CAdf,wCAc1B6B,YAd0B,eAcZC,eAdY,8BAeL9B,QAAQ,CAAC,EAAD,CAfH,yCAe1B+B,MAf0B,eAelBC,SAfkB,8BAgBPhC,QAAQ,CAAC,EAAD,CAhBD,yCAgB1BiC,KAhB0B,eAgBnBC,QAhBmB,8BAiBXlC,QAAQ,CAAC,OAAD,CAjBG,yCAiB1BmC,GAjB0B,eAiBrBC,MAjBqB,eAmBjCnC,SAAS,CAAC,UAAM,CACd,GAAIoC,CAAAA,WAAW,CAAG,KAAlB,CACAC,OAAO,CAACC,GAAR,CAAYZ,EAAZ,EACA,GAAIA,EAAE,GAAK,KAAX,CAAkB,SACDa,CAAAA,SADC,qIAChB,qJACMC,MADN,CACe,EADf,uBAEQnC,CAAAA,KAAK,CACRoC,GADG,CACC,sBAAwBf,EADzB,EAEHgB,IAFG,CAEE,SAACC,QAAD,CAAc,CAClBH,MAAM,CAAGG,QAAQ,CAACC,IAAlB,CACD,CAJG,EAKHC,KALG,CAKG,SAACC,KAAD,CAAW,CAChB;AACA;AACA;AACA,GAAIA,KAAK,CAACH,QAAV,CAAoBd,eAAe,CAACiB,KAAK,CAACH,QAAN,CAAeC,IAAf,CAAoBE,KAArB,CAAf,CAApB,IACKjB,CAAAA,eAAe,CAACiB,KAAK,CAACC,KAAP,CAAf,CACN,CAXG,CAFR,QAeQC,MAfR,CAeiB,CACb,IADa,CAEb,SAFa,CAGb,kBAHa,CAInB,uBAJmB,CAKb,QALa,CAMb,cANa,CAOb,SAPa,CAQb,WARa,CAfjB,CAyBEA,MAAM,CAACC,OAAP,CAAe,SAACC,KAAD,QAAW5B,CAAAA,QAAQ,CAAC4B,KAAD,CAAQV,MAAM,CAACU,KAAD,CAAd,CAAnB,EAAf,EACA,GAAI,CAACd,WAAL,CAAkB,CAChBL,SAAS,CAACS,MAAD,CAAT,CACAP,QAAQ,CAAC,SAACkB,IAAD,wCAAgBA,IAAhB,MAAsBnB,KAAK,CAAEQ,MAA7B,IAAD,CAAR,CACD,CA7BH,sDADgB,4CAiChBD,SAAS,GACT,MAAO,WAAM,CACXH,WAAW,CAAG,IAAd,CACD,CAFD,CAGD,CACF,CAzCQ,CAyCN,CAACV,EAAD,CAAKJ,QAAL,CAzCM,CAAT,CA2CA,GAAM8B,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACR,IAAD,CAAOS,KAAP,CAAiB,CAChCA,KAAK,CAACC,cAAN,GACAjB,OAAO,CAACC,GAAR,CAAYM,IAAZ,EACA,GAAIA,IAAI,CAAClB,EAAT,CAAa,CACXrB,KAAK,CACFkD,GADH,CACO,sBAAwBX,IAAI,CAAClB,EADpC,CACwCkB,IADxC,EAEGF,IAFH,CAEQ,SAACC,QAAD,CAAc,CAAE,CAFxB,EAGGE,KAHH,CAGS,SAACC,KAAD,CAAW,CAChB;AACA;AACA;AACAjB,eAAe,CAACiB,KAAK,CAACH,QAAN,CAAeC,IAAhB,CAAf,CACD,CARH,EASD,CAVD,IAUO,CACLvC,KAAK,CACFmD,IADH,CACQ,oBADR,CAC8BZ,IAD9B,EAEGF,IAFH,CAEQ,SAACC,QAAD,CAAc,CAAE,CAFxB,EAGGE,KAHH,CAGS,SAACC,KAAD,CAAW,CAChB;AACA;AACA;AACAjB,eAAe,CAACiB,KAAK,CAACH,QAAN,CAAeC,IAAhB,CAAf,CACD,CARH,EASD,CAEDjB,OAAO,CAAC8B,IAAR,CAAa,oBAAb,EACD,CA1BD,CA4BA,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAACnC,MAAD,CAASoC,CAAT,QAAetB,CAAAA,OAAO,CAACC,GAAR,CAAYf,MAAZ,CAAoBoC,CAApB,CAAf,EAAhB,CAEA;AACA;AACA,GAAMC,CAAAA,UAAU,CAAG,CACjBC,OAAO,CAAE,CACPC,KAAK,CAAE,SADA,CAEPC,GAAG,CAAE,UAFE,CAGPC,UAAU,CAAE,CAAC,IAAD,CAHL,CAGa;AACpBC,QAAQ,CAAE,SAJH,CAKPC,OAAO,CAAE,KAAO;AALT,CADQ,CAAnB,CAUA;AACA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACC,SAAD,CAAe,CAC9B;AACArC,SAAS,CAAC,SAACoB,IAAD,wCAAgBA,IAAhB,wBAAuBiB,SAAS,CAACC,EAAjC,CAAsCD,SAAS,CAACtC,MAAhD,IAAD,CAAT,CACAR,QAAQ,CAAC8C,SAAS,CAACC,EAAX,CAAeD,SAAS,CAACtC,MAAzB,CAAR,CACA;AACAL,WAAW,CAAC2C,SAAS,CAACC,EAAX,CAAX,CACD,CAND,CAQA,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACC,GAAD,CAAS,CAC7B;AACA1C,eAAe,CAAC0C,GAAD,CAAf,CACD,CAHD,CAIA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CACzB7C,OAAO,CAAC8B,IAAR,CAAa,oBAAb,EACD,CAFD,CAIA,GAAMgB,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,CAACd,CAAD,CAAO,CAC/B;AACD,CAFD,CAIA,mBACE,YAAK,SAAS,CAAC,mBAAf,uBACE,YAAK,SAAS,CAAC,wBAAf,uBACE,cAAM,QAAQ,CAAEtC,YAAY,CAAC+B,QAAD,CAAWM,OAAX,CAA5B,wBACE,sBAAKhC,EAAE,GAAK,KAAP,CAAe,KAAf,CAAuB,MAA5B,yBADF,cAEE,YAAK,SAAS,CAAC,cAAf,UAA+BE,YAA/B,EAFF,cAGE,KAAC,IAAD,EACE,EAAE,CAAC,eADL,CAEE,SAAS,CAAEM,GAFb,CAGE,QAAQ,CAAE,kBAACwC,CAAD,QAAOvC,CAAAA,MAAM,CAACuC,CAAD,CAAb,EAHZ,CAIE,SAAS,CAAC,MAJZ,uBAME,KAAC,GAAD,EAAK,QAAQ,CAAC,OAAd,CAAsB,KAAK,CAAC,QAA5B,CAAqC,SAAS,CAAC,OAA/C,uBACE,aAAK,SAAS,CAAC,wBAAf,wBACE,oCACE,mDADF,cAEE,6CACE,IAAI,CAAC,MADP,CAEE,IAAI,CAAC,kBAFP,EAGMtD,QAAQ,CAAC,kBAAD,CAHd,MAIE,SAAS,CAAC,mBAJZ,GAFF,cAQE,YAAK,SAAS,CAAC,cAAf,iCACGG,MAAM,CAACR,gBADV,gDACG,sBAAyB4D,OAD5B,EARF,GADF,cAcV,oCACc,yDADd,cAEc,6CACE,IAAI,CAAC,MADP,CAEE,IAAI,CAAC,uBAFP,EAGMvD,QAAQ,CAAC,uBAAD,CAHd,MAIE,SAAS,CAAC,mBAJZ,GAFd,cAQc,YAAK,SAAS,CAAC,cAAf,iCACGG,MAAM,CAACqD,qBADV,gDACG,sBAA8BD,OADjC,EARd,GAdU,cA2BE,oCACE,4CADF,cAEE,0CACE,IAAI,CAAC,MADP,CAEE,IAAI,CAAC,WAFP,EAGMvD,QAAQ,CAAC,WAAD,CAHd,MAIE,SAAS,CAAC,mBAJZ,GAFF,cAQE,YAAK,SAAS,CAAC,cAAf,6BACGG,MAAM,CAACsD,SADV,4CACG,kBAAkBF,OADrB,EARF,GA3BF,cAwCE,oCACE,kCADF,cAEE,6CACE,IAAI,CAAC,MADP,CAEE,IAAI,CAAC,SAFP,EAGMvD,QAAQ,CAAC,SAAD,CAHd,MAIE,SAAS,CAAC,mBAJZ,GAFF,cAQE,YAAK,SAAS,CAAC,cAAf,2BAA+BG,MAAM,CAACuD,OAAtC,0CAA+B,gBAAgBH,OAA/C,EARF,GAxCF,GADF,EANF,EAHF,cAgEE,aAAK,SAAS,CAAC,wBAAf,wBACE,eAAQ,IAAI,CAAC,QAAb,kBADF,cAEE,eAAQ,IAAI,CAAC,QAAb,CAAsB,OAAO,CAAEH,YAA/B,kBAFF,GAhEF,GADF,EADF,EADF,CA6ED,CA1MD,CA4MA,cAAevE,CAAAA,UAAU,CAACiB,oBAAD,CAAzB","sourcesContent":["/**\n * Code generated using Python\n * @author Raja Reddy\n * Date : 17 Oct 2021\n *\n * Modified By :\n */\n\nimport { useState, useEffect } from \"react\";\nimport { withRouter, useParams, useHistory } from \"react-router-dom\";\nimport { useForm } from \"react-hook-form\";\nimport axios from \"axios\";\nimport * as yup from \"yup\";\n\nimport { yupResolver } from \"@hookform/resolvers/yup\";\nimport LiveSearch from \"../utils/LiveSearch\";\n\nimport DatePicker from \"react-datepicker\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport addDays from \"date-fns/addDays\";\n\nimport Tabs from \"react-bootstrap/Tabs\";\nimport Tab from \"react-bootstrap/Tab\";\n\nconst schema = yup.object({\n  // section: yup.object().required('Required'),\n  disallowanceName: yup.string().required(\"Required\"),\n  //  module: yup.string().required('Required'),\n  // recordStatus: yup.string().required('Required'),\n  // remarks: yup.string().required('Required'),\n});\n\nconst DisallowanceCodeEdit = () => {\n  const {\n    register,\n    handleSubmit,\n    setValue,\n    formState: { errors },\n    clearErrors,\n  } = useForm({\n    resolver: yupResolver(schema),\n  });\n\n  let { id } = useParams();\n\n  let history = useHistory();\n  const [serverErrors, setServerErrors] = useState([]);\n  const [entity, setEntity] = useState({});\n  const [state, setState] = useState({});\n  const [key, setKey] = useState(\"page1\");\n\n  useEffect(() => {\n    let isCancelled = false;\n    console.log(id);\n    if (id !== \"new\") {\n      async function fetchData() {\n        let record = \"\";\n        await axios\n          .get(\"/disallowanceCodes/\" + id)\n          .then((response) => {\n            record = response.data;\n          })\n          .catch((error) => {\n            //console.log(error);\n            //console.log(error.response.status);\n            //console.log(error.response.headers);\n            if (error.response) setServerErrors(error.response.data.error);\n            else setServerErrors(error.Error);\n          });\n\n        const fields = [\n          \"id\",\n          \"section\",\n          \"disallowanceName\",\n\t\t  \"disallowanceHindiName\",\n          \"module\",\n          \"recordStatus\",\n          \"remarks\",\n          \"subModule\",\n        ];\n        fields.forEach((field) => setValue(field, record[field]));\n        if (!isCancelled) {\n          setEntity(record);\n          setState((prev) => ({ ...prev, state: record }));\n        }\n      }\n\n      fetchData();\n      return () => {\n        isCancelled = true;\n      };\n    }\n  }, [id, setValue]);\n\n  const onSubmit = (data, event) => {\n    event.preventDefault();\n    console.log(data);\n    if (data.id) {\n      axios\n        .put(\"/disallowanceCodes/\" + data.id, data)\n        .then((response) => {})\n        .catch((error) => {\n          //console.log(error.response.data);\n          //console.log(error.response.status);\n          //console.log(error.response.headers);\n          setServerErrors(error.response.data);\n        });\n    } else {\n      axios\n        .post(\"/disallowanceCodes\", data)\n        .then((response) => {})\n        .catch((error) => {\n          //console.log(error.response.data);\n          //console.log(error.response.status);\n          //console.log(error.response.headers);\n          setServerErrors(error.response.data);\n        });\n    }\n\n    history.push(\"/disallowanceCodes\");\n  };\n\n  const onError = (errors, e) => console.log(errors, e);\n\n  //All foreign keys.\n  // XXXXXX Add search fields and adjust the values as necessary\n  const parentData = {\n    section: {\n      title: \"Section\",\n      url: \"sections\",\n      searchList: [\"id\"], //XXXXXXXXX Add search fields\n      fkEntity: \"section\",\n      preload: false, //XXXXXX Set this to true for small tables like designations\n    },\n  };\n\n  //Callback for child components (Foreign Keys)\n  const callback = (childData) => {\n    //console.log(\"Parent Callback\");\n    setEntity((prev) => ({ ...prev, [childData.fk]: childData.entity }));\n    setValue(childData.fk, childData.entity);\n    //console.log(errors);\n    clearErrors(childData.fk);\n  };\n\n  const errorCallback = (err) => {\n    //console.log(err);\n    setServerErrors(err);\n  };\n  const returnToList = () => {\n    history.push(\"/disallowanceCodes\");\n  };\n\n  const handleInputChange = (e) => {\n    //console.log(e.target.value);\n  };\n\n  return (\n    <div className=\"max-w-xl mx-auto \">\n      <div className=\"w-full w-3/4  mx-auto \">\n        <form onSubmit={handleSubmit(onSubmit, onError)}>\n          <h1>{id === \"new\" ? \"Add\" : \"Edit\"} Disallowance Code </h1>\n          <div className=\"text-red-500\">{serverErrors}</div>\n          <Tabs\n            id=\"GrievanceEdit\"\n            activeKey={key}\n            onSelect={(k) => setKey(k)}\n            className=\"mb-3\"\n          >\n            <Tab eventKey=\"page1\" title=\"Page 1\" className=\"h-120\">\n              <div className=\"grid grid-cols-1 gap-0\">\n                <div>\n                  <label>Disallowance Description</label>\n                  <textarea\n                    type=\"text\"\n                    name=\"disallowanceName\"\n                    {...register(\"disallowanceName\")}\n                    className=\"form-control py-0\"\n                  />\n                  <div className=\"text-red-500\">\n                    {errors.disallowanceName?.message}\n                  </div>\n                </div>\n\n\t\t\t\t<div>\n                  <label>Disallowance Hindi Description</label>\n                  <textarea\n                    type=\"text\"\n                    name=\"disallowanceHindiName\"\n                    {...register(\"disallowanceHindiName\")}\n                    className=\"form-control py-0\"\n                  />\n                  <div className=\"text-red-500\">\n                    {errors.disallowanceHindiName?.message}\n                  </div>\n                </div>\n\n                <div>\n                  <label>Disallowance Code</label>\n                  <input\n                    type=\"text\"\n                    name=\"subModule\"\n                    {...register(\"subModule\")}\n                    className=\"form-control py-0\"\n                  />\n                  <div className=\"text-red-500\">\n                    {errors.subModule?.message}\n                  </div>\n                </div>\n\n                <div>\n                  <label>Remarks</label>\n                  <textarea\n                    type=\"text\"\n                    name=\"remarks\"\n                    {...register(\"remarks\")}\n                    className=\"form-control py-0\"\n                  />\n                  <div className=\"text-red-500\">{errors.remarks?.message}</div>\n                </div>\n              </div>\n            </Tab>\n          </Tabs>\n\n          <div className=\"grid grid-cols-2 gap-0\">\n            <button type=\"submit\">Save</button>\n            <button type=\"button\" onClick={returnToList}>\n              Done\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default withRouter(DisallowanceCodeEdit);\n"]},"metadata":{},"sourceType":"module"}