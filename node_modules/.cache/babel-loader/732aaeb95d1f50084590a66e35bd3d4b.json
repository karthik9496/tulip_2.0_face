{"ast":null,"code":"var _jsxFileName = \"/home/itsdc3/Imp Tulip files/falconws160424/falconws/falcon_face/src/components/LpcRegisterEntryApprovalList.js\";\n\n/**\n * Code generated using Python\n * @author Raja Reddy\n * Date : 18 April 2022\n *\n * Modified By :\n */\nimport { useState, useEffect, useMemo } from \"react\";\nimport Table, { SelectColumnFilter } from \"../utils/Table\"; //\n\nimport axios from \"axios\";\nimport { withRouter, Link, useHistory, useLocation } from \"react-router-dom\";\nimport TablePage from \"../utils/TablePage\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction LpcRegisterEntryApprovalList() {\n  let history = useHistory();\n  const [data, setData] = useState([]);\n  const [update, setUpdate] = useState(false);\n  const [serverErrors, setServerErrors] = useState([]);\n  const [search, setSearch] = useState(\"\");\n  const [inputText, setInputText] = useState(\"\");\n  const [entryApproveList, setEntryApproveList] = useState([]);\n  const [page, setPage] = useState(0);\n  const [usrLevel, setUsrLevel] = useState(\"\");\n  const [mesg, setMesg] = useState(\"\");\n  const [disabled, setDisabled] = useState(false);\n  const {\n    state\n  } = useLocation();\n  const [pageSize, setPageSize] = useState(0);\n  useEffect(() => {\n    let fetching = false; //\tconsole.log(\">>>>InXXXXXX:\" + state);\n\n    async function fetchEntryApproveData() {\n      if (!fetching) await axios.get(`/lpcRegisters/entryApprovalList?search=` + search).then(response => {\n        setEntryApproveList(response.data);\n        setUsrLevel(response.data[0].usrLevel);\n        console.log(\">>>>Usr Level is----:\" + usrLevel);\n      }).catch(error => {\n        //console.log(error);\n        //console.log(error.response.status);\n        //console.log(error.response.headers);\n        if (error.response) setServerErrors(error.response.data.error);else setServerErrors(error.Error);\n      });\n    }\n\n    fetchEntryApproveData();\n    return () => {\n      fetching = true;\n    };\n  }, [update, search, state]);\n\n  async function approve() {\n    await axios.put(`/lpcRegisters/bulkEntryApprove`, entryApproveList).then(response => {\n      console.log(\"reponse status--------------\" + response.status);\n      setMesg(response.data); //\thistory.push({ pathname: '/lpcRegisters', state: response.data });\n\n      setEntryApproveList([]);\n    }).catch(error => {\n      //\tconsole.log(error);\n      //console.log(error.response.status);\n      //console.log(error.response.headers);\n      if (error.response) setServerErrors(error.response.data.error);else setServerErrors(error.Error);\n    });\n  }\n\n  const handleCheckBox = index => e => {\n    //console.log(Table.page)\n    console.log(e.target.checked + \"--\" + index);\n    console.log(e.target.checked);\n    let item = entryApproveList[index];\n    item[\"select\"] = e.target.checked;\n    let newData = [...entryApproveList];\n    newData[index] = item;\n    setEntryApproveList(newData);\n  };\n\n  const updateCheckBoxAll = e => {\n    // console.log(\"...\"+e.target.checked+\"--\"+index);\n    let newData = [...entryApproveList];\n\n    for (var k in newData) {\n      newData[k].select = e.target.checked;\n    }\n\n    setEntryApproveList(newData);\n  };\n\n  const ShowEntryApprovalData = () => {\n    const handleP = pp => {\n      console.log(pp);\n      setPage(pp);\n    };\n\n    const handlePageSize = pp => {\n      console.log(pp);\n      setPageSize(pp);\n    };\n\n    const columns = useMemo(() => [{\n      Header: /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"checkbox\",\n        onChange: updateCheckBoxAll\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 19\n      }, this),\n      accessor: \"select\",\n      Cell: ({\n        row\n      }) => /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"checkbox\",\n          onChange: handleCheckBox(row.index),\n          checked: entryApproveList[row.index][\"select\"]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 13\n      }, this)\n    }, {\n      Header: \"Cdao No\",\n      accessor: \"employee.cdaoNo\"\n    }, {\n      Header: \"Check Digit\",\n      accessor: \"employee.checkDigit\"\n    }, {\n      Header: \"Officer Name\",\n      accessor: \"employee.officerName\"\n    }, {\n      Header: \"Stop Pay Description\",\n      accessor: \"stopPayDescription\"\n    }, {\n      Header: \"Qe\",\n      accessor: \"qe\"\n    }, {\n      Header: \"Discharge Date\",\n      accessor: \"dischargeDate\"\n    }, {\n      Header: \"Record Status\",\n      accessor: \"recordStatus\"\n    }], [entryApproveList, page, setPage]);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-green-100 text-gray-700\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-8xl mx-auto px-2 sm:px-6 lg:px-8 pt-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"-mt-2 max-h-1 py-0 ml-0\",\n          children: [/*#__PURE__*/_jsxDEV(TablePage, {\n            columns: columns,\n            data: entryApproveList,\n            newpage: page,\n            parentCallback: handleP,\n            newPageSize: pageSize,\n            parentCallbackPageSize: handlePageSize,\n            className: \"table-auto\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-2 ml-4\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: approve,\n              className: \"w-40 m-2 p-0\",\n              children: \"Approve\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 175,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 7\n    }, this);\n  };\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    console.log(inputText);\n    setSearch(inputText);\n  };\n\n  const handleKeyPress = event => {\n    // look for the `Enter` keyCode\n    if (event.keyCode === 13 || event.which === 13) {\n      handleSubmit(event);\n    }\n  };\n\n  const handleBack = () => {\n    history.push(\"/lpcRegisters\"); //\tsetUsrLevel(usrLevel);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-100 text-gray-900\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-8xl mx-auto px-4 sm:px-6 lg:px-8 pt-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-red-500\",\n        children: serverErrors\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-red-500\",\n        children: mesg\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-xl font-semibold ml-4\",\n        children: \"Regular Fs Entry Approval\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flexContainer\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Cdao No: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"search\",\n          onChange: e => setInputText(e.target.value),\n          onKeyPress: handleKeyPress,\n          className: \"ml-18 pl-2 -ml-2 inputField flex-initial\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          onClick: handleSubmit,\n          className: \"w-16 m-0 p-0\",\n          children: \"Search\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \" w-36 ml-8 p-0 h-6 -mt-2\",\n            onClick: handleBack,\n            children: \"Close\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-2 max-h-1 py-0 ml-0\",\n        children: /*#__PURE__*/_jsxDEV(ShowEntryApprovalData, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 203,\n    columnNumber: 5\n  }, this);\n}\n\nexport default withRouter(LpcRegisterEntryApprovalList);","map":{"version":3,"sources":["/home/itsdc3/Imp Tulip files/falconws160424/falconws/falcon_face/src/components/LpcRegisterEntryApprovalList.js"],"names":["useState","useEffect","useMemo","Table","SelectColumnFilter","axios","withRouter","Link","useHistory","useLocation","TablePage","LpcRegisterEntryApprovalList","history","data","setData","update","setUpdate","serverErrors","setServerErrors","search","setSearch","inputText","setInputText","entryApproveList","setEntryApproveList","page","setPage","usrLevel","setUsrLevel","mesg","setMesg","disabled","setDisabled","state","pageSize","setPageSize","fetching","fetchEntryApproveData","get","then","response","console","log","catch","error","Error","approve","put","status","handleCheckBox","index","e","target","checked","item","newData","updateCheckBoxAll","k","select","ShowEntryApprovalData","handleP","pp","handlePageSize","columns","Header","accessor","Cell","row","handleSubmit","event","preventDefault","handleKeyPress","keyCode","which","handleBack","push","value"],"mappings":"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","sourcesContent":["/**\n * Code generated using Python\n * @author Raja Reddy\n * Date : 18 April 2022\n *\n * Modified By :\n */\n\nimport { useState, useEffect, useMemo } from \"react\";\nimport Table, { SelectColumnFilter } from \"../utils/Table\"; //\nimport axios from \"axios\";\nimport { withRouter, Link, useHistory, useLocation } from \"react-router-dom\";\nimport TablePage from \"../utils/TablePage\";\n\nfunction LpcRegisterEntryApprovalList() {\n  let history = useHistory();\n\n  const [data, setData] = useState([]);\n  const [update, setUpdate] = useState(false);\n  const [serverErrors, setServerErrors] = useState([]);\n  const [search, setSearch] = useState(\"\");\n  const [inputText, setInputText] = useState(\"\");\n\n  const [entryApproveList, setEntryApproveList] = useState([]);\n  const [page, setPage] = useState(0);\n  const [usrLevel, setUsrLevel] = useState(\"\");\n  const [mesg, setMesg] = useState(\"\");\n  const [disabled, setDisabled] = useState(false);\n  const { state } = useLocation();\n  const [pageSize, setPageSize] = useState(0);\n\n  useEffect(() => {\n    let fetching = false;\n    //\tconsole.log(\">>>>InXXXXXX:\" + state);\n    async function fetchEntryApproveData() {\n      if (!fetching)\n        await axios\n          .get(`/lpcRegisters/entryApprovalList?search=` + search)\n          .then((response) => {\n            setEntryApproveList(response.data);\n            setUsrLevel(response.data[0].usrLevel);\n            console.log(\">>>>Usr Level is----:\" + usrLevel);\n          })\n          .catch((error) => {\n            //console.log(error);\n            //console.log(error.response.status);\n            //console.log(error.response.headers);\n            if (error.response) setServerErrors(error.response.data.error);\n            else setServerErrors(error.Error);\n          });\n    }\n    fetchEntryApproveData();\n    return () => {\n      fetching = true;\n    };\n  }, [update, search, state]);\n\n  async function approve() {\n    await axios\n      .put(`/lpcRegisters/bulkEntryApprove`, entryApproveList)\n      .then((response) => {\n        console.log(\"reponse status--------------\" + response.status);\n        setMesg(response.data);\n        //\thistory.push({ pathname: '/lpcRegisters', state: response.data });\n        setEntryApproveList([]);\n      })\n      .catch((error) => {\n        //\tconsole.log(error);\n        //console.log(error.response.status);\n        //console.log(error.response.headers);\n        if (error.response) setServerErrors(error.response.data.error);\n        else setServerErrors(error.Error);\n      });\n  }\n\n  const handleCheckBox = (index) => (e) => {\n    //console.log(Table.page)\n    console.log(e.target.checked + \"--\" + index);\n\n    console.log(e.target.checked);\n    let item = entryApproveList[index];\n\n    item[\"select\"] = e.target.checked;\n    let newData = [...entryApproveList];\n    newData[index] = item;\n    setEntryApproveList(newData);\n  };\n\n  const updateCheckBoxAll = (e) => {\n    // console.log(\"...\"+e.target.checked+\"--\"+index);\n\n    let newData = [...entryApproveList];\n    for (var k in newData) {\n      newData[k].select = e.target.checked;\n    }\n    setEntryApproveList(newData);\n  };\n  const ShowEntryApprovalData = () => {\n    const handleP = (pp) => {\n      console.log(pp);\n      setPage(pp);\n    };\n    const handlePageSize = (pp) => {\n      console.log(pp);\n      setPageSize(pp);\n    };\n\n    const columns = useMemo(\n      () => [\n        {\n          Header: <input type=\"checkbox\" onChange={updateCheckBoxAll} />,\n          accessor: \"select\",\n          Cell: ({ row }) => (\n            <div>\n              <input\n                type=\"checkbox\"\n                onChange={handleCheckBox(row.index)}\n                checked={entryApproveList[row.index][\"select\"]}\n              />\n            </div>\n          ),\n        },\n        {\n          Header: \"Cdao No\",\n          accessor: \"employee.cdaoNo\",\n        },\n\n        {\n          Header: \"Check Digit\",\n          accessor: \"employee.checkDigit\",\n        },\n\n        {\n          Header: \"Officer Name\",\n          accessor: \"employee.officerName\",\n        },\n\n        {\n          Header: \"Stop Pay Description\",\n          accessor: \"stopPayDescription\",\n        },\n\n        {\n          Header: \"Qe\",\n          accessor: \"qe\",\n        },\n\n        {\n          Header: \"Discharge Date\",\n          accessor: \"dischargeDate\",\n        },\n\n        {\n          Header: \"Record Status\",\n          accessor: \"recordStatus\",\n        },\n      ],\n      [entryApproveList, page, setPage]\n    );\n\n    return (\n      <div className=\"min-h-screen bg-green-100 text-gray-700\">\n        <div className=\"max-w-8xl mx-auto px-2 sm:px-6 lg:px-8 pt-4\">\n          <div className=\"-mt-2 max-h-1 py-0 ml-0\">\n            <TablePage\n              columns={columns}\n              data={entryApproveList}\n              newpage={page}\n              parentCallback={handleP}\n              newPageSize={pageSize}\n              parentCallbackPageSize={handlePageSize}\n              className=\"table-auto\"\n            />\n            <div className=\"mt-2 ml-4\">\n              <button type=\"button\" onClick={approve} className=\"w-40 m-2 p-0\">\n                Approve\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  };\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    console.log(inputText);\n    setSearch(inputText);\n  };\n\n  const handleKeyPress = (event) => {\n    // look for the `Enter` keyCode\n    if (event.keyCode === 13 || event.which === 13) {\n      handleSubmit(event);\n    }\n  };\n  const handleBack = () => {\n    history.push(\"/lpcRegisters\");\n    //\tsetUsrLevel(usrLevel);\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-100 text-gray-900\">\n      <div className=\"max-w-8xl mx-auto px-4 sm:px-6 lg:px-8 pt-4\">\n        <div className=\"text-red-500\">{serverErrors}</div>\n        <div className=\"text-red-500\">{mesg}</div>\n\n        <h1 className=\"text-xl font-semibold ml-4\">\n          Regular Fs Entry Approval\n        </h1>\n\n        <br />\n\n        <div className=\"flexContainer\">\n          <label>Cdao No: </label>\n          <input\n            type=\"text\"\n            name=\"search\"\n            onChange={(e) => setInputText(e.target.value)}\n            onKeyPress={handleKeyPress}\n            className=\"ml-18 pl-2 -ml-2 inputField flex-initial\"\n          />\n\n          <button type=\"submit\" onClick={handleSubmit} className=\"w-16 m-0 p-0\">\n            Search\n          </button>\n          <div>\n            <button className=\" w-36 ml-8 p-0 h-6 -mt-2\" onClick={handleBack}>\n              Close\n            </button>\n          </div>\n        </div>\n\n        <div className=\"mt-2 max-h-1 py-0 ml-0\">\n          <ShowEntryApprovalData />\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default withRouter(LpcRegisterEntryApprovalList);\n"]},"metadata":{},"sourceType":"module"}