{"ast":null,"code":"import _regeneratorRuntime from\"/home/itsdcsec/falconws/falcon_face/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/itsdcsec/falconws/falcon_face/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/itsdcsec/falconws/falcon_face/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState,useEffect,useMemo}from'react';import Table1,{SelectColumnFilter}from'../utils/Table1';// \nimport axios from\"axios\";import{withRouter,Link,useLocation}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function CbillTadaLtcPendingList(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),update=_useState4[0],setUpdate=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),serverErrors=_useState6[0],setServerErrors=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),search=_useState8[0],setSearch=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),inputText=_useState10[0],setInputText=_useState10[1];var _useState11=useState(''),_useState12=_slicedToArray(_useState11,2),selectionType=_useState12[0],setSelectionType=_useState12[1];var location=useLocation();var _useState13=useState(''),_useState14=_slicedToArray(_useState13,2),fileName=_useState14[0],setFileName=_useState14[1];var _useState15=useState(''),_useState16=_slicedToArray(_useState15,2),value=_useState16[0],setValue=_useState16[1];var _useState17=useState(\"\"),_useState18=_slicedToArray(_useState17,2),search1=_useState18[0],setSearch1=_useState18[1];useEffect(function(){var fetching=false;function fetchData(){return _fetchData.apply(this,arguments);}function _fetchData(){_fetchData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(fetching){_context.next=3;break;}_context.next=3;return axios.get('/cbillTadaLtcs/allBills/pendingForSection?filter=approved&search='+search+'&search1='+search1).then(function(response){setData(response.data);setSelectionType('pending');}).catch(function(error){//console.log(error);\n//console.log(error.response.status);\n//console.log(error.response.headers);\nif(error.response)setServerErrors(error.response.data.error);else setServerErrors(error.Error);});case 3:case\"end\":return _context.stop();}}},_callee);}));return _fetchData.apply(this,arguments);}fetchData();return function(){fetching=true;};},[update,search,search1]);var columns=useMemo(function(){return[{Header:\"Dak\",accessor:'dak.dakidNo',Filter:SelectColumnFilter,filter:'includes',Cell:function Cell(_ref){var row=_ref.row;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"label\",{children:row.original.dak.dakidNo})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"label\",{children:row.original.advId})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"label\",{children:[\"Sec : \",row.original.section.sectionName]})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"label\",{children:[\"Month : \",row.original.monthEnding]})})]});}},{Header:\"Task\",accessor:'taskNo',Filter:SelectColumnFilter,filter:'includes',Cell:function Cell(_ref2){var row=_ref2.row;return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"label\",{children:row.original.taskNo})})});}},{Header:\"Sec\",accessor:'section.sectionName',Filter:SelectColumnFilter,filter:'includes',Cell:function Cell(_ref3){var row=_ref3.row;return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"label\",{children:row.original.section.sectionName})})});}},{Header:\"Receipt Date\",accessor:'dak.createdAt'// Change this\n},{Header:\"Bill Type\",accessor:'billType.description',// Change this\nFilter:SelectColumnFilter,filter:'dak.dakType.description',Cell:function Cell(_ref4){var row=_ref4.row;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"label\",{children:[\"DakType : \",row.original.dak.dakType.description]})}),/*#__PURE__*/_jsx(\"div\",{children:row.original.billType&&/*#__PURE__*/_jsxs(\"label\",{children:[\"Bill Type : \",row.original.billType.description]})})]});}},{Header:\"Officer Name\",accessor:'employee.officerName',// Change this\nCell:function Cell(_ref5){var row=_ref5.row;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"label\",{children:[row.original.employee.rank.rankName,\" \",' ',\" \",row.original.employee.officerName]})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"label\",{children:[\" \",row.original.employee.cdaoNo,row.original.employee.checkDigit]})})]});}},{Header:\"Journey Date\",accessor:'journeyStartDate',Cell:function Cell(_ref6){var row=_ref6.row;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{children:row.original.journeyStartDate&&/*#__PURE__*/_jsxs(\"label\",{children:[\"Start Date : \",row.original.journeyStartDate]})}),/*#__PURE__*/_jsx(\"div\",{children:row.original.journeyEndDate&&/*#__PURE__*/_jsxs(\"label\",{children:[\"End Date : \",row.original.journeyEndDate]})}),/*#__PURE__*/_jsx(\"div\",{children:row.original.journeyStationFrom&&/*#__PURE__*/_jsxs(\"label\",{children:[\"From : \",row.original.journeyStationFrom]})}),/*#__PURE__*/_jsx(\"div\",{children:row.original.journeyStationTo&&/*#__PURE__*/_jsxs(\"label\",{children:[\"To : \",row.original.journeyStationTo]})})]});}},{Header:\"Amount Claimed\",accessor:'amountClaimed',Cell:function Cell(_ref7){var row=_ref7.row;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{children:row.original.amountClaimed&&/*#__PURE__*/_jsxs(\"label\",{children:[\"Claimed : \",row.original.amountClaimed]})}),/*#__PURE__*/_jsx(\"div\",{children:row.original.amountDisallowed!=null&&/*#__PURE__*/_jsxs(\"label\",{children:[\"Disallowance : \",row.original.amountDisallowed]})}),/*#__PURE__*/_jsx(\"div\",{children:row.original.advanceAmount!=null&&/*#__PURE__*/_jsxs(\"label\",{children:[\"Advance : \",row.original.advanceAmount]})}),/*#__PURE__*/_jsx(\"div\",{children:row.original.mroAmount!=null&&/*#__PURE__*/_jsxs(\"label\",{children:[\"MRO : \",row.original.mroAmount]})}),/*#__PURE__*/_jsx(\"div\",{children:row.original.amountPassed!=null&&/*#__PURE__*/_jsxs(\"label\",{children:[\"Passed : \",row.original.amountPassed]})}),/*#__PURE__*/_jsx(\"div\",{children:row.original.adjustmentAmount!=null&&/*#__PURE__*/_jsxs(\"label\",{children:[\"Adjustment : \",row.original.adjustmentAmount]})})]});}},{Header:\"Record Status\",accessor:'recordStatus'}/*\n\t\t{\n\t\t\tHeader: \"Login Name\",\n\t\t\taccessor: 'loginName',\n\t\t\tFilter: SelectColumnFilter,  // new\n\t\t\tfilter: 'includes',\n\t\t},\n\t\t*/];},[data]);var handleSubmit=function handleSubmit(event){event.preventDefault();console.log(inputText);setSearch(inputText);console.log(value);setSearch1(value);};var handleAmountPassed=function handleAmountPassed(event){event.preventDefault();//console.log(inputText);\n//setSearch(inputText);\n//console.log(value);\nsetSearch1(value);setSelectionType('approved');};var handleKeyPress=function handleKeyPress(event){// look for the `Enter` keyCode\nif(event.keyCode===13||event.which===13){handleSubmit(event);}};return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-100 text-gray-900\",children:/*#__PURE__*/_jsxs(\"main\",{className:\"max-w-8xl mx-auto px-4 sm:px-6 lg:px-8 pt-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2 ml-4\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-xl font-semibold\",children:\"Cbill Tada Ltcs - Pending \"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flexContainer\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"search\",placeholder:\"CDAO No,Dak Id No\",onChange:function onChange(e){return setInputText(e.target.value);},onKeyPress:handleKeyPress,className:\"pl-2 -ml-2 inputField flex-initial\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",onClick:handleSubmit,className:\"w-16 m-0 p-0\",children:\"Search\"}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Link,{to:\"/cbillTadaLtcs/twControls/pendency\",children:/*#__PURE__*/_jsx(\"button\",{className:\" w-42 ml-8 p-0 h-6 -mt-2\",children:\"Task Wise Pendency\"})})})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"h1\",{className:\"text-xl font-semibold\",children:location.state})})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"br\",{})}),/*#__PURE__*/_jsx(\"div\",{className:\"-mt-2 max-h-1 py-0\",children:/*#__PURE__*/_jsx(Table1,{columns:columns,data:data,className:\"table-auto\"})})]})});}export default withRouter(CbillTadaLtcPendingList);","map":{"version":3,"sources":["/home/itsdcsec/falconws/falcon_face/src/components/CbillTadaLtcPendingList.js"],"names":["useState","useEffect","useMemo","Table1","SelectColumnFilter","axios","withRouter","Link","useLocation","CbillTadaLtcPendingList","data","setData","update","setUpdate","serverErrors","setServerErrors","search","setSearch","inputText","setInputText","selectionType","setSelectionType","location","fileName","setFileName","value","setValue","search1","setSearch1","fetching","fetchData","get","then","response","catch","error","Error","columns","Header","accessor","Filter","filter","Cell","row","original","dak","dakidNo","advId","section","sectionName","monthEnding","taskNo","dakType","description","billType","employee","rank","rankName","officerName","cdaoNo","checkDigit","journeyStartDate","journeyEndDate","journeyStationFrom","journeyStationTo","amountClaimed","amountDisallowed","advanceAmount","mroAmount","amountPassed","adjustmentAmount","handleSubmit","event","preventDefault","console","log","handleAmountPassed","handleKeyPress","keyCode","which","e","target","state"],"mappings":"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","sourcesContent":["import { useState, useEffect, useMemo } from 'react';\nimport Table1, { SelectColumnFilter } from '../utils/Table1'  // \nimport axios from \"axios\";\nimport { withRouter, Link,useLocation  } from \"react-router-dom\";\n\nfunction CbillTadaLtcPendingList() {\n\n\tconst [data, setData] = useState([]);\n\tconst [update, setUpdate] = useState(false);\n\tconst [serverErrors, setServerErrors] = useState([]);\n\tconst [search, setSearch] = useState(\"\");\n\tconst [inputText, setInputText] = useState('');\n\tconst [selectionType,setSelectionType]=useState('');\n\t const location=useLocation();\n\t const [fileName,setFileName]=useState('');\n\tconst [value, setValue]=useState('');\n\tconst [search1, setSearch1] = useState(\"\");\n\t\n\tuseEffect(() => {\n\t\tlet fetching = false;\n\t\tasync function fetchData() {\n\t\t\t \n\t\t\tif (!fetching)\n\t\t \n\t\t\t\tawait axios.get('/cbillTadaLtcs/allBills/pendingForSection?filter=approved&search=' + search+'&search1='+search1)\n\t\t\t\t\t.then((response) => {\n\t\t\t\t\t\tsetData(response.data);\n\t\t\t\t\t\tsetSelectionType('pending');\n\t\t\t\t\t})\n\t\t\t\t\t.catch((error) => {\n\t\t\t\t\t\t//console.log(error);\n\t\t\t\t\t\t//console.log(error.response.status);\n\t\t\t\t\t\t//console.log(error.response.headers);\n\t\t\t\t\t\tif (error.response)\n\t\t\t\t\t\t\tsetServerErrors(error.response.data.error);\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tsetServerErrors(error.Error);\n\t\t\t\t\t})\n\t\t\t \n\t\t}\n\t\tfetchData();\n\t\treturn () => { fetching = true; }\n\n\t}, [update, search,search1]);\n\n   \n\t\n\tconst columns = useMemo(() => [\n\t\t{\n\t\t\t \n\t\t\tHeader: \"Dak\",\n\t\t\taccessor : 'dak.dakidNo',\n\t\t\tFilter: SelectColumnFilter,   \n\t\t\tfilter: 'includes',\n\t\t\tCell: ({ row }) => (\n\t\t\t\t<div>\n\t\t\t\t<div>\n\t\t\t\t<label>{row.original.dak.dakidNo}</label>\n\t\t\t\t </div>\n\t\t\t\t <div>\n\t\t\t\t<label>{row.original.advId}</label>\n\t\t\t\t </div>\n\t\t\t\t  <div>\n\t\t\t\t<label>Sec : {row.original.section.sectionName}</label>\n\t\t\t\t </div>\n\t\t\t\t \n\t\t\t\t  <div>\n\t\t\t\t<label>Month : {row.original.monthEnding}</label>\n\t\t\t\t </div>\n\t\t\t\t \n\t\t\t\t \n\t\t\t\t  \n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t)\n\t\t\t \n\t\t},\n\t\t{\n\t\t\t \n\t\t\tHeader: \"Task\",\n\t\t\taccessor : 'taskNo',\n\t\t\tFilter: SelectColumnFilter,   \n\t\t\tfilter: 'includes',\n\t\t\tCell: ({ row }) => (\n\t\t\t\t<div>\n\t\t\t\t<div>\n\t\t\t\t<label>{row.original.taskNo}</label>\n\t\t\t\t </div>\n\t\t\t\t \n\t\t\t\t \n\t\t\t\t  \n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t)\n\t\t\t \n\t\t},\n\t\t{\n\t\t\t \n\t\t\tHeader: \"Sec\",\n\t\t\taccessor : 'section.sectionName',\n\t\t\tFilter: SelectColumnFilter,   \n\t\t\tfilter: 'includes',\n\t\t\tCell: ({ row }) => (\n\t\t\t\t<div>\n\t\t\t\t<div>\n\t\t\t\t<label>{row.original.section.sectionName}</label>\n\t\t\t\t </div>\n\t\t\t\t \n\t\t\t\t \n\t\t\t\t  \n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t)\n\t\t\t \n\t\t},\n\t\t\n\t\t{\n\t\t\tHeader: \"Receipt Date\",\n\t\t\taccessor: 'dak.createdAt',// Change this\n\t\t},\n\n\t\t \n\n\t\t{\n\t\t\tHeader: \"Bill Type\",\n\t\t\taccessor: 'billType.description',// Change this\n\t\t\tFilter: SelectColumnFilter,   \n\t\t\tfilter: 'dak.dakType.description',\n\t\t\tCell: ({ row }) => (\n\t\t\t\t<div>\n\t\t\t\t<div>\n\t\t\t\t<label>DakType : {row.original.dak.dakType.description}</label>\n\t\t\t\t </div>\n\t\t\t\t <div>\n\t\t\t\t {row.original.billType &&\n\t\t\t\t<label>Bill Type : {row.original.billType.description}</label>\n\t\t\t\t}\n\t\t\t\t </div>\n\t\t\t\t   \n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t)\n\t\t},\n\n\n\t\t{\n\t\t\tHeader: \"Officer Name\",\n\t\t\taccessor: 'employee.officerName',// Change this\n\t\t\t \n\t\t\tCell: ({ row }) => (\n\t\t\t\t<div>\n\t\t\t\t<div>\n\t\t\t\t<label>{row.original.employee.rank.rankName} {' '} {row.original.employee.officerName}</label>\n\t\t\t\t </div>\n\t\t\t\t <div>\n\t\t\t\t  \n\t\t\t\t<label> {row.original.employee.cdaoNo}{row.original.employee.checkDigit}</label>\n\t\t\t\t\n\t\t\t\t </div>\n\t\t\t\t   \n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t)\n\t\t},\n\n\t\t \n\n \n\t\t{\n\t\t\tHeader: \"Journey Date\",\n\t\t\taccessor: 'journeyStartDate',\n\t\t\t \n\t\t\tCell: ({ row }) => (\n\t\t\t\t<div>\n\t\t\t\n\t\t\t\t<div>\n\t\t\t\t{row.original.journeyStartDate &&\n\t\t\t\t<label>Start Date : {row.original.journeyStartDate}</label>\n\t\t\t\t}\n\t\t\t\t </div>\n\t\t\t\t <div>\n\t\t\t\t{row.original.journeyEndDate &&\n\t\t\t\t<label>End Date : {row.original.journeyEndDate}</label>\n\t\t\t\t}\n\t\t\t\t </div>\n\t\t\t\t <div>\n\t\t\t\t{row.original.journeyStationFrom &&\n\t\t\t\t<label>From : {row.original.journeyStationFrom}</label>\n\t\t\t\t}\n\t\t\t\t </div>\n\t\t\t\t <div>\n\t\t\t\t{row.original.journeyStationTo &&\n\t\t\t\t<label>To : {row.original.journeyStationTo}</label>\n\t\t\t\t}\n\t\t\t\t </div>\n\t\t\t\t   \n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t)\n\t\t},\n\t\t \n\n\t\t\n\t\t \n\t\t \n\t\t{\n\t\t\tHeader: \"Amount Claimed\",\n\t\t\taccessor: 'amountClaimed',\n\t\t\t\tCell: ({ row }) => (\n\t\t\t\t<div>\n\t\t\t\n\t\t\t\t<div>\n\t\t\t\t{row.original.amountClaimed &&\n\t\t\t\t<label>Claimed : {row.original.amountClaimed}</label>\n\t\t\t\t}\n\t\t\t\t </div>\n\t\t\t\t <div>\n\t\t\t\t{row.original.amountDisallowed!=null &&\n\t\t\t\t<label>Disallowance : {row.original.amountDisallowed}</label>\n\t\t\t\t}\n\t\t\t\t </div>\n\t\t\t\t <div>\n\t\t\t\t{row.original.advanceAmount!=null &&\n\t\t\t\t<label>Advance : {row.original.advanceAmount}</label>\n\t\t\t\t}\n\t\t\t\t </div>\n\t\t\t\t <div>\n\t\t\t\t{row.original.mroAmount!=null &&\n\t\t\t\t<label>MRO : {row.original.mroAmount}</label>\n\t\t\t\t}\n\t\t\t\t </div>\n\t\t\t\t <div>\n\t\t\t\t{row.original.amountPassed!=null &&\n\t\t\t\t<label>Passed : {row.original.amountPassed}</label>\n\t\t\t\t}\n\t\t\t\t </div>\n\t\t\t\t <div>\n\t\t\t\t{row.original.adjustmentAmount!=null &&\n\t\t\t\t<label>Adjustment : {row.original.adjustmentAmount}</label>\n\t\t\t\t}\n\t\t\t\t </div>\n\t\t\t\t  \n\t\t\t\t \n\t\t\t\t   \n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t)\n\t\t},\n\n\t\t \n\t\t \n\n\n\t\t \n\n\t\t{\n\t\t\tHeader: \"Record Status\",\n\t\t\taccessor: 'recordStatus',\n\t\t\t\n\t\t\t\n\t\t},\n\n\t\t \n\n\t\t/*\n\t\t{\n\t\t\tHeader: \"Login Name\",\n\t\t\taccessor: 'loginName',\n\t\t\tFilter: SelectColumnFilter,  // new\n\t\t\tfilter: 'includes',\n\t\t},\n\t\t*/\n\t], [data])\n\n\tconst handleSubmit = (event) => {\n\t\tevent.preventDefault();\n\t\tconsole.log(inputText);\n\t\tsetSearch(inputText);\n\t\tconsole.log(value);\n\t\tsetSearch1(value);\n\t}\n\t\n\tconst handleAmountPassed = (event) => {\n\t\tevent.preventDefault();\n\t\t//console.log(inputText);\n\t\t//setSearch(inputText);\n\t\t//console.log(value);\n\t\tsetSearch1(value);\n\t\tsetSelectionType('approved');\n\t}\n\n\n\tconst handleKeyPress = (event) => {\n\t\t// look for the `Enter` keyCode\n\t\tif (event.keyCode === 13 || event.which === 13) {\n\t\t\thandleSubmit(event)\n\t\t}\n\t}\n\n\treturn (\n\t\t<div className=\"min-h-screen bg-gray-100 text-gray-900\">\n\t\t\t<main className=\"max-w-8xl mx-auto px-4 sm:px-6 lg:px-8 pt-4\">\n\t\t\t\t<div className=\"mt-2 ml-4\">\n\t\t\t\t\t<h1 className=\"text-xl font-semibold\">Cbill Tada Ltcs - Pending </h1>\n\t\t\t\t\t<div className=\"flexContainer\">\n\t\t\t\t\t\t<input type=\"text\" name=\"search\" placeholder=\"CDAO No,Dak Id No\"\n\t\t\t\t\t\t\tonChange={e => setInputText(e.target.value)}\n\t\t\t\t\t\t\tonKeyPress={handleKeyPress}\n\t\t\t\t\t\t\tclassName=\"pl-2 -ml-2 inputField flex-initial\" />\n\t\t\t\t\t\t<button type=\"submit\" onClick={handleSubmit} className=\"w-16 m-0 p-0\">Search</button>\n\t\t\t\t\t\t\n\t\t\t\t\t\t \n\t\t\t\t\t\t \n\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<Link to={\"/cbillTadaLtcs/twControls/pendency\"}>\n\t\t\t\t\t\t\t\t<button className=\" w-42 ml-8 p-0 h-6 -mt-2\" >Task Wise Pendency</button>\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</div>\t\n\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div>\n\t\t\t\t\t\t <h1 className=\"text-xl font-semibold\">{location.state}</h1>\n\t\t\t\t\t\t</div>\t\n\t\t\t\t</div>\n\t\t\t\t<div >\n\t\t\t\t<br/>\n\t\t\t\t\t  \n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"-mt-2 max-h-1 py-0\">\n\t\t\t\t\t<Table1 columns={columns} data={data} className=\"table-auto\" />\n\t\t\t\t</div>\n\t\t\t</main>\n\t\t</div>\n\t);\n}\n\nexport default withRouter(CbillTadaLtcPendingList);\n\n"]},"metadata":{},"sourceType":"module"}