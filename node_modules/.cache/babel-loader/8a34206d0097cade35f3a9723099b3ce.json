{"ast":null,"code":"import _slicedToArray from\"/home/itsdcsec/falconws/falcon_face/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";/**\n@author Raja Reddy\nOctober 2021\n*/import{Nav,Navbar,NavDropdown,Container}from\"react-bootstrap\";import\"bootstrap/dist/css/bootstrap.min.css\";import{useState,useEffect}from\"react\";import{withRouter,Link}from\"react-router-dom\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AppNavBar=function AppNavBar(_ref){var menu=_ref.menu,usrName=_ref.usrName;//console.log(menu);\nvar _useState=useState([]),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),serverErrors=_useState4[0],setServerErrors=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),topLevelMenu=_useState6[0],setTopLevelMenu=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),subMenus=_useState8[0],setSubMenus=_useState8[1];//console.log(subMenus);\ntopLevelMenu.length=0;// Clear array\nsubMenus.length=0;// Clear array\nvar arr=null;menu&&menu.map(function(item){//console.log(item);\nif(item.fkParentMenu===1){//Top level menu. Not sub menu\ntopLevelMenu.push(item);}else if(!item.fkParentMenu){// New sub menu\nif(arr!==null){subMenus.push(arr);//console.log(subMenus);\n}arr=[];arr.push(item);//Title of menu\n}else{// Continuing with a sub menu\narr.push(item);}});if(arr)subMenus.push(arr);//setSubMenus(subMenus);\n//console.log(topLevelMenu);\n//console.log(subMenus);\nreturn/*#__PURE__*/_jsx(\"div\",{className:\"sticky z-10 top-0 fixed-top2 \",children:/*#__PURE__*/_jsx(Navbar,{bg:\"success\",variant:\"dark\",expand:\"lg\",className:\"bg-gradient-to-r from-green-600 via-green-400 to-green-600\",children:/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsxs(Navbar.Brand,{href:\"/\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"/falcon2.png\",width:\"30\",height:\"30\",className:\"d-inline-block align-top\",alt:\"Falcon logo\"}),\"  \",\"Falcon\"]}),/*#__PURE__*/_jsx(Navbar.Toggle,{\"aria-controls\":\"basic-navbar-nav\"}),/*#__PURE__*/_jsxs(Navbar.Collapse,{id:\"basic-navbar-nav\",children:[/*#__PURE__*/_jsxs(Nav,{className:\"me-auto\",children:[/*#__PURE__*/_jsx(Nav.Link,{href:\"/\",children:\"Home\"}),topLevelMenu.map(function(item){return/*#__PURE__*/_jsx(Nav.Link,{href:\"/\"+item.link,children:item.menuName},item.id);}),subMenus.map(function(subMenu){//console.log(subMenu[0].menuName);\nreturn/*#__PURE__*/_jsx(NavDropdown,{title:subMenu[0].menuName,id:\"basic-nav-dropdown\",className:\"my-0 py-0\",children:subMenu.slice(1).map(function(item){return/*#__PURE__*/_jsxs(NavDropdown.Item,{//as={Link}\n//to={\"/\" + item.link}\nhref:\"/\"+item.link,className:\"leading-none  pb-1 \",children:[\" \",item.menuName,\" \"]},item.id);})},subMenu[0].id);})]}),/*#__PURE__*/_jsxs(Nav,{children:[!menu&&/*#__PURE__*/_jsx(Nav.Link,{href:\"\".concat(process.env.REACT_APP_BASE_URL,\"/login\"),children:\"Login\"}),menu&&/*#__PURE__*/_jsxs(Nav.Link,{eventKey:2,href:\"\".concat(process.env.REACT_APP_BASE_URL,\"/logout\"),children:[\" \",\"Logout\",\" \"]})]})]})]})})});};export default AppNavBar;","map":{"version":3,"sources":["/home/itsdcsec/falconws/falcon_face/src/menu/AppNavBar.js"],"names":["Nav","Navbar","NavDropdown","Container","useState","useEffect","withRouter","Link","axios","AppNavBar","menu","usrName","data","setData","serverErrors","setServerErrors","topLevelMenu","setTopLevelMenu","subMenus","setSubMenus","length","arr","map","item","fkParentMenu","push","link","menuName","id","subMenu","slice","process","env","REACT_APP_BASE_URL"],"mappings":"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","sourcesContent":["/**\n@author Raja Reddy\nOctober 2021\n*/\n\nimport { Nav, Navbar, NavDropdown, Container } from \"react-bootstrap\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport { useState, useEffect } from \"react\";\nimport { withRouter, Link } from \"react-router-dom\";\nimport axios from \"axios\";\n\nconst AppNavBar = ({ menu, usrName }) => {\n  //console.log(menu);\n\n  const [data, setData] = useState([]);\n  const [serverErrors, setServerErrors] = useState([]);\n  const [topLevelMenu, setTopLevelMenu] = useState([]);\n  const [subMenus, setSubMenus] = useState([]);\n  //console.log(subMenus);\n  topLevelMenu.length = 0; // Clear array\n  subMenus.length = 0; // Clear array\n  let arr = null;\n  menu &&\n    menu.map((item) => {\n      //console.log(item);\n      if (item.fkParentMenu === 1) {\n        //Top level menu. Not sub menu\n        topLevelMenu.push(item);\n      } else if (!item.fkParentMenu) {\n        // New sub menu\n        if (arr !== null) {\n          subMenus.push(arr);\n          //console.log(subMenus);\n        }\n        arr = [];\n        arr.push(item); //Title of menu\n      } else {\n        // Continuing with a sub menu\n        arr.push(item);\n      }\n    });\n  if (arr) subMenus.push(arr);\n  //setSubMenus(subMenus);\n  //console.log(topLevelMenu);\n  //console.log(subMenus);\n\n  return (\n    <div className=\"sticky z-10 top-0 fixed-top2 \">\n      <Navbar bg=\"success\" variant=\"dark\" expand=\"lg\" className=\"bg-gradient-to-r from-green-600 via-green-400 to-green-600\">\n        <Container>\n          <Navbar.Brand href=\"/\">\n            <img\n              src=\"/falcon2.png\"\n              width=\"30\"\n              height=\"30\"\n              className=\"d-inline-block align-top\"\n              alt=\"Falcon logo\"\n            />\n            {\"  \"}\n            Falcon\n          </Navbar.Brand>\n          <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\n          <Navbar.Collapse id=\"basic-navbar-nav\">\n            <Nav className=\"me-auto\">\n              <Nav.Link href=\"/\">Home</Nav.Link>\n\n              {topLevelMenu.map((item) => (\n                <Nav.Link key={item.id} href={\"/\" + item.link}>\n                  {item.menuName}\n                </Nav.Link>\n              ))}\n\n              {subMenus.map((subMenu) => {\n                //console.log(subMenu[0].menuName);\n                return (\n                  <NavDropdown\n                    key={subMenu[0].id}\n                    title={subMenu[0].menuName}\n                    id=\"basic-nav-dropdown\"\n                    className=\"my-0 py-0\"\n                  >\n                    {subMenu.slice(1).map((item) => (\n                      <NavDropdown.Item\n                        key={item.id}\n                        //as={Link}\n                        //to={\"/\" + item.link}\n                        href={\"/\" + item.link}\n                        className=\"leading-none  pb-1 \"\n                      >\n                        {\" \"}\n                        {item.menuName}{\" \"}\n                      </NavDropdown.Item>\n                    ))}\n                  </NavDropdown>\n                );\n              })}\n            </Nav>\n\n            <Nav>\n              {!menu && (\n                <Nav.Link href={`${process.env.REACT_APP_BASE_URL}/login`}>\n                  Login\n                </Nav.Link>\n              )}\n              {menu && (\n                <Nav.Link\n                  eventKey={2}\n                  href={`${process.env.REACT_APP_BASE_URL}/logout`}\n                >\n                  {\" \"}\n                  Logout{\" \"}\n                </Nav.Link>\n              )}\n            </Nav>\n          </Navbar.Collapse>\n        </Container>\n      </Navbar>\n    </div>\n  );\n};\n\nexport default AppNavBar;\n"]},"metadata":{},"sourceType":"module"}