{"ast":null,"code":"import _slicedToArray from\"/home/itsdcsec/falconws/falcon_face/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState,useEffect}from\"react\";import{withRouter,useParams,useHistory}from\"react-router-dom\";import{useForm}from\"react-hook-form\";import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var UploadDsop=function UploadDsop(){var _useState=useState(),_useState2=_slicedToArray(_useState,2),selectedFile=_useState2[0],setSelectedFile=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),lightTheme=_useState4[0],setLightTheme=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),disabled=_useState6[0],setDisabled=_useState6[1];useEffect(function(){console.log(selectedFile);},[selectedFile,setSelectedFile]);var handleInputChange=function handleInputChange(e){e.preventDefault();console.log(e);setSelectedFile(e.target.files[0]);console.log(selectedFile);};var fileChangeHandler=function fileChangeHandler(){console.log(selectedFile);setDisabled(true);var formData=new FormData();formData.append('file',selectedFile);//ApiService.upload(formData)\naxios.post(\"/cbillFunds/upload/onlineDsop\",formData,{headers:{'Content-Type':'multipart/form-data'}}).then(function(res){console.log(res.data);alert(\"File uploaded successfully.\");setDisabled(false);}).catch(function(error){alert(error.response.data.message);setDisabled(false);console.log(error.response.data.message);console.log(error.response.status);console.log(error.response.headers);/*\n\t\t\tif (error.response)\n\t\t\t\tsetServerErrors(error.response.data.error);\n\t\t\telse\n\t\t\t\tsetServerErrors(error.Error);\n\t\t\t*/});};return/*#__PURE__*/_jsx(\"div\",{className:lightTheme?'theme-light':'theme-dark',style:disabled?{pointerEvents:\"none\",opacity:\"0.4\"}:{},children:/*#__PURE__*/_jsx(\"form\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group files color\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Upload Dsop Fund Bills File  \"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",className:\"form-control\",name:\"file\",onChange:handleInputChange})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"w-40\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:fileChangeHandler,children:\"Upload\"})})]})})});};export default withRouter(UploadDsop);","map":{"version":3,"sources":["/home/itsdcsec/falconws/falcon_face/src/components/UploadDsop.js"],"names":["useState","useEffect","withRouter","useParams","useHistory","useForm","axios","UploadDsop","selectedFile","setSelectedFile","lightTheme","setLightTheme","disabled","setDisabled","console","log","handleInputChange","e","preventDefault","target","files","fileChangeHandler","formData","FormData","append","post","headers","then","res","data","alert","catch","error","response","message","status","pointerEvents","opacity"],"mappings":"0JAEA,OAASA,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,CACA,OAASC,UAAT,CAAqBC,SAArB,CAAgCC,UAAhC,KAAkD,kBAAlD,CACA,OAASC,OAAT,KAAwB,iBAAxB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,wFAGA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAAM,eAEgBP,QAAQ,EAFxB,wCAEjBQ,YAFiB,eAEHC,eAFG,8BAGYT,QAAQ,CAAC,IAAD,CAHpB,yCAGjBU,UAHiB,eAGLC,aAHK,8BAMKX,QAAQ,CAAC,KAAD,CANb,yCAMjBY,QANiB,eAMRC,WANQ,eAQxBZ,SAAS,CAAC,UAAI,CACba,OAAO,CAACC,GAAR,CAAYP,YAAZ,EACA,CAFQ,CAEP,CAACA,YAAD,CAAcC,eAAd,CAFO,CAAT,CAIA,GAAMO,CAAAA,iBAAiB,CAAE,QAAnBA,CAAAA,iBAAmB,CAACC,CAAD,CAAM,CAC9BA,CAAC,CAACC,cAAF,GACDJ,OAAO,CAACC,GAAR,CAAYE,CAAZ,EACCR,eAAe,CAACQ,CAAC,CAACE,MAAF,CAASC,KAAT,CAAe,CAAf,CAAD,CAAf,CACAN,OAAO,CAACC,GAAR,CAAYP,YAAZ,EAEA,CAND,CAQD,GAAMa,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,EAAM,CAC9BP,OAAO,CAACC,GAAR,CAAYP,YAAZ,EACCK,WAAW,CAAC,IAAD,CAAX,CACD,GAAMS,CAAAA,QAAQ,CAAG,GAAIC,CAAAA,QAAJ,EAAjB,CACAD,QAAQ,CAACE,MAAT,CAAgB,MAAhB,CAAwBhB,YAAxB,EACA;AACAF,KAAK,CAACmB,IAAN,CAAW,+BAAX,CAA4CH,QAA5C,CAAsD,CACrDI,OAAO,CAAE,CACR,eAAgB,qBADR,CAD4C,CAAtD,EAIGC,IAJH,CAIQ,SAAAC,GAAG,CAAI,CACdd,OAAO,CAACC,GAAR,CAAYa,GAAG,CAACC,IAAhB,EACAC,KAAK,CAAC,6BAAD,CAAL,CACAjB,WAAW,CAAC,KAAD,CAAX,CACA,CARD,EAQGkB,KARH,CAQS,SAACC,KAAD,CAAW,CACnBF,KAAK,CAACE,KAAK,CAACC,QAAN,CAAeJ,IAAf,CAAoBK,OAArB,CAAL,CACArB,WAAW,CAAC,KAAD,CAAX,CACAC,OAAO,CAACC,GAAR,CAAYiB,KAAK,CAACC,QAAN,CAAeJ,IAAf,CAAoBK,OAAhC,EACApB,OAAO,CAACC,GAAR,CAAYiB,KAAK,CAACC,QAAN,CAAeE,MAA3B,EACArB,OAAO,CAACC,GAAR,CAAYiB,KAAK,CAACC,QAAN,CAAeP,OAA3B,EACA;AACH;AACA;AACA;AACA;AACA,KACG,CApBD,EAqBA,CA3BF,CA6BC,mBACE,YAAK,SAAS,CAAEhB,UAAU,CAAG,aAAH,CAAmB,YAA7C,CAA2D,KAAK,CAAEE,QAAQ,CAAE,CAACwB,aAAa,CAAE,MAAhB,CAAuBC,OAAO,CAAE,KAAhC,CAAF,CAAyC,EAAnH,uBACA,mCACA,aAAK,SAAS,CAAC,WAAf,wBACE,YAAK,SAAS,CAAC,KAAf,uBACC,YAAK,SAAS,CAAC,UAAf,uBACC,aAAK,SAAS,CAAC,wBAAf,wBACC,wDADD,cAEC,cAAO,IAAI,CAAC,MAAZ,CAAmB,SAAS,CAAC,cAA7B,CAA4C,IAAI,CAAC,MAAjD,CAAwD,QAAQ,CAAErB,iBAAlE,EAFD,GADD,EADD,EADF,cAaE,YAAK,SAAS,CAAC,MAAf,uBACE,eAAQ,IAAI,CAAC,QAAb,CAAsB,OAAO,CAAEK,iBAA/B,oBADF,EAbF,GADA,EADA,EADF,CA4BA,CA7ED,CA+EA,cAAenB,CAAAA,UAAU,CAACK,UAAD,CAAzB","sourcesContent":["\n\nimport { useState, useEffect } from \"react\";\nimport { withRouter, useParams, useHistory } from \"react-router-dom\";\nimport { useForm } from \"react-hook-form\";\nimport axios from 'axios';\n\n\nconst UploadDsop = () => {\n\n\tconst [selectedFile, setSelectedFile] = useState();\n\tconst [lightTheme, setLightTheme] = useState(true);\n\t \n\t \n\tconst [disabled,setDisabled]=useState(false);\n\t\n\tuseEffect(()=>{\n\t\tconsole.log(selectedFile);\n\t},[selectedFile,setSelectedFile])\n\t\n\tconst handleInputChange =(e) =>{\n\t\te.preventDefault();\n\tconsole.log(e);\n\t\tsetSelectedFile(e.target.files[0]);\n\t\tconsole.log(selectedFile);\n\t\t\n\t}\n\nconst fileChangeHandler = () => {\n\t\tconsole.log(selectedFile);\n\t  setDisabled(true);\n\t\tconst formData = new FormData();\n\t\tformData.append('file', selectedFile);\n\t\t//ApiService.upload(formData)\n\t\taxios.post(\"/cbillFunds/upload/onlineDsop\", formData, {\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'multipart/form-data'\n\t\t\t}\n\t\t}).then(res => {\n\t\t\tconsole.log(res.data);\n\t\t\talert(\"File uploaded successfully.\")\n\t\t\tsetDisabled(false);\n\t\t}).catch((error) => {\n\t\t\talert(error.response.data.message)\n\t\t\tsetDisabled(false);\n\t\t\tconsole.log(error.response.data.message);\n\t\t\tconsole.log(error.response.status);\n\t\t\tconsole.log(error.response.headers);\n\t\t\t/*\n\t\t\tif (error.response)\n\t\t\t\tsetServerErrors(error.response.data.error);\n\t\t\telse\n\t\t\t\tsetServerErrors(error.Error);\n\t\t\t*/\n\t\t})\n\t};\n\t\n\treturn(\n\t\t\t<div className={lightTheme ? 'theme-light' : 'theme-dark'} style={disabled ?{pointerEvents: \"none\",opacity :\"0.4\"}:{}}>\n\t\t\t<form>\n\t\t\t<div className=\"container\">\n\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t<div className=\"col-md-6\">\n\t\t\t\t\t\t\t<div className=\"form-group files color\">\n\t\t\t\t\t\t\t\t<label>Upload Dsop Fund Bills File  </label>\n\t\t\t\t\t\t\t\t<input type=\"file\" className=\"form-control\" name=\"file\" onChange={handleInputChange} />\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\n\t\t\t\t\t\t\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"w-40\">\n\t\t\t\t\t\t\t<button type=\"button\" onClick={fileChangeHandler}>Upload</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t \n\t\t\t</form>\n\t\t\t</div>\n\t\t\n\t\t\n\t);\n\t\n\n};\n\nexport default withRouter(UploadDsop);"]},"metadata":{},"sourceType":"module"}