{"ast":null,"code":"var _jsxFileName = \"/home/itsdcsec/falconws/falcon_face/src/components/AdjustmentPscEdit.js\";\n\n/**\n * Code generated using Python\n * @author Raja Reddy\n * Date : 18 April 2022\n *\n * Modified By : \n */\nimport { useState, useEffect } from \"react\";\nimport { withRouter, useParams, useHistory } from \"react-router-dom\";\nimport { useForm } from \"react-hook-form\";\nimport axios from 'axios';\nimport * as yup from \"yup\";\nimport { format } from 'date-fns';\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport LiveSearch from '../utils/LiveSearch'; //import DatePicker  from 'react-datepicker';\n//import \"react-datepicker/dist/react-datepicker.css\";\n//import addDays from 'date-fns/addDays'\n\nimport Tabs from 'react-bootstrap/Tabs';\nimport Tab from 'react-bootstrap/Tab';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst schema = yup.object({\n  //employee: yup.object().required('Required'),\n  payCode: yup.object().required('Required'),\n  fromDate: yup.string().required('Required')\n});\n\nconst AdjustmentPscEdit = () => {\n  var _errors$employee, _errors$fromDate, _errors$toDate, _errors$amount, _errors$pageNo, _errors$remarks;\n\n  const {\n    register,\n    handleSubmit,\n    setValue,\n    formState: {\n      errors\n    },\n    clearErrors\n  } = useForm({\n    resolver: yupResolver(schema)\n  });\n  let {\n    id\n  } = useParams();\n  let history = useHistory();\n  const [serverErrors, setServerErrors] = useState([]);\n  const [entity, setEntity] = useState({});\n  const [state, setState] = useState({});\n  const [key, setKey] = useState('page1');\n  const [me, setMe] = useState('');\n  const [disabled, setDisabled] = useState(false);\n  const [adjPayCode, setAdjPayCode] = useState([]);\n  const [selectedPayCode, setSelectedPayCode] = useState({});\n  const [empId, setEmpId] = useState(0);\n  const [dakidNo, setDakIdNo] = useState('');\n  const [checked, setChecked] = useState(false);\n  const [buttonState, setButtonState] = useState('');\n  console.log(\"------------------------------id-----:\" + id);\n  useEffect(() => {\n    let isCancelled = false;\n\n    if (id !== 'new') {\n      async function fetchData() {\n        let record = '';\n        await axios.get('/adjustments/psc/' + id).then(response => {\n          record = response.data;\n\n          if (response.data['payCode'] !== null) {\n            setSelectedPayCode(response.data['payCode']);\n          }\n\n          if (response.data['dak'] !== null) {\n            console.log(\"--dak--:\" + response.data['dak'].id);\n            setDakIdNo(response.data['dak'].dakidNo);\n          }\n\n          if (record.chargedExpenditure) {\n            setChecked(true);\n            setValue('chargedExpenditure', true);\n          }\n\n          console.log(record.fromDate + \"--\" + record.toDate);\n          const fields = ['id', 'employee', 'batchNo', 'armyNo', 'checkDigit', 'transcriptionType', 'unit', 'do2ReferenceNo', 'payCode', 'fromDate', 'toDate', 'amount', 'adjCb', 'monthEnding', 'pageNo', 'recordStatus', 'rejectionReason', 'dak', 'auditorDate', 'aaoDate', 'aoDate', 'task', 'payCode', 'itAdjustment', 'approved', 'remarks', 'hoo', 'hooDate', 'paid', 'module', 'action', 'chargedExpenditure'];\n          fields.forEach(field => setValue(field, record[field]));\n        }).catch(error => {\n          //console.log(error);\n          //console.log(error.response.status);\n          //console.log(error.response.headers);\n          if (error.response) setServerErrors(error.response.data.error);else setServerErrors(error.Error);\n        });\n\n        if (!isCancelled) {\n          setEntity(record);\n          setState(prev => ({ ...prev,\n            state: record\n          }));\n        }\n      }\n\n      fetchData();\n      return () => {\n        isCancelled = true;\n      };\n    }\n  }, []);\n  useEffect(() => {\n    async function fetchAdjPayCode() {\n      await axios.get(`/payCodes/adj/paycodes`).then(response => {\n        setAdjPayCode(response.data);\n      }).catch(error => {\n        //console.log(error);\n        //console.log(error.response.status);\n        //console.log(error.response.headers);\n        if (error.response) setServerErrors(error.response.data.error);else setServerErrors(error.Error);\n      });\n    }\n\n    fetchAdjPayCode();\n  }, []);\n  useEffect(() => {\n    async function fetchCurrentMe() {\n      await axios.get(`/miscs/currentMe`).then(response => {\n        console.log(response.data + \"--\" + response.data.length);\n\n        if (response.data !== null) {\n          setMe(response.data);\n        }\n      }).catch(error => {\n        //console.log(error);\n        //console.log(error.response.status);\n        //console.log(error.response.headers);\n        if (error.response) setServerErrors(error.response.data.error);else setServerErrors(error.Error);\n      });\n    }\n\n    fetchCurrentMe();\n  }, []);\n\n  const handleAdjPayCodeChange = e => {\n    console.log(\">>>\" + e.target.value);\n    console.log(e.target.selectedIndex - 1);\n    setSelectedPayCode(adjPayCode[e.target.selectedIndex - 1]);\n    setValue('payCode', adjPayCode[e.target.selectedIndex - 1]);\n  };\n\n  const returnToList = () => {\n    history.push('/adjustments/psc');\n  };\n\n  const onSubmit = (data, event) => {\n    event.preventDefault();\n    console.log(data);\n    if (disabled) return;\n    setDisabled(true);\n\n    if (data.id) {\n      axios.put(\"/adjustments/psc/\" + data.id, data).then(response => {\n        console.log(response.data.recordStatus + \"--\" + response.data.rejectionReason);\n\n        if (response.data.employee !== null && response.data.payCode !== null) {\n          if (response.data.rejectionReason !== null) setServerErrors(\"DAK id : \" + response.data.dak.dakidNo + \" : \" + response.data.employee.cdaoNo + \" : \" + response.data.payCode.payCode + \" : + Amt : \" + response.data.amount + \":\" + response.data.rejectionReason);else setServerErrors(\"DAK id : \" + response.data.dak.dakidNo + \" : \" + response.data.employee.cdaoNo + \" : \" + response.data.payCode.payCode + \" : + Amt : \" + response.data.amount);\n        } else setServerErrors(response.data.rejectionReason);\n      }).catch(error => {\n        //console.log(error.response.data);\n        //console.log(error.response.status);\n        //console.log(error.response.headers);\n        setServerErrors(error.response.data);\n      });\n    } else {\n      console.log(\"before post\");\n      axios.post(\"/adjustments/psc\", data).then(response => {\n        console.log(response.data.recordStatus + \"--\" + response.data.rejectionReason);\n\n        if (response.data.employee !== null && response.data.payCode !== null) {\n          if (response.data.rejectionReason !== null) setServerErrors(\"DAK id : \" + response.data.dak.dakidNo + \" : \" + response.data.employee.cdaoNo + \" : \" + response.data.payCode.payCode + \" : + Amt : \" + response.data.amount + \":\" + response.data.rejectionReason);else setServerErrors(\"DAK id : \" + response.data.dak.dakidNo + \" : \" + response.data.employee.cdaoNo + \" : \" + response.data.payCode.payCode + \" : + Amt : \" + response.data.amount);\n        } else setServerErrors(response.data.rejectionReason);\n\n        setDisabled(false);\n        let record = response.data;\n        console.log(record.fromDate + \"--\" + record.toDate);\n        const fields = ['unit', 'employee', 'payCode', 'fromDate', 'toDate', 'amount', 'adjCb', 'monthEnding'];\n        fields.forEach(field => setValue(field, record[field]));\n        console.log(format(new Date(record.fromDate.toString()), 'yyyy-MM-dd'));\n        setEntity(record);\n\n        if (record.fromDate && record.toDate) {\n          let newFromDate = format(new Date(record.fromDate.toString()), 'yyyy-MM-dd');\n          let newToDate = format(new Date(record.toDate.toString()), 'yyyy-MM-dd');\n          setValue(\"fromDate\", newFromDate);\n          setValue(\"toDate\", newToDate);\n        }\n      }).catch(error => {\n        //console.log(error.response.data);\n        //console.log(error.response.status);\n        //console.log(error.response.headers);\n        setServerErrors(error.response.data);\n      });\n    }\n  };\n\n  const onError = (errors, e) => console.log(errors, e); //All foreign keys. \n  // XXXXXX Add search fields and adjust the values as necessary\n\n\n  const parentData = {\n    employee: {\n      title: \"Employee\",\n      url: \"employees/all/bListed\",\n      searchList: ['task', 'cdaoNo', 'checkDigit', 'officerName'],\n      //XXXXXXXXX Add search fields\n      fkEntity: \"employee\",\n      preload: false //XXXXXX Set this to true for small tables like designations\n\n    },\n    unit: {\n      title: \"Unit\",\n      url: \"units\",\n      searchList: ['unitCode', 'unitName'],\n      //XXXXXXXXX Add search fields here and also in the corresponding repository\n      fkEntity: \"unit\"\n    },\n    adjPayCode: {\n      title: \"Pay Code\",\n      url: \"payCodes/adj/paycodes\",\n      searchList: ['payCode', 'debitCredit'],\n      //XXXXXXXXX Add search fields here and also in the corresponding repository\n      fkEntity: \"payCode\"\n    },\n    cbPayCode: {\n      title: \"Pay Code\",\n      url: \"payCodes/cb/paycodes\",\n      searchList: ['payCode', 'debitCredit'],\n      //XXXXXXXXX Add search fields here and also in the corresponding repository\n      fkEntity: \"payCode\"\n    },\n    allPayCode: {\n      title: \"Pay Code\",\n      url: \"payCodes\",\n      searchList: ['payCode', 'debitCredit'],\n      //XXXXXXXXX Add search fields here and also in the corresponding repository\n      fkEntity: \"payCode\"\n    },\n    itAdjPayCode: {\n      title: \"Pay Code\",\n      url: \"payCodes/itadj/paycodes\",\n      searchList: ['payCode', 'debitCredit'],\n      //XXXXXXXXX Add search fields here and also in the corresponding repository\n      fkEntity: \"payCode\"\n    },\n    dak: {\n      title: \"Dak\",\n      url: \"daks\",\n      searchList: ['id'],\n      //XXXXXXXXX Add search fields here and also in the corresponding repository\n      fkEntity: \"dak\"\n    }\n  }; //Callback for child components (Foreign Keys)\n\n  const callback = childData => {\n    console.log(\"Parent Callback\" + childData.fk); //setEntity(prev => ({ ...prev, [childData.fk]: childData.entity }));\n\n    setValue(childData.fk, childData.entity); //console.log(errors);\n\n    if (childData.fk === 'employee') setEmpId(childData.entity.id);\n    clearErrors(childData.fk);\n  };\n\n  const errorCallback = err => {\n    //console.log(err);\n    setServerErrors(err);\n  };\n\n  const handleInputChange = e => {//console.log(e.target.value);\n  };\n\n  const handleChargedExpenditure = e => {\n    //console.log(e.target.checked);\n    setChecked(e.target.checked);\n    setValue('chargedExpenditure', e.target.checked);\n  };\n\n  const updateButtonState = e => {\n    console.log(\"updating button state \" + e);\n    setButtonState(e);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-100 text-gray-900\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 pt-4\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit(onSubmit, onError),\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: [id === 'new' ? 'Add' : 'Edit', \" Adjustment \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 361,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-red-500\",\n          children: serverErrors\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 362,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(Tabs, {\n          id: \"AdjustmentEdit\",\n          activeKey: key,\n          onSelect: k => setKey(k),\n          className: \"mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(Tab, {\n            eventKey: \"page1\",\n            title: \"Page 1\",\n            className: \"h-120\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-2 gap-0\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Month Ending\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 377,\n                  columnNumber: 10\n                }, this), me]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 376,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"DakId No\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 382,\n                  columnNumber: 10\n                }, this), dakidNo]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 381,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(LiveSearch, {\n                  name: \"employee\",\n                  onChange: handleInputChange,\n                  parentData: parentData.employee,\n                  parentCallback: callback,\n                  fkEntity: entity.employee,\n                  errCallback: errorCallback\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 388,\n                  columnNumber: 10\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-red-500 \",\n                  children: (_errors$employee = errors.employee) === null || _errors$employee === void 0 ? void 0 : _errors$employee.message\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 391,\n                  columnNumber: 10\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 387,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Charged Expenditure\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 395,\n                  columnNumber: 7\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"checkbox\",\n                  name: \"mr\",\n                  onChange: handleChargedExpenditure,\n                  checked: checked,\n                  onClick: () => updateButtonState('ce')\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 396,\n                  columnNumber: 7\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 394,\n                columnNumber: 12\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"From Date\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 404,\n                  columnNumber: 10\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"date\",\n                  name: \"fromDate\",\n                  ...register(\"fromDate\"),\n                  className: \"form-control py-0\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 405,\n                  columnNumber: 10\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-red-500\",\n                  children: (_errors$fromDate = errors.fromDate) === null || _errors$fromDate === void 0 ? void 0 : _errors$fromDate.message\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 407,\n                  columnNumber: 10\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 403,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"To Date\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 412,\n                  columnNumber: 10\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"date\",\n                  name: \"toDate\",\n                  ...register(\"toDate\"),\n                  className: \"form-control py-0\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 413,\n                  columnNumber: 10\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-red-500\",\n                  children: (_errors$toDate = errors.toDate) === null || _errors$toDate === void 0 ? void 0 : _errors$toDate.message\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 415,\n                  columnNumber: 10\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 411,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                  children: \"Pay Code\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 421,\n                  columnNumber: 8\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  className: \"form-control py-0\",\n                  value: selectedPayCode.payCode,\n                  onChange: handleAdjPayCodeChange,\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: 0,\n                    children: \"---select---\"\n                  }, 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 426,\n                    columnNumber: 9\n                  }, this), adjPayCode.map(item => /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: item.payCode,\n                    children: [\" \", item.payCode, \":\", item.debitCredit, \" \"]\n                  }, item.id, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 428,\n                    columnNumber: 10\n                  }, this))]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 422,\n                  columnNumber: 8\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 420,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Amount\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 435,\n                  columnNumber: 10\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  name: \"amount\",\n                  ...register(\"amount\"),\n                  className: \"form-control py-0\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 436,\n                  columnNumber: 10\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-red-500\",\n                  children: (_errors$amount = errors.amount) === null || _errors$amount === void 0 ? void 0 : _errors$amount.message\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 438,\n                  columnNumber: 10\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 434,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Page No\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 444,\n                  columnNumber: 10\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  name: \"pageNo\",\n                  ...register(\"pageNo\"),\n                  className: \"form-control py-0\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 445,\n                  columnNumber: 10\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-red-500\",\n                  children: (_errors$pageNo = errors.pageNo) === null || _errors$pageNo === void 0 ? void 0 : _errors$pageNo.message\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 447,\n                  columnNumber: 10\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 443,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Remarks/Working Sheet\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 451,\n                  columnNumber: 10\n                }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                  type: \"text\",\n                  name: \"remarks\",\n                  ...register(\"remarks\"),\n                  className: \"form-control py-0\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 452,\n                  columnNumber: 10\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-red-500\",\n                  children: (_errors$remarks = errors.remarks) === null || _errors$remarks === void 0 ? void 0 : _errors$remarks.message\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 454,\n                  columnNumber: 10\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 450,\n                columnNumber: 9\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 372,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 368,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(Tab, {\n            eventKey: \"help\",\n            title: \"Help\",\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              children: \"Help\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 467,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n              className: \"list-disc\",\n              children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"Point 1 : Please note the nature of the Pay Code selected -- DEBIT(D)/CREDIT(C) and read the next two points for feeding the amount\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 470,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"Point 2 : For CREDIT items, amount entered with (-) sign will be debited and amount entered without sign will be credited in the IRLA.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 471,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"Point 3 : For DEBIT items,  amount entered with (-) sign will be credited and amount entered without sign will be debited in the IRLA.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 472,\n                columnNumber: 9\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 468,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 466,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 363,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-2 gap-0\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"px-3 ...\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              disabled: disabled,\n              children: \"Save\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 481,\n              columnNumber: 7\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 480,\n            columnNumber: 6\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"px-3 ...\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: returnToList,\n              children: \"Done\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 484,\n              columnNumber: 7\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 483,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 479,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 360,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 358,\n      columnNumber: 4\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 357,\n    columnNumber: 3\n  }, this);\n};\n\nexport default withRouter(AdjustmentPscEdit);","map":{"version":3,"sources":["/home/itsdcsec/falconws/falcon_face/src/components/AdjustmentPscEdit.js"],"names":["useState","useEffect","withRouter","useParams","useHistory","useForm","axios","yup","format","yupResolver","LiveSearch","Tabs","Tab","schema","object","payCode","required","fromDate","string","AdjustmentPscEdit","register","handleSubmit","setValue","formState","errors","clearErrors","resolver","id","history","serverErrors","setServerErrors","entity","setEntity","state","setState","key","setKey","me","setMe","disabled","setDisabled","adjPayCode","setAdjPayCode","selectedPayCode","setSelectedPayCode","empId","setEmpId","dakidNo","setDakIdNo","checked","setChecked","buttonState","setButtonState","console","log","isCancelled","fetchData","record","get","then","response","data","chargedExpenditure","toDate","fields","forEach","field","catch","error","Error","prev","fetchAdjPayCode","fetchCurrentMe","length","handleAdjPayCodeChange","e","target","value","selectedIndex","returnToList","push","onSubmit","event","preventDefault","put","recordStatus","rejectionReason","employee","dak","cdaoNo","amount","post","Date","toString","newFromDate","newToDate","onError","parentData","title","url","searchList","fkEntity","preload","unit","cbPayCode","allPayCode","itAdjPayCode","callback","childData","fk","errorCallback","err","handleInputChange","handleChargedExpenditure","updateButtonState","k","message","map","item","debitCredit","pageNo","remarks"],"mappings":"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","sourcesContent":["/**\n * Code generated using Python\n * @author Raja Reddy\n * Date : 18 April 2022\n *\n * Modified By : \n */\n\nimport { useState, useEffect } from \"react\";\nimport { withRouter, useParams, useHistory } from \"react-router-dom\";\nimport { useForm } from \"react-hook-form\";\nimport axios from 'axios';\nimport * as yup from \"yup\";\nimport { format } from 'date-fns'\n\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport LiveSearch from '../utils/LiveSearch';\n\n//import DatePicker  from 'react-datepicker';\n//import \"react-datepicker/dist/react-datepicker.css\";\n//import addDays from 'date-fns/addDays'\n\nimport Tabs from 'react-bootstrap/Tabs'\nimport Tab from 'react-bootstrap/Tab'\n\nconst schema = yup.object({\n      //employee: yup.object().required('Required'),\n      payCode: yup.object().required('Required'),\n      fromDate: yup.string().required('Required'),\n     \n});\n\n\nconst AdjustmentPscEdit = () => {\n\tconst { register, handleSubmit, setValue, formState: { errors }, clearErrors } = useForm({\n\t\tresolver: yupResolver(schema)\n\t});\n\n\tlet { id } = useParams();\n\n\tlet history = useHistory();\n\tconst [serverErrors, setServerErrors] = useState([]);\n\tconst [entity, setEntity] = useState({});\n\tconst [state, setState] = useState({});\n\tconst [key, setKey] = useState('page1');\n\tconst [me,setMe]=useState('');\n\tconst\t[disabled,setDisabled]=useState(false);\n\tconst [adjPayCode,setAdjPayCode]=useState([]);\n\tconst [selectedPayCode,setSelectedPayCode]=useState({});\n\tconst [empId, setEmpId] = useState(0);\n\tconst [dakidNo,setDakIdNo]=useState('');\n\t\n\tconst [checked, setChecked]=useState(false);\n    const [buttonState, setButtonState] = useState('');\n\t \n\t\n\tconsole.log(\"------------------------------id-----:\" + id);\n\tuseEffect(() => {\n\t\tlet isCancelled = false;\n\t \n\t\t \n\t\t\t\n\t\tif (id !== 'new') {\n\t\t\tasync function fetchData() {\n\t\t\t\tlet record = '';\n\t\t\t\tawait axios.get('/adjustments/psc/' + id)\n\t\t\t\t\t.then((response) => {\n\t\t\t\t\t\t \n\t\t\t\t\t\trecord = response.data;\n\t\t\t\t\t\t \n\t\t\t\t\t\t \n\t\t\t\t\t\tif(response.data['payCode']!==null){\n\t\t\t\t\t\t\tsetSelectedPayCode(response.data['payCode']);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t \n\t\t\t\t\t\tif(response.data['dak']!==null){\n\t\t\t\t\t\t\tconsole.log(\"--dak--:\"+ response.data['dak'].id);\n\t\t\t\t\t\t\tsetDakIdNo(response.data['dak'].dakidNo);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(record.chargedExpenditure){\n\t\t\t\t\t\t\tsetChecked(true);\n\t\t\t\t\t\tsetValue('chargedExpenditure',true);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\tconsole.log(record.fromDate+\"--\"+record.toDate);\n\t\t\t\t\t\tconst fields = [\n\t\t\t\t\t\t'id', 'employee', 'batchNo', 'armyNo', 'checkDigit', 'transcriptionType', 'unit', 'do2ReferenceNo', \n\t\t\t\t\t\t'payCode', 'fromDate', 'toDate', 'amount', 'adjCb', 'monthEnding', 'pageNo', 'recordStatus',\n\t\t\t\t\t\t 'rejectionReason', 'dak', 'auditorDate', 'aaoDate', 'aoDate', 'task', 'payCode', 'itAdjustment', \n\t\t\t\t\t\t 'approved',  'remarks', 'hoo', 'hooDate', 'paid','module' ,'action','chargedExpenditure'\t\n\t\t\t\t\t];\n\t\t\t\t\tfields.forEach(field => setValue(field, record[field]));\n\t\t\t\t\t})\n\t\t\t\t\t.catch((error) => {\n\t\t\t\t\t\t//console.log(error);\n\t\t\t\t\t\t//console.log(error.response.status);\n\t\t\t\t\t\t//console.log(error.response.headers);\n\t\t\t\t\t\tif(error.response)\n\t\t\t\t\t\t\tsetServerErrors(error.response.data.error);\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tsetServerErrors(error.Error);\n\t\t\t\t\t});\n\n\n\t\t\t\tif (!isCancelled) {\n\t\t\t\t\tsetEntity(record);\n\t\t\t\t\tsetState(prev => ({ ...prev, state: record }));\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfetchData();\n\t\t\treturn () => {\n\t\t\t\tisCancelled = true;\n\t\t\t};\n\t\t}\n\t\t\n\t\t\n\n\t}, []);\n\t\n\tuseEffect(() => {\t \n\t\t \n\t\t\tasync function fetchAdjPayCode() {\t\t\t\n\t\t\t\tawait axios.get(`/payCodes/adj/paycodes`)\n\t\t\t\t\t.then((response) => {\n\t\t\t\t\t\tsetAdjPayCode(response.data);\n\t\t\t\t\t})\n\t\t\t\t\t.catch((error) => {\n\t\t\t\t\t\t//console.log(error);\n\t\t\t\t\t\t//console.log(error.response.status);\n\t\t\t\t\t\t//console.log(error.response.headers);\n\t\t\t\t\t\tif(error.response)\n\t\t\t\t\t\t\tsetServerErrors(error.response.data.error);\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tsetServerErrors(error.Error);\n\t\t\t\t\t});\n\n\t\t\t}\n\t\t\tfetchAdjPayCode();\n\t\t\t \n\t\t\n\n\t}, []);\n\t \n\t \n\t\n\tuseEffect(() => {\n\t \n\t\t \n\t\t\tasync function fetchCurrentMe() {\n\t\t\t \n\t\t\t\t \n\t\t\t\tawait axios.get(`/miscs/currentMe`)\n\t\t\t\t\t.then((response) => {\n\t\t\t\t\t\tconsole.log(response.data+\"--\"+response.data.length);\n\t\t\t\t\t\t \n\t\t\t\t\t\tif(response.data!==null){\n\t\t\t\t\t\t\tsetMe(response.data);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t \n\t\t\t\t\t\t \n\t\t\t\t\t\t \n\t\t\t\t\t})\n\t\t\t\t\t.catch((error) => {\n\t\t\t\t\t\t//console.log(error);\n\t\t\t\t\t\t//console.log(error.response.status);\n\t\t\t\t\t\t//console.log(error.response.headers);\n\t\t\t\t\t\tif(error.response)\n\t\t\t\t\t\t\tsetServerErrors(error.response.data.error);\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tsetServerErrors(error.Error);\n\t\t\t\t\t});\n\n\t\t\t \n\t\t\t\t\n\t\t\t}\n\n\t\t\tfetchCurrentMe();\n\t\t\t \n\t\t\n\n\t}, []);\n\n\n\tconst handleAdjPayCodeChange = (e) => {\n\t\tconsole.log(\">>>\" + e.target.value);\n\t\tconsole.log(e.target.selectedIndex-1);\n\t\t \n\t\tsetSelectedPayCode(adjPayCode[e.target.selectedIndex-1]);\t\t \n\t\tsetValue('payCode', adjPayCode[e.target.selectedIndex-1]);\n\t\t \n\t};\n\t \n\t \n\t\n\tconst returnToList =() => {\n\t\thistory.push('/adjustments/psc');\n\t}\n\n\tconst onSubmit = (data, event) => {\n\t\tevent.preventDefault();\n\t\tconsole.log(data);\n\t\tif(disabled)\n\t\t\treturn;\n\t\t\t\n\t\t\tsetDisabled(true);\n\t\tif (data.id) {\n\t\t\taxios.put(\"/adjustments/psc/\" + data.id, data)\n\t\t\t\t.then((response) => { \n\t\t\t\t\t\n\t\t\t\t\tconsole.log(response.data.recordStatus+\"--\"+response.data.rejectionReason);\n\t\t\t\t\t if(response.data.employee!==null && response.data.payCode!==null){\n\t\t\t\t\t\t if(response.data.rejectionReason!==null)\n\t\t\t\t\t \t\tsetServerErrors(\"DAK id : \"+response.data.dak.dakidNo+\" : \"+response.data.employee.cdaoNo+\" : \"+response.data.payCode.payCode+\" : + Amt : \"+response.data.amount+\":\"+ response.data.rejectionReason);\n\t\t\t\t\t \telse\n\t\t\t\t\t \t\tsetServerErrors(\"DAK id : \"+response.data.dak.dakidNo+\" : \"+response.data.employee.cdaoNo+\" : \"+response.data.payCode.payCode+\" : + Amt : \"+response.data.amount);\n\t\t\t\t\t }else\n\t\t\t\t\t \tsetServerErrors(response.data.rejectionReason);\n\t\t\t\t\t \n\t\t\t\t\t \n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\t//console.log(error.response.data);\n\t\t\t\t\t//console.log(error.response.status);\n\t\t\t\t\t//console.log(error.response.headers);\n\t\t\t\t\tsetServerErrors(error.response.data)\n\t\t\t\t});\n\t\t} else {\n\t\t\tconsole.log(\"before post\");\n\t\t\taxios.post(\"/adjustments/psc\", data)\n\t\t\t\t.then((response) => { \n\t\t\t\t\t console.log(response.data.recordStatus+\"--\"+response.data.rejectionReason);\n\t\t\t\t\t if(response.data.employee!==null && response.data.payCode!==null){\n\t\t\t\t\t\t  if(response.data.rejectionReason!==null)\n\t\t\t\t\t \t\tsetServerErrors(\"DAK id : \"+response.data.dak.dakidNo+\" : \"+response.data.employee.cdaoNo+\" : \"+response.data.payCode.payCode+\" : + Amt : \"+response.data.amount+\":\"+ response.data.rejectionReason);\n\t\t\t\t\t \telse\n\t\t\t\t\t \t\tsetServerErrors(\"DAK id : \"+response.data.dak.dakidNo+\" : \"+response.data.employee.cdaoNo+\" : \"+response.data.payCode.payCode+\" : + Amt : \"+response.data.amount);\n\t\t\t\t\t }\n\t\t\t\t\t \t\n\t\t\t\t\t else\n\t\t\t\t\t \tsetServerErrors(response.data.rejectionReason);\n\t\t\t\t\t \t\n\t\t\t\t\t \t \n\t\t\t\t\t \tsetDisabled(false);\n\t\t\t\t\t let record = response.data;\n\t\t\t\t\t  console.log(record.fromDate+\"--\"+record.toDate);\n\t\t\t\t\t const fields = ['unit','employee','payCode', 'fromDate', 'toDate', 'amount', 'adjCb', 'monthEnding'];\n\t\t\t\t\tfields.forEach(field => setValue(field, record[field]));\n\t\t\t\t\t\n\t\t\t\t\tconsole.log(format(new Date(record.fromDate.toString()),'yyyy-MM-dd'))\n\t\t\t\t\t setEntity(record);\n\t\t\t\t\t if(record.fromDate && record.toDate){\n\t\t\t\t\t \tlet newFromDate=format(new Date(record.fromDate.toString()),'yyyy-MM-dd');\n\t\t\t\t\t \tlet newToDate=format(new Date(record.toDate.toString()),'yyyy-MM-dd');\n\t\t\t\t\t \tsetValue(\"fromDate\",newFromDate);\n\t\t\t\t\t \tsetValue(\"toDate\",newToDate);\t\n\t\t\t\t\t }\n\t\t\t\t\t  \n\t\t\t\t\t \t\n\t\t\t\t\t \n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\t//console.log(error.response.data);\n\t\t\t\t\t//console.log(error.response.status);\n\t\t\t\t\t//console.log(error.response.headers);\n\t\t\t\t\tsetServerErrors(error.response.data)\n\t\t\t\t});\n\t\t}\n\t}\n\n\tconst onError = (errors, e) => console.log(errors, e);\n\n\t//All foreign keys. \n\t// XXXXXX Add search fields and adjust the values as necessary\n\tconst parentData = {\n\t\n\t\temployee: {\n\t\t\ttitle: \"Employee\",\n\t\t\turl: \"employees/all/bListed\",\n\t\t\tsearchList: ['task','cdaoNo', 'checkDigit', 'officerName'], //XXXXXXXXX Add search fields\n\t\t\tfkEntity: \"employee\",\n\t\t\tpreload: false, //XXXXXX Set this to true for small tables like designations\n\t\t},\n\t\t \n\t\tunit: {\n\t\t\ttitle: \"Unit\",\n\t\t\turl : \"units\",\n\t\t\tsearchList : ['unitCode','unitName'], //XXXXXXXXX Add search fields here and also in the corresponding repository\n\t\t\tfkEntity: \"unit\",\n\t\t},\n\t\tadjPayCode: {\n\t\t\ttitle: \"Pay Code\",\n\t\t\turl : \"payCodes/adj/paycodes\",\n\t\t\tsearchList : ['payCode','debitCredit'], //XXXXXXXXX Add search fields here and also in the corresponding repository\n\t\t\tfkEntity: \"payCode\",\n\t\t},\n\t\tcbPayCode: {\n\t\t\ttitle: \"Pay Code\",\n\t\t\turl : \"payCodes/cb/paycodes\",\n\t\t\tsearchList : ['payCode','debitCredit'], //XXXXXXXXX Add search fields here and also in the corresponding repository\n\t\t\tfkEntity: \"payCode\",\n\t\t},\n\t\tallPayCode: {\n\t\t\ttitle: \"Pay Code\",\n\t\t\turl : \"payCodes\",\n\t\t\tsearchList : ['payCode','debitCredit'], //XXXXXXXXX Add search fields here and also in the corresponding repository\n\t\t\tfkEntity: \"payCode\",\n\t\t},\n\t\titAdjPayCode: {\n\t\t\ttitle: \"Pay Code\",\n\t\t\turl : \"payCodes/itadj/paycodes\",\n\t\t\tsearchList : ['payCode','debitCredit'], //XXXXXXXXX Add search fields here and also in the corresponding repository\n\t\t\tfkEntity: \"payCode\",\n\t\t},\n\t\tdak: {\n\t\t\ttitle: \"Dak\",\n\t\t\turl : \"daks\",\n\t\t\tsearchList : ['id'], //XXXXXXXXX Add search fields here and also in the corresponding repository\n\t\t\tfkEntity: \"dak\",\n\t\t},\n\t\t \n\t}\n\n\t//Callback for child components (Foreign Keys)\n\tconst callback = (childData) => {\n\t\tconsole.log(\"Parent Callback\"+childData.fk);\n\t\t//setEntity(prev => ({ ...prev, [childData.fk]: childData.entity }));\n\t\tsetValue(childData.fk, childData.entity);\n\t\t//console.log(errors);\n\t\tif(childData.fk==='employee')\n\t\t\tsetEmpId(childData.entity.id)\n\t\tclearErrors(childData.fk);\n\t};\n\n\tconst errorCallback = (err) => {\n\t\t//console.log(err);\n\t\tsetServerErrors(err);\n\t}\n\n\tconst handleInputChange = (e) => {\n\t\t//console.log(e.target.value);\n\t};\n\tconst handleChargedExpenditure = (e) => {\n\t\t//console.log(e.target.checked);\n\t \n\t\t\tsetChecked(e.target.checked);\n\t\t\tsetValue('chargedExpenditure',e.target.checked);\n\t\t\t \n\t \n\t};\n\tconst updateButtonState = (e) => {\n\t\tconsole.log(\"updating button state \" + e);\n\t\tsetButtonState(e);\n\t};\n\n\treturn (\n\t\t<div className=\"min-h-screen bg-gray-100 text-gray-900\">\n\t\t\t<div className=\"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 pt-4\" >\n\n\t\t\t\t<form onSubmit={handleSubmit(onSubmit, onError)}>\n\t\t\t\t\t<h1 >{id === 'new' ? 'Add' : 'Edit'} Adjustment </h1>\n\t\t\t\t\t<div className=\"text-red-500\">{serverErrors}</div>\n\t\t\t\t\t<Tabs\n\t\t\t\t\t\tid=\"AdjustmentEdit\"\n\t\t\t\t\t\tactiveKey={key}\n\t\t\t\t\t\tonSelect={(k) => setKey(k)}\n\t\t\t\t\t\tclassName=\"mb-3\" >\n\t\t\t\t\t\t<Tab eventKey=\"page1\" title=\"Page 1\" className=\"h-120\">\n\t\t \n\t\t\t\t\t  \n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<div className=\"grid grid-cols-2 gap-0\">\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<label>Month Ending</label>\n\t\t\t\t\t\t\t\t\t{me}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<label>DakId No</label>\n\t\t\t\t\t\t\t\t\t{dakidNo}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t    \n\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t<div >\n\t\t\t\t\t\t\t\t\t<LiveSearch name=\"employee\" onChange={handleInputChange}\n\t\t\t\t\t\t\t\t\t\tparentData={parentData.employee} parentCallback={callback} \n\t\t\t\t\t\t\t\t\t\tfkEntity={entity.employee} errCallback={errorCallback} />\n\t\t\t\t\t\t\t\t\t<div className=\"text-red-500 \">{errors.employee?.message}</div>\n\t\t\t\t\t\t\t\t</div>\t\n\t\t\t\t\t\t\t\t \t\t\n\t\t\t\t\t\t\t\t \t\t<div>\n\t\t\t\t\t\t<label>Charged Expenditure</label>\n\t\t\t\t\t\t<input type=\"checkbox\" name=\"mr\" onChange={handleChargedExpenditure} checked={checked} onClick={() => updateButtonState('ce')}/>\n\t\t\t\t\t\t\n\t\t\t\t\t\t \t \t\t\t\t\t\n\t\t\t\t\t\t\t \n\t\t\t\t\t\t \n\t\t\t\t\t\t</div>\t\t\t\t\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<label>From Date</label>\n\t\t\t\t\t\t\t\t\t<input type=\"date\" name=\"fromDate\" {...register(\"fromDate\")}\n\t\t\t\t\t\t\t\t\tclassName=\"form-control py-0\" />\n\t\t\t\t\t\t\t\t\t<div className=\"text-red-500\">{errors.fromDate?.message}</div>\n\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\n\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<label>To Date</label>\n\t\t\t\t\t\t\t\t\t<input type=\"date\" name=\"toDate\" {...register(\"toDate\")}\n\t\t\t\t\t\t\t\t\tclassName=\"form-control py-0\" />\n\t\t\t\t\t\t\t\t\t<div className=\"text-red-500\">{errors.toDate?.message}</div>\n\t\t\t\t\t\t\t\t</div>\t\t\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t \n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t<div >\n\t\t\t\t\t\t\t<b>Pay Code</b>\n\t\t\t\t\t\t\t<select className=\"form-control py-0\"\n\t\t\t\t\t\t\t\t \n\t\t\t\t\t\t\t\tvalue={selectedPayCode.payCode}\n\t\t\t\t\t\t\t\tonChange={handleAdjPayCodeChange}>\n\t\t\t\t\t\t\t\t<option key={0} value={0}>---select---</option>\n\t\t\t\t\t\t\t\t{adjPayCode.map((item) => (\n\t\t\t\t\t\t\t\t\t<option key={item.id} value={item.payCode}> {item.payCode}:{item.debitCredit} </option>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t \n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<label>Amount</label>\n\t\t\t\t\t\t\t\t\t<input type=\"text\" name=\"amount\" {...register(\"amount\")}\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-control py-0\"\t/>\n\t\t\t\t\t\t\t\t\t<div className=\"text-red-500\">{errors.amount?.message}</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t \t\t\t\t\t\n\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<label>Page No</label>\n\t\t\t\t\t\t\t\t\t<input type=\"text\" name=\"pageNo\" {...register(\"pageNo\")}\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-control py-0\"\t/>\n\t\t\t\t\t\t\t\t\t<div className=\"text-red-500\">{errors.pageNo?.message}</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<label>Remarks/Working Sheet</label>\n\t\t\t\t\t\t\t\t\t<textarea type=\"text\" name=\"remarks\" {...register(\"remarks\")}\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-control py-0\" />\n\t\t\t\t\t\t\t\t\t<div className=\"text-red-500\">{errors.remarks?.message}</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t \n\t\t\t\t\t\t\t \n\t\t\t\t\t\t \n\t\t\t\t \n\t\t\t\t\t\t</Tab>\n\n\t\t\t\t\t\t \n\t\t\t\t\t\t\n\t\t\t\t\t\t\n\t\t\t\t\t\t<Tab eventKey=\"help\" title=\"Help\" >\n\t\t\t\t\t\t\t<h1>Help</h1>\n\t\t\t\t\t\t\t<ul className=\"list-disc\">\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t<li>Point 1 : Please note the nature of the Pay Code selected -- DEBIT(D)/CREDIT(C) and read the next two points for feeding the amount</li>\n\t\t\t\t\t\t\t\t<li>Point 2 : For CREDIT items, amount entered with (-) sign will be debited and amount entered without sign will be credited in the IRLA.</li>\n\t\t\t\t\t\t\t\t<li>Point 3 : For DEBIT items,  amount entered with (-) sign will be credited and amount entered without sign will be debited in the IRLA.</li>\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</Tab>\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t</Tabs>\n\t\t\t\t\t\t\n\t\t\t\t\t \n\t\t\t\t\t<div className=\"grid grid-cols-2 gap-0\">\n\t\t\t\t\t<div className=\"px-3 ...\">\n\t\t\t\t\t\t<button type=\"submit\" disabled={disabled}>Save</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"px-3 ...\">\n\t\t\t\t\t\t<button type=\"button\" onClick={returnToList} >Done</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t \n\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default withRouter(AdjustmentPscEdit);"]},"metadata":{},"sourceType":"module"}