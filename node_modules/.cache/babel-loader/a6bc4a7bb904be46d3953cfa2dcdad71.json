{"ast":null,"code":"import _readOnlyError from\"/home/itsdcsec/falconws/falcon_face/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/readOnlyError\";import _toConsumableArray from\"/home/itsdcsec/falconws/falcon_face/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _regeneratorRuntime from\"/home/itsdcsec/falconws/falcon_face/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/itsdcsec/falconws/falcon_face/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/itsdcsec/falconws/falcon_face/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState,useEffect,useMemo}from\"react\";import Table1,{SelectColumnFilter}from\"../utils/Table1\";//\nimport axios from\"axios\";import{withRouter,Link,useLocation}from\"react-router-dom\";// pcdao 04112022 fifo -- added image for priority\nimport{PriorityIcon}from\"../utils/Icons\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function CbillTadaLtcList(){var _loggedInUsr$designat;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),update=_useState4[0],setUpdate=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),serverErrors=_useState6[0],setServerErrors=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),search=_useState8[0],setSearch=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),inputText=_useState10[0],setInputText=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),selectionType=_useState12[0],setSelectionType=_useState12[1];var location=useLocation();var _useState13=useState(\"\"),_useState14=_slicedToArray(_useState13,2),fileName=_useState14[0],setFileName=_useState14[1];var _useState15=useState(\"\"),_useState16=_slicedToArray(_useState15,2),value=_useState16[0],setValue=_useState16[1];var _useState17=useState(\"\"),_useState18=_slicedToArray(_useState17,2),search1=_useState18[0],setSearch1=_useState18[1];var _useState19=useState({}),_useState20=_slicedToArray(_useState19,2),loggedInUsr=_useState20[0],setLoggedInUsr=_useState20[1];useEffect(function(){setLoggedInUsr(JSON.parse(sessionStorage.getItem(\"usr\")));},[]);useEffect(function(){document.title=\"Falcon | Bill Processing\";var fetching=false;function fetchData(){return _fetchData.apply(this,arguments);}function _fetchData(){_fetchData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log(selectionType);if(fetching){_context.next=9;break;}if(!(selectionType===\"approved\")){_context.next=7;break;}_context.next=5;return axios.get(\"/cbillTadaLtcs?filter=approved&search=\"+search+\"&search1=\"+search1).then(function(response){setData(response.data);setSelectionType(\"pending\");}).catch(function(error){//console.log(error);\n//console.log(error.response.status);\n//console.log(error.response.headers);\nif(error.response)setServerErrors(error.response.data.error);else setServerErrors(error.Error);});case 5:_context.next=9;break;case 7:_context.next=9;return axios.get(\"/cbillTadaLtcs?search=\"+search).then(function(response){setData(response.data);setSelectionType(\"pending\");}).catch(function(error){//console.log(error);\n//console.log(error.response.status);\n//console.log(error.response.headers);\nif(error.response)setServerErrors(error.response.data.error);else setServerErrors(error.Error);});case 9:case\"end\":return _context.stop();}}},_callee);}));return _fetchData.apply(this,arguments);}fetchData();return function(){fetching=true;};},[update,search,search1]);function generateRequisitionSlip(_x){return _generateRequisitionSlip.apply(this,arguments);}function _generateRequisitionSlip(){_generateRequisitionSlip=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(id){return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return axios.get(\"/cbillTadaLtcs/\".concat(id,\"/requisitionSlip\")).then(function(response){//console.log(data);\nconsole.log(response.data);//pcdao -- to open pdf rather than downloading\nvar url=window.open(\"\".concat(process.env.REACT_APP_BASE_URL,\"/files/openpdf/\").concat(response.data));}).catch(function(error){console.log(error);//console.log(error.response.status);\n//console.log(error.response.headers);\nif(error.response)setServerErrors(error.response.data.error);else setServerErrors(error.Error);});case 2:case\"end\":return _context4.stop();}}},_callee4);}));return _generateRequisitionSlip.apply(this,arguments);}function generateIntimationSlip(_x2){return _generateIntimationSlip.apply(this,arguments);}function _generateIntimationSlip(){_generateIntimationSlip=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(id){return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return axios.get(\"/cbillTadaLtcs/\".concat(id,\"/intimationSlip\")).then(function(response){//console.log(data);\nconsole.log(response.data);//pcdao -- to open pdf rather than downloading\nvar url=window.open(\"\".concat(process.env.REACT_APP_BASE_URL,\"/files/openpdf/\").concat(response.data));}).catch(function(error){console.log(error);//console.log(error.response.status);\n//console.log(error.response.headers);\nif(error.response)setServerErrors(error.response.data.error);else setServerErrors(error.Error);});case 2:case\"end\":return _context5.stop();}}},_callee5);}));return _generateIntimationSlip.apply(this,arguments);}function approve(_x3){return _approve.apply(this,arguments);}function _approve(){_approve=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(id){return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.next=2;return axios.put(\"/cbillTadaLtcs/\".concat(id,\"/approveCbill\")).then(function(){//console.log(data);\nvar updatedRecords=_toConsumableArray(data).filter(function(i){return i.id!==id;});console.log(updatedRecords);setData(updatedRecords);setUpdate(!update);}).catch(function(error){console.log(error);//console.log(error.response.status);\n//console.log(error.response.headers);\nif(error.response)setServerErrors(error.response.data.error);else setServerErrors(error.Error);});case 2:case\"end\":return _context6.stop();}}},_callee6);}));return _approve.apply(this,arguments);}function tBillRejectionMemo(_x4){return _tBillRejectionMemo.apply(this,arguments);}function _tBillRejectionMemo(){_tBillRejectionMemo=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(id){return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:console.log(\"=======:\"+id);_context7.next=3;return axios.put(\"/cbillTadaLtcs/\".concat(id,\"/tBillRejectionMemo\")).then(function(response){console.log(data);console.log(response.data);//pcdao -- to open pdf rather than downloading\nvar url=window.open(\"\".concat(process.env.REACT_APP_BASE_URL,\"/files/openpdf/\").concat(response.data));}).catch(function(error){console.log(error);//console.log(error.response.status);\n//console.log(error.response.headers);\nif(error.response)setServerErrors(error.response.data.error);else setServerErrors(error.Error);});case 3:case\"end\":return _context7.stop();}}},_callee7);}));return _tBillRejectionMemo.apply(this,arguments);}function submitCbill(_x5){return _submitCbill.apply(this,arguments);}/* async function tBillInfo(id) {\n\t\tconsole.log(\"********id is---:\" + id);\n\t\tawait axios.get(`/cbillTadaLtcs/${id}/tbillInfo`)\n\t\t\t.then((response) => {\n\t\t\t\tconsole.log(\"&&&&&&&&:\" + response.data);\n\t\t\tsetData(response.data);\n\t\t\t\t\t\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tconsole.log(error);\n\t\t\t\t//console.log(error.response.status);\n\t\t\t\t//console.log(error.response.headers);\n\t\t\t\tif (error.response)\n\t\t\t\t\tsetServerErrors(error.response.data.error);\n\t\t\t\telse\n\t\t\t\t\tsetServerErrors(error.Error);\n\t\t\t});\n\t}*/function _submitCbill(){_submitCbill=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee8(id){return _regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:_context8.next=2;return axios.put(\"/cbillTadaLtcs/\".concat(id,\"/submitCbill\")).then(function(){//console.log(data);\nvar updatedRecords=_toConsumableArray(data).filter(function(i){return i.id!==id;});console.log(updatedRecords);setData(updatedRecords);setUpdate(!update);}).catch(function(error){console.log(error);//console.log(error.response.status);\n//console.log(error.response.headers);\nif(error.response)setServerErrors(error.response.data.error);else setServerErrors(error.Error);});case 2:case\"end\":return _context8.stop();}}},_callee8);}));return _submitCbill.apply(this,arguments);}function viewAttachments(_x6){return _viewAttachments.apply(this,arguments);}function _viewAttachments(){_viewAttachments=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee9(id){return _regeneratorRuntime.wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:console.log(\"=======:\"+id);_context9.next=3;return axios.get(\"/cbillTadaLtcs/\".concat(id,\"/viewAttachments\")).then(function(response){console.log(data);console.log(response.data);var url=\"\";//pcdao -- to open pdf rather than downloading\nif(response.data)url=(_readOnlyError(\"url\"),window.open(\"\".concat(process.env.REACT_APP_BASE_URL,\"/files/openpdf/\").concat(response.data)));}).catch(function(error){console.log(error);//console.log(error.response.status);\n//console.log(error.response.headers);\nif(error.response)setServerErrors(error.response.data.error);else setServerErrors(error.Error);});case 3:case\"end\":return _context9.stop();}}},_callee9);}));return _viewAttachments.apply(this,arguments);}var handleClick=function handleClick(){var fetching=false;function fetchData(){return _fetchData2.apply(this,arguments);}function _fetchData2(){_fetchData2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(fetching){_context2.next=3;break;}_context2.next=3;return axios.get(\"/cbillTadaLtcs?filter=approved\").then(function(response){console.log(response.data);setData(response.data);setSelectionType(\"approved\");}).catch(function(error){//console.log(error);\n//console.log(error.response.status);\n//console.log(error.response.headers);\nif(error.response)setServerErrors(error.response.data.error);else setServerErrors(error.Error);});case 3:case\"end\":return _context2.stop();}}},_callee2);}));return _fetchData2.apply(this,arguments);}fetchData();return function(){fetching=true;};};var handleClickHighClaims=function handleClickHighClaims(){var fetching=false;function fetchHighData(){return _fetchHighData.apply(this,arguments);}function _fetchHighData(){_fetchHighData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:if(!fetching)console.log(\">>>>>>>>$$$$$:\"+value);_context3.next=3;return axios.get(\"/cbillTadaLtcs/highValue/\".concat(value,\"/\")).then(function(response){console.log(response.data);setData(response.data);setSelectionType(\"highClaims\");}).catch(function(error){//console.log(error);\n//console.log(error.response.status);\n//console.log(error.response.headers);\nif(error.response)setServerErrors(error.response.data.error);else setServerErrors(error.Error);});case 3:case\"end\":return _context3.stop();}}},_callee3);}));return _fetchHighData.apply(this,arguments);}fetchHighData();return function(){fetching=true;};};var columns=useMemo(function(){return[{Header:\"Action\",Cell:function Cell(_ref){var row=_ref.row;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{children:[row.original.action!=null&&!row.original.action.includes(\"Subm\")&&!row.original.action.includes(\"Appr\")&&(row.original.claimType==null||!(row.original.claimType===\"KR\"))&&/*#__PURE__*/_jsx(Link,{to:\"/cbillTadaLtcs/\"+row.original.id,children:/*#__PURE__*/_jsx(\"button\",{className:\" w-32 m-0 p-0 \",children:\" Edit \"})}),row.original.action!=null&&!row.original.action.includes(\"Subm\")&&!row.original.action.includes(\"Appr\")&&row.original.claimType===\"KR\"&&/*#__PURE__*/_jsx(Link,{to:\"/cbillTadaLtcs/\"+row.original.id+\"/konkanRailwayCarriageBill\",children:/*#__PURE__*/_jsx(\"button\",{className:\" w-32 m-0 p-0 \",children:\" Edit \"})}),row.original.action!=null&&row.original.recordStatus===\"R\"&&row.original.usrLevel>=30&&/*#__PURE__*/_jsx(Link,{to:\"/cbillTadaLtcs/\"+row.original.id,children:/*#__PURE__*/_jsx(\"button\",{className:\" w-32 m-0 p-0 \",children:\" Edit \"})})]}),/*#__PURE__*/_jsxs(\"div\",{children:[row.original.action===\"Submission by AAO.\"&&/*#__PURE__*/_jsxs(\"button\",{className:\"w-32 m-0 p-0 bg-red-500 hover:bg-red-700 \",onClick:function onClick(){return submitCbill(row.original.id);},children:[\" \",\"Submit\",\" \"]}),\" \",(row.original.action===\"Approval by AO.\"||row.original.action===\"Approval by AAO.\")&&/*#__PURE__*/_jsxs(\"button\",{className:\"w-32 m-0 p-0 bg-red-500 hover:bg-red-700 \",onClick:function onClick(){return approve(row.original.id);},children:[\" \",\"Approve\",\" \"]})]}),/*#__PURE__*/_jsx(\"div\",{children:row.original.claimType!=\"KR\"&&/*#__PURE__*/_jsx(Link,{to:\"/cbillTadaLtcs/\"+row.original.id+\"/tbillInfo\",children:/*#__PURE__*/_jsxs(\"button\",{className:\"w-32 m-0 p-0 bg-gray-500 hover:bg-gray-700 \",children:[\" \",\"TBillInfo\",\" \"]})})}),/*#__PURE__*/_jsxs(\"div\",{children:[\" \",row.original.advId!==null&&/*#__PURE__*/_jsxs(\"button\",{className:\"w-32 m-0 p-0 bg-red-500 hover:bg-red-700 \",onClick:function onClick(){return generateRequisitionSlip(row.original.id);},children:[\" \",\"Requisition Slip\",\" \"]})]}),/*#__PURE__*/_jsx(\"div\",{children:row.original.claimType!==null&&row.original.claimType.includes(\"F\")&&row.original.recordStatus!==\"R\"&&row.original.approved!==null&&row.original.approved===true&&/*#__PURE__*/_jsxs(\"button\",{className:\"w-28 m-0 p-0 bg-red-500 hover:bg-red-700 \",onClick:function onClick(){return generateIntimationSlip(row.original.id);},children:[\" \",\"Intimation Slip\",\" \"]})}),/*#__PURE__*/_jsx(\"div\",{children:row.original.recordStatus===\"R\"&&/*#__PURE__*/_jsxs(\"button\",{className:\"w-32 m-0 p-0 bg-yellow-500 hover:bg-red-700 \",onClick:function onClick(){return tBillRejectionMemo(row.original.id);},children:[\" \",\"Print Rej Memo\",\" \"]})}),/*#__PURE__*/_jsx(\"div\",{children:row.original.claimType!==null&&(row.original.claimType===\"AT\"||row.original.claimType===\"AP\"||row.original.claimType===\"AL\")&&/*#__PURE__*/_jsxs(\"button\",{className:\" w-32 m-0 p-0 bg-pink-500 hover:bg-pink-700\",onClick:function onClick(){return viewAttachments(row.original.id);},children:[\" \",\"Attachments\",\" \"]})})]});}},{Header:\"Dak\",accessor:\"dak.dakidNo\",Filter:SelectColumnFilter,filter:\"includes\",Cell:function Cell(_ref2){var row=_ref2.row;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"label\",{children:[row.original.dak.dakidNo,\" \",\"  \",row.original.priority===true?/*#__PURE__*/_jsx(PriorityIcon,{className:\"inline text-red-500 animate-pulse\"}):\"\"]})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"label\",{children:row.original.advId})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"label\",{children:[\"Sec : \",row.original.section.sectionName]})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"label\",{children:[\"Task : \",row.original.taskNo]})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"label\",{children:[\"Month : \",row.original.monthEnding]})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"label\",{children:[\"Dak Reference Date : \",row.original.dak.referenceDate]})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"label\",{children:[\"Bill Created Date : \",row.original.createdAt.substring(0,10)]})})]});}},{Header:\"Receipt Date\",accessor:\"receiptDate\"// Change this\n},{Header:\"Bill Type\",accessor:\"billType.description\",Filter:SelectColumnFilter,filter:\"billType\",// Change this\nCell:function Cell(_ref3){var row=_ref3.row;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"label\",{children:[\"DakType : \",row.original.dak.dakType.description]})}),/*#__PURE__*/_jsx(\"div\",{children:row.original.billType&&/*#__PURE__*/_jsxs(\"label\",{children:[\"Bill Type : \",row.original.billType.description]})})]});}},{Header:\"Officer Name\",//accessor: \"employee.officerName\", // Change this\naccessor:\"employee.cdaoNo\",Filter:SelectColumnFilter,filter:\"includes\",Cell:function Cell(_ref4){var row=_ref4.row;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{children:row.original.employee!==null&&/*#__PURE__*/_jsxs(\"label\",{children:[row.original.employee.rank.rankName,\" \",row.original.employee.officerName]})}),/*#__PURE__*/_jsx(\"div\",{children:row.original.employee!==null&&/*#__PURE__*/_jsxs(\"label\",{children:[\" \",row.original.employee.cdaoNo,row.original.employee.checkDigit]})})]});}},{Header:\"Journey Date\",accessor:\"journeyStartDate\",Filter:SelectColumnFilter,filter:\"journeyStartDate\",Cell:function Cell(_ref5){var row=_ref5.row;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{children:row.original.journeyStartDate&&/*#__PURE__*/_jsxs(\"label\",{children:[\"Start Date : \",row.original.journeyStartDate]})}),/*#__PURE__*/_jsx(\"div\",{children:row.original.journeyEndDate&&/*#__PURE__*/_jsxs(\"label\",{children:[\"End Date : \",row.original.journeyEndDate]})}),/*#__PURE__*/_jsx(\"div\",{children:row.original.journeyStationFrom&&/*#__PURE__*/_jsxs(\"label\",{children:[\"From : \",row.original.journeyStationFrom]})}),/*#__PURE__*/_jsx(\"div\",{children:row.original.journeyStationTo&&/*#__PURE__*/_jsxs(\"label\",{children:[\"To : \",row.original.journeyStationTo]})})]});}},{Header:\"Bill Details\",accessor:\"htBlockYear\",Cell:function Cell(_ref6){var row=_ref6.row;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{children:row.original.typeOfLtc&&/*#__PURE__*/_jsxs(\"label\",{children:[\"LTC Type : \",row.original.typeOfLtc]})}),/*#__PURE__*/_jsx(\"div\",{children:row.original.calendarYear&&/*#__PURE__*/_jsxs(\"label\",{children:[\"Block Year : \",row.original.calendarYear]})}),/*#__PURE__*/_jsx(\"div\",{children:row.original.noOfMembers&&/*#__PURE__*/_jsxs(\"label\",{children:[\"No.of Members : \",row.original.noOfMembers]})})]});}},{Header:\"Amount Claimed\",accessor:\"amountClaimed\",Cell:function Cell(_ref7){var row=_ref7.row;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{children:row.original.amountClaimed&&/*#__PURE__*/_jsxs(\"label\",{children:[\"Claimed : \",row.original.amountClaimed]})}),/*#__PURE__*/_jsx(\"div\",{children:row.original.amountDisallowed!=null&&/*#__PURE__*/_jsxs(\"label\",{children:[\"Disallowance : \",row.original.amountDisallowed]})}),/*#__PURE__*/_jsx(\"div\",{children:row.original.advanceAmount!=null&&/*#__PURE__*/_jsxs(\"label\",{children:[\"Advance : \",row.original.advanceAmount]})}),/*#__PURE__*/_jsx(\"div\",{children:row.original.mroAmount!=null&&/*#__PURE__*/_jsxs(\"label\",{children:[\"MRO : \",row.original.mroAmount]})}),/*#__PURE__*/_jsx(\"div\",{children:row.original.amountPassed!=null&&/*#__PURE__*/_jsxs(\"label\",{children:[\"Passed : \",row.original.amountPassed]})}),/*#__PURE__*/_jsx(\"div\",{children:row.original.adjustmentAmount!=null&&/*#__PURE__*/_jsxs(\"label\",{children:[\"Adjustment : \",row.original.adjustmentAmount]})})]});}},{Header:\"Record Status\",accessor:\"recordStatus\",Filter:SelectColumnFilter,filter:\"includes\",Cell:function Cell(_ref8){var row=_ref8.row;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{children:row.original.recordStatus&&/*#__PURE__*/_jsxs(\"label\",{children:[\"Record Status : \",row.original.recordStatus]})}),/*#__PURE__*/_jsx(\"div\",{children:row.original.approved!=null&&/*#__PURE__*/_jsxs(\"label\",{children:[\"Approved : \",row.original.approved===true?\"true\":\"false\"]})}),/*#__PURE__*/_jsx(\"div\",{children:row.original.reason&&/*#__PURE__*/_jsxs(\"label\",{children:[\"Reason : \",row.original.reason]})})]});}}/*\n\t\t{\n\t\t\tHeader: \"Login Name\",\n\t\t\taccessor: 'loginName',\n\t\t\tFilter: SelectColumnFilter,  // new\n\t\t\tfilter: 'includes',\n\t\t},\n\t\t*/];},[data]);var handleSubmit=function handleSubmit(event){event.preventDefault();console.log(inputText);setSearch(inputText);console.log(value);setSearch1(value);};var handleAmountPassed=function handleAmountPassed(event){event.preventDefault();//console.log(inputText);\n//setSearch(inputText);\n//console.log(value);\nsetSearch1(value);setSelectionType(\"approved\");};var handleKeyPress=function handleKeyPress(event){// look for the `Enter` keyCode\nif(event.keyCode===13||event.which===13){handleSubmit(event);}};return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-100 text-gray-900\",children:/*#__PURE__*/_jsxs(\"main\",{className:\"max-w-8xl mx-auto px-4 sm:px-6 lg:px-8 pt-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2 ml-4\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-xl font-semibold\",children:\"Cbill Tada Ltcs\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flexContainer\",children:[(loggedInUsr===null||loggedInUsr===void 0?void 0:(_loggedInUsr$designat=loggedInUsr.designation)===null||_loggedInUsr$designat===void 0?void 0:_loggedInUsr$designat.designationLevel)>=30?/*#__PURE__*/_jsxs(\"div\",{className:\"-ml-2 mr-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"search\",placeholder:\"CDAO No,Dak Id No\",onChange:function onChange(e){return setInputText(e.target.value);},onKeyPress:handleKeyPress,className:\"pl-2 -ml-2 inputField flex-initial\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",onClick:handleSubmit,className:\"w-16 m-0 p-0\",children:\"Search\"})]}):\"\",/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"value\",placeholder:\"Amount Passed\",onChange:function onChange(e){return setValue(e.target.value);},className:\"pl-2 -ml-4\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleAmountPassed,className:\" w-36 m-0 p-0 \",children:[\" \",\"High Value Claims\",\" \"]})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Link,{to:\"/cbillTadaLtcs/twControls/pendency\",children:/*#__PURE__*/_jsx(\"button\",{className:\" w-42 ml-8 p-0 h-6 -mt-2\",children:\"Task Wise Pendency\"})})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Link,{to:\"/cbillTadaLtcs/twControls/sectionPendency\",children:/*#__PURE__*/_jsx(\"button\",{className:\" w-42 ml-8 p-0 h-6 -mt-2\",children:\"Section-Wise Pendency\"})})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Link,{to:\"/cbillTadaLtcs/allBills/approved\",children:/*#__PURE__*/_jsx(\"button\",{className:\" w-32 ml-8 p-0 h-6 -mt-2\",children:\"Processed \"})})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Link,{to:\"/cbillTadaLtcs/allBills/pendingForSection\",children:/*#__PURE__*/_jsx(\"button\",{className:\" w-40 ml-8 p-0 h-6 -mt-2\",children:\"Pending for Section\"})})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Link,{to:\"/prioritizeBill\",children:/*#__PURE__*/_jsx(\"button\",{className:\" w-36 ml-8 p-0 h-6 -mt-2\",children:\"Prioritize Bill\"})})})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"h1\",{className:\"text-xl font-semibold\",children:location.state})})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"br\",{})}),/*#__PURE__*/_jsx(\"div\",{className:\"-mt-2 max-h-1 py-0\",children:/*#__PURE__*/_jsx(Table1,{columns:columns,data:data,className:\"table-auto\"})})]})});}export default withRouter(CbillTadaLtcList);","map":{"version":3,"sources":["/home/itsdcsec/falconws/falcon_face/src/components/CbillTadaLtcList.js"],"names":["useState","useEffect","useMemo","Table1","SelectColumnFilter","axios","withRouter","Link","useLocation","PriorityIcon","CbillTadaLtcList","data","setData","update","setUpdate","serverErrors","setServerErrors","search","setSearch","inputText","setInputText","selectionType","setSelectionType","location","fileName","setFileName","value","setValue","search1","setSearch1","loggedInUsr","setLoggedInUsr","JSON","parse","sessionStorage","getItem","document","title","fetching","fetchData","console","log","get","then","response","catch","error","Error","generateRequisitionSlip","id","url","window","open","process","env","REACT_APP_BASE_URL","generateIntimationSlip","approve","put","updatedRecords","filter","i","tBillRejectionMemo","submitCbill","viewAttachments","handleClick","handleClickHighClaims","fetchHighData","columns","Header","Cell","row","original","action","includes","claimType","recordStatus","usrLevel","advId","approved","accessor","Filter","dak","dakidNo","priority","section","sectionName","taskNo","monthEnding","referenceDate","createdAt","substring","dakType","description","billType","employee","rank","rankName","officerName","cdaoNo","checkDigit","journeyStartDate","journeyEndDate","journeyStationFrom","journeyStationTo","typeOfLtc","calendarYear","noOfMembers","amountClaimed","amountDisallowed","advanceAmount","mroAmount","amountPassed","adjustmentAmount","reason","handleSubmit","event","preventDefault","handleAmountPassed","handleKeyPress","keyCode","which","designation","designationLevel","e","target","state"],"mappings":"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","sourcesContent":["import { useState, useEffect, useMemo } from \"react\";\nimport Table1, { SelectColumnFilter } from \"../utils/Table1\"; //\nimport axios from \"axios\";\nimport { withRouter, Link, useLocation } from \"react-router-dom\";\n// pcdao 04112022 fifo -- added image for priority\nimport { PriorityIcon } from \"../utils/Icons\";\n\nfunction CbillTadaLtcList() {\n  const [data, setData] = useState([]);\n  const [update, setUpdate] = useState(false);\n  const [serverErrors, setServerErrors] = useState([]);\n  const [search, setSearch] = useState(\"\");\n  const [inputText, setInputText] = useState(\"\");\n  const [selectionType, setSelectionType] = useState(\"\");\n  const location = useLocation();\n  const [fileName, setFileName] = useState(\"\");\n  const [value, setValue] = useState(\"\");\n  const [search1, setSearch1] = useState(\"\");\n  const [loggedInUsr, setLoggedInUsr] = useState({});\n\n  useEffect(() => {\n    setLoggedInUsr(JSON.parse(sessionStorage.getItem(\"usr\")));\n  }, []);\n\n  useEffect(() => {\n    document.title = \"Falcon | Bill Processing\";\n    let fetching = false;\n    async function fetchData() {\n      console.log(selectionType);\n      if (!fetching)\n        if (selectionType === \"approved\") {\n          await axios\n            .get(\n              \"/cbillTadaLtcs?filter=approved&search=\" +\n                search +\n                \"&search1=\" +\n                search1\n            )\n            .then((response) => {\n              setData(response.data);\n              setSelectionType(\"pending\");\n            })\n            .catch((error) => {\n              //console.log(error);\n              //console.log(error.response.status);\n              //console.log(error.response.headers);\n              if (error.response) setServerErrors(error.response.data.error);\n              else setServerErrors(error.Error);\n            });\n        } else {\n          await axios\n            .get(\"/cbillTadaLtcs?search=\" + search)\n            .then((response) => {\n              setData(response.data);\n              setSelectionType(\"pending\");\n            })\n            .catch((error) => {\n              //console.log(error);\n              //console.log(error.response.status);\n              //console.log(error.response.headers);\n              if (error.response) setServerErrors(error.response.data.error);\n              else setServerErrors(error.Error);\n            });\n        }\n    }\n    fetchData();\n    return () => {\n      fetching = true;\n    };\n  }, [update, search, search1]);\n\n  async function generateRequisitionSlip(id) {\n    await axios\n      .get(`/cbillTadaLtcs/${id}/requisitionSlip`)\n      .then((response) => {\n        //console.log(data);\n        console.log(response.data);\n        //pcdao -- to open pdf rather than downloading\n        const url = window.open(\n          `${process.env.REACT_APP_BASE_URL}/files/openpdf/${response.data}`\n        );\n      })\n      .catch((error) => {\n        console.log(error);\n        //console.log(error.response.status);\n        //console.log(error.response.headers);\n        if (error.response) setServerErrors(error.response.data.error);\n        else setServerErrors(error.Error);\n      });\n  }\n  async function generateIntimationSlip(id) {\n    await axios\n      .get(`/cbillTadaLtcs/${id}/intimationSlip`)\n      .then((response) => {\n        //console.log(data);\n        console.log(response.data);\n        //pcdao -- to open pdf rather than downloading\n        const url = window.open(\n          `${process.env.REACT_APP_BASE_URL}/files/openpdf/${response.data}`\n        );\n      })\n      .catch((error) => {\n        console.log(error);\n        //console.log(error.response.status);\n        //console.log(error.response.headers);\n        if (error.response) setServerErrors(error.response.data.error);\n        else setServerErrors(error.Error);\n      });\n  }\n\n  async function approve(id) {\n    await axios\n      .put(`/cbillTadaLtcs/${id}/approveCbill`)\n      .then(() => {\n        //console.log(data);\n        let updatedRecords = [...data].filter((i) => i.id !== id);\n        console.log(updatedRecords);\n        setData(updatedRecords);\n        setUpdate(!update);\n      })\n      .catch((error) => {\n        console.log(error);\n        //console.log(error.response.status);\n        //console.log(error.response.headers);\n        if (error.response) setServerErrors(error.response.data.error);\n        else setServerErrors(error.Error);\n      });\n  }\n\n  async function tBillRejectionMemo(id) {\n    console.log(\"=======:\" + id);\n    await axios\n      .put(`/cbillTadaLtcs/${id}/tBillRejectionMemo`)\n      .then((response) => {\n        console.log(data);\n        console.log(response.data);\n        //pcdao -- to open pdf rather than downloading\n        const url = window.open(\n          `${process.env.REACT_APP_BASE_URL}/files/openpdf/${response.data}`\n        );\n      })\n      .catch((error) => {\n        console.log(error);\n        //console.log(error.response.status);\n        //console.log(error.response.headers);\n        if (error.response) setServerErrors(error.response.data.error);\n        else setServerErrors(error.Error);\n      });\n  }\n\n  async function submitCbill(id) {\n    await axios\n      .put(`/cbillTadaLtcs/${id}/submitCbill`)\n      .then(() => {\n        //console.log(data);\n        let updatedRecords = [...data].filter((i) => i.id !== id);\n        console.log(updatedRecords);\n        setData(updatedRecords);\n        setUpdate(!update);\n      })\n      .catch((error) => {\n        console.log(error);\n        //console.log(error.response.status);\n        //console.log(error.response.headers);\n        if (error.response) setServerErrors(error.response.data.error);\n        else setServerErrors(error.Error);\n      });\n  }\n\n  /* async function tBillInfo(id) {\n\t\tconsole.log(\"********id is---:\" + id);\n\t\tawait axios.get(`/cbillTadaLtcs/${id}/tbillInfo`)\n\t\t\t.then((response) => {\n\t\t\t\tconsole.log(\"&&&&&&&&:\" + response.data);\n\t\t\tsetData(response.data);\n\t\t\t\t\t\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tconsole.log(error);\n\t\t\t\t//console.log(error.response.status);\n\t\t\t\t//console.log(error.response.headers);\n\t\t\t\tif (error.response)\n\t\t\t\t\tsetServerErrors(error.response.data.error);\n\t\t\t\telse\n\t\t\t\t\tsetServerErrors(error.Error);\n\t\t\t});\n\t}*/\n\n  async function viewAttachments(id) {\n    console.log(\"=======:\" + id);\n    await axios\n      .get(`/cbillTadaLtcs/${id}/viewAttachments`)\n      .then((response) => {\n        console.log(data);\n        console.log(response.data);\n        const url = \"\";\n        //pcdao -- to open pdf rather than downloading\n        if (response.data)\n          url = window.open(\n            `${process.env.REACT_APP_BASE_URL}/files/openpdf/${response.data}`\n          );\n      })\n      .catch((error) => {\n        console.log(error);\n        //console.log(error.response.status);\n        //console.log(error.response.headers);\n        if (error.response) setServerErrors(error.response.data.error);\n        else setServerErrors(error.Error);\n      });\n  }\n\n  const handleClick = () => {\n    let fetching = false;\n    async function fetchData() {\n      if (!fetching)\n        await axios\n          .get(`/cbillTadaLtcs?filter=approved`)\n          .then((response) => {\n            console.log(response.data);\n            setData(response.data);\n            setSelectionType(\"approved\");\n          })\n          .catch((error) => {\n            //console.log(error);\n            //console.log(error.response.status);\n            //console.log(error.response.headers);\n            if (error.response) setServerErrors(error.response.data.error);\n            else setServerErrors(error.Error);\n          });\n    }\n    fetchData();\n    return () => {\n      fetching = true;\n    };\n  };\n\n  const handleClickHighClaims = () => {\n    let fetching = false;\n    async function fetchHighData() {\n      if (!fetching) console.log(\">>>>>>>>$$$$$:\" + value);\n\n      await axios\n        .get(`/cbillTadaLtcs/highValue/${value}/`)\n        .then((response) => {\n          console.log(response.data);\n          setData(response.data);\n          setSelectionType(\"highClaims\");\n        })\n        .catch((error) => {\n          //console.log(error);\n          //console.log(error.response.status);\n          //console.log(error.response.headers);\n          if (error.response) setServerErrors(error.response.data.error);\n          else setServerErrors(error.Error);\n        });\n    }\n    fetchHighData();\n    return () => {\n      fetching = true;\n    };\n  };\n\n  const columns = useMemo(\n    () => [\n      {\n        Header: \"Action\",\n        Cell: ({ row }) => (\n          <div>\n            <div>\n              {row.original.action != null &&\n                !row.original.action.includes(\"Subm\") &&\n                !row.original.action.includes(\"Appr\") &&\n                (row.original.claimType == null ||\n                  !(row.original.claimType === \"KR\")) && (\n                  <Link to={\"/cbillTadaLtcs/\" + row.original.id}>\n                    <button className=\" w-32 m-0 p-0 \"> Edit </button>\n                  </Link>\n                )}\n\n              {row.original.action != null &&\n                !row.original.action.includes(\"Subm\") &&\n                !row.original.action.includes(\"Appr\") &&\n                row.original.claimType === \"KR\" && (\n                  <Link\n                    to={\n                      \"/cbillTadaLtcs/\" +\n                      row.original.id +\n                      \"/konkanRailwayCarriageBill\"\n                    }\n                  >\n                    <button className=\" w-32 m-0 p-0 \"> Edit </button>\n                  </Link>\n                )}\n\n              {row.original.action != null &&\n                row.original.recordStatus === \"R\" &&\n                row.original.usrLevel >= 30 && (\n                  <Link to={\"/cbillTadaLtcs/\" + row.original.id}>\n                    <button className=\" w-32 m-0 p-0 \"> Edit </button>\n                  </Link>\n                )}\n            </div>\n            <div>\n              {row.original.action === \"Submission by AAO.\" && (\n                <button\n                  className=\"w-32 m-0 p-0 bg-red-500 hover:bg-red-700 \"\n                  onClick={() => submitCbill(row.original.id)}\n                >\n                  {\" \"}\n                  Submit{\" \"}\n                </button>\n              )}{\" \"}\n              {(row.original.action === \"Approval by AO.\" ||\n                row.original.action === \"Approval by AAO.\") && (\n                <button\n                  className=\"w-32 m-0 p-0 bg-red-500 hover:bg-red-700 \"\n                  onClick={() => approve(row.original.id)}\n                >\n                  {\" \"}\n                  Approve{\" \"}\n                </button>\n              )}\n            </div>\n            <div>\n              {row.original.claimType != \"KR\" && (\n                <Link to={\"/cbillTadaLtcs/\" + row.original.id + \"/tbillInfo\"}>\n                  <button className=\"w-32 m-0 p-0 bg-gray-500 hover:bg-gray-700 \">\n                    {\" \"}\n                    TBillInfo{\" \"}\n                  </button>\n                </Link>\n              )}\n            </div>\n            <div>\n              {\" \"}\n              {row.original.advId !== null && (\n                <button\n                  className=\"w-32 m-0 p-0 bg-red-500 hover:bg-red-700 \"\n                  onClick={() => generateRequisitionSlip(row.original.id)}\n                >\n                  {\" \"}\n                  Requisition Slip{\" \"}\n                </button>\n              )}\n            </div>\n            <div>\n              {row.original.claimType !== null &&\n                row.original.claimType.includes(\"F\") &&\n                row.original.recordStatus !== \"R\" &&\n                row.original.approved !== null &&\n                row.original.approved === true && (\n                  <button\n                    className=\"w-28 m-0 p-0 bg-red-500 hover:bg-red-700 \"\n                    onClick={() => generateIntimationSlip(row.original.id)}\n                  >\n                    {\" \"}\n                    Intimation Slip{\" \"}\n                  </button>\n                )}\n            </div>\n            <div>\n              {row.original.recordStatus === \"R\" && (\n                <button\n                  className=\"w-32 m-0 p-0 bg-yellow-500 hover:bg-red-700 \"\n                  onClick={() => tBillRejectionMemo(row.original.id)}\n                >\n                  {\" \"}\n                  Print Rej Memo{\" \"}\n                </button>\n              )}\n            </div>\n            <div>\n              {row.original.claimType !== null &&\n                (row.original.claimType === \"AT\" ||\n                  row.original.claimType === \"AP\" ||\n                  row.original.claimType === \"AL\") && (\n                  <button\n                    className=\" w-32 m-0 p-0 bg-pink-500 hover:bg-pink-700\"\n                    onClick={() => viewAttachments(row.original.id)}\n                  >\n                    {\" \"}\n                    Attachments{\" \"}\n                  </button>\n                )}\n            </div>\n          </div>\n        ),\n      },\n      {\n        Header: \"Dak\",\n        accessor: \"dak.dakidNo\",\n        Filter: SelectColumnFilter,\n        filter: \"includes\",\n        Cell: ({ row }) => (\n          <div>\n            <div>\n              <label>\n                {row.original.dak.dakidNo} {\"  \"}\n                {row.original.priority === true ? (\n                  <PriorityIcon className=\"inline text-red-500 animate-pulse\" />\n                ) : (\n                  \"\"\n                )}\n              </label>\n            </div>\n            <div>\n              <label>{row.original.advId}</label>\n            </div>\n            <div>\n              <label>Sec : {row.original.section.sectionName}</label>\n            </div>\n            <div>\n              <label>Task : {row.original.taskNo}</label>\n            </div>\n            <div>\n              <label>Month : {row.original.monthEnding}</label>\n            </div>\n            <div>\n              <label>\n                Dak Reference Date : {row.original.dak.referenceDate}\n              </label>\n            </div>\n            {/* pcdao 04112022 fifo */}\n            <div>\n              <label>\n                Bill Created Date : {row.original.createdAt.substring(0, 10)}\n              </label>\n            </div>\n          </div>\n        ),\n      },\n      {\n        Header: \"Receipt Date\",\n        accessor: \"receiptDate\", // Change this\n      },\n\n      {\n        Header: \"Bill Type\",\n        accessor: \"billType.description\",\n        Filter: SelectColumnFilter,\n        filter: \"billType\", // Change this\n        Cell: ({ row }) => (\n          <div>\n            <div>\n              <label>DakType : {row.original.dak.dakType.description}</label>\n            </div>\n            <div>\n              {row.original.billType && (\n                <label>Bill Type : {row.original.billType.description}</label>\n              )}\n            </div>\n          </div>\n        ),\n      },\n\n      {\n        Header: \"Officer Name\",\n        //accessor: \"employee.officerName\", // Change this\n        accessor: \"employee.cdaoNo\",\n        Filter: SelectColumnFilter,\n        filter: \"includes\",\n        Cell: ({ row }) => (\n          <div>\n            <div>\n              {row.original.employee !== null && (\n                <label>\n                  {row.original.employee.rank.rankName}{\" \"}\n                  {row.original.employee.officerName}\n                </label>\n              )}\n            </div>\n            <div>\n              {row.original.employee !== null && (\n                <label>\n                  {\" \"}\n                  {row.original.employee.cdaoNo}\n                  {row.original.employee.checkDigit}\n                </label>\n              )}\n            </div>\n          </div>\n        ),\n      },\n\n      {\n        Header: \"Journey Date\",\n        accessor: \"journeyStartDate\",\n        Filter: SelectColumnFilter,\n        filter: \"journeyStartDate\",\n        Cell: ({ row }) => (\n          <div>\n            <div>\n              {row.original.journeyStartDate && (\n                <label>Start Date : {row.original.journeyStartDate}</label>\n              )}\n            </div>\n            <div>\n              {row.original.journeyEndDate && (\n                <label>End Date : {row.original.journeyEndDate}</label>\n              )}\n            </div>\n            <div>\n              {row.original.journeyStationFrom && (\n                <label>From : {row.original.journeyStationFrom}</label>\n              )}\n            </div>\n            <div>\n              {row.original.journeyStationTo && (\n                <label>To : {row.original.journeyStationTo}</label>\n              )}\n            </div>\n          </div>\n        ),\n      },\n\n      {\n        Header: \"Bill Details\",\n        accessor: \"htBlockYear\",\n        Cell: ({ row }) => (\n          <div>\n            <div>\n              {row.original.typeOfLtc && (\n                <label>LTC Type : {row.original.typeOfLtc}</label>\n              )}\n            </div>\n            <div>\n              {row.original.calendarYear && (\n                <label>Block Year : {row.original.calendarYear}</label>\n              )}\n            </div>\n            <div>\n              {row.original.noOfMembers && (\n                <label>No.of Members : {row.original.noOfMembers}</label>\n              )}\n            </div>\n          </div>\n        ),\n      },\n\n      {\n        Header: \"Amount Claimed\",\n        accessor: \"amountClaimed\",\n        Cell: ({ row }) => (\n          <div>\n            <div>\n              {row.original.amountClaimed && (\n                <label>Claimed : {row.original.amountClaimed}</label>\n              )}\n            </div>\n            <div>\n              {row.original.amountDisallowed != null && (\n                <label>Disallowance : {row.original.amountDisallowed}</label>\n              )}\n            </div>\n            <div>\n              {row.original.advanceAmount != null && (\n                <label>Advance : {row.original.advanceAmount}</label>\n              )}\n            </div>\n            <div>\n              {row.original.mroAmount != null && (\n                <label>MRO : {row.original.mroAmount}</label>\n              )}\n            </div>\n            <div>\n              {row.original.amountPassed != null && (\n                <label>Passed : {row.original.amountPassed}</label>\n              )}\n            </div>\n            <div>\n              {row.original.adjustmentAmount != null && (\n                <label>Adjustment : {row.original.adjustmentAmount}</label>\n              )}\n            </div>\n          </div>\n        ),\n      },\n\n      {\n        Header: \"Record Status\",\n        accessor: \"recordStatus\",\n        Filter: SelectColumnFilter,\n        filter: \"includes\",\n        Cell: ({ row }) => (\n          <div>\n            <div>\n              {row.original.recordStatus && (\n                <label>Record Status : {row.original.recordStatus}</label>\n              )}\n            </div>\n\n            <div>\n              {row.original.approved != null && (\n                <label>\n                  Approved : {row.original.approved === true ? \"true\" : \"false\"}\n                </label>\n              )}\n            </div>\n            <div>\n              {row.original.reason && (\n                <label>Reason : {row.original.reason}</label>\n              )}\n            </div>\n          </div>\n        ),\n      },\n\n      /*\n\t\t{\n\t\t\tHeader: \"Login Name\",\n\t\t\taccessor: 'loginName',\n\t\t\tFilter: SelectColumnFilter,  // new\n\t\t\tfilter: 'includes',\n\t\t},\n\t\t*/\n    ],\n    [data]\n  );\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    console.log(inputText);\n    setSearch(inputText);\n    console.log(value);\n    setSearch1(value);\n  };\n\n  const handleAmountPassed = (event) => {\n    event.preventDefault();\n    //console.log(inputText);\n    //setSearch(inputText);\n    //console.log(value);\n    setSearch1(value);\n    setSelectionType(\"approved\");\n  };\n\n  const handleKeyPress = (event) => {\n    // look for the `Enter` keyCode\n    if (event.keyCode === 13 || event.which === 13) {\n      handleSubmit(event);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-100 text-gray-900\">\n      <main className=\"max-w-8xl mx-auto px-4 sm:px-6 lg:px-8 pt-4\">\n        <div className=\"mt-2 ml-4\">\n          <h1 className=\"text-xl font-semibold\">Cbill Tada Ltcs</h1>\n          <div className=\"flexContainer\">\n            {loggedInUsr?.designation?.designationLevel >= 30 ? (\n              <div className=\"-ml-2 mr-2\">\n                <input\n                  type=\"text\"\n                  name=\"search\"\n                  placeholder=\"CDAO No,Dak Id No\"\n                  onChange={(e) => setInputText(e.target.value)}\n                  onKeyPress={handleKeyPress}\n                  className=\"pl-2 -ml-2 inputField flex-initial\"\n                />\n                <button\n                  type=\"submit\"\n                  onClick={handleSubmit}\n                  className=\"w-16 m-0 p-0\"\n                >\n                  Search\n                </button>\n              </div>\n            ) : (\n              \"\"\n            )}\n            <div>\n              <input\n                type=\"text\"\n                name=\"value\"\n                placeholder=\"Amount Passed\"\n                onChange={(e) => setValue(e.target.value)}\n                className=\"pl-2 -ml-4\"\n              />\n              <button onClick={handleAmountPassed} className=\" w-36 m-0 p-0 \">\n                {\" \"}\n                High Value Claims{\" \"}\n              </button>\n            </div>\n            <div>\n              <Link to={\"/cbillTadaLtcs/twControls/pendency\"}>\n                <button className=\" w-42 ml-8 p-0 h-6 -mt-2\">\n                  Task Wise Pendency\n                </button>\n              </Link>\n            </div>\n\n            <div>\n              <Link to={\"/cbillTadaLtcs/twControls/sectionPendency\"}>\n                <button className=\" w-42 ml-8 p-0 h-6 -mt-2\">\n                  Section-Wise Pendency\n                </button>\n              </Link>\n            </div>\n            <div>\n              <Link to={\"/cbillTadaLtcs/allBills/approved\"}>\n                <button className=\" w-32 ml-8 p-0 h-6 -mt-2\">Processed </button>\n              </Link>\n            </div>\n            <div>\n              <Link to={\"/cbillTadaLtcs/allBills/pendingForSection\"}>\n                <button className=\" w-40 ml-8 p-0 h-6 -mt-2\">\n                  Pending for Section\n                </button>\n              </Link>\n            </div>\n            <div>\n              <Link to={\"/prioritizeBill\"}>\n                <button className=\" w-36 ml-8 p-0 h-6 -mt-2\">\n                  Prioritize Bill\n                </button>\n              </Link>\n            </div>\n          </div>\n\n          <div>\n            <h1 className=\"text-xl font-semibold\">{location.state}</h1>\n          </div>\n        </div>\n        <div>\n          <br />\n        </div>\n\n        <div className=\"-mt-2 max-h-1 py-0\">\n          <Table1 columns={columns} data={data} className=\"table-auto\" />\n        </div>\n      </main>\n    </div>\n  );\n}\n\nexport default withRouter(CbillTadaLtcList);\n"]},"metadata":{},"sourceType":"module"}