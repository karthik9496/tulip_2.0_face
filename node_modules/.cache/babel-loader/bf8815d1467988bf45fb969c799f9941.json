{"ast":null,"code":"var _jsxFileName = \"/home/itsdc3/Imp Tulip files/falconws160424/falconws/falcon_face/src/components/StipendEdit.js\";\n\n/**\n * Code generated using Python\n * @author Raja Reddy\n * Date : 17 Oct 2021\n *\n * Modified By :\n */\nimport { useState, useEffect, useMemo } from \"react\";\nimport { withRouter, useParams, useHistory, useLocation } from \"react-router-dom\";\nimport { useForm } from \"react-hook-form\";\nimport axios from \"axios\";\nimport * as yup from \"yup\";\nimport LiveSearchNoTitle from \"../utils/LiveSearchNoTitle\";\nimport { yupResolver } from \"@hookform/resolvers/yup\";\nimport LiveSearch from \"../utils/LiveSearch\"; //import DatePicker  from 'react-datepicker';\n//import \"react-datepicker/dist/react-datepicker.css\";\n//import addDays from 'date-fns/addDays'\n\nimport Tabs from \"react-bootstrap/Tabs\";\nimport Tab from \"react-bootstrap/Tab\";\nimport Table from \"../utils/Table\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst schema = yup.object({});\n\nconst StipendEdit = () => {\n  var _errors$letterNo, _errors$letterDate, _errors$mroNo, _errors$mroDate;\n\n  const {\n    register,\n    handleSubmit,\n    setValue,\n    formState: {\n      errors\n    },\n    clearErrors\n  } = useForm({\n    resolver: yupResolver(schema)\n  });\n  let {\n    id\n  } = useParams();\n  let history = useHistory();\n  const [serverErrors, setServerErrors] = useState([]);\n  const [entity, setEntity] = useState({});\n  const [state, setState] = useState({});\n  const [key, setKey] = useState(\"page1\");\n  const [mesg, setMesg] = useState();\n  const [disabled, setDisabled] = useState(false);\n  const [extensionType, setExtensionType] = useState('');\n  const [empId, setEmpId] = useState(0);\n  let extnObj = {\n    cdaoNo: \"\",\n    empName: \"\",\n    employee: {},\n    rankName: \"\",\n    fromDate: \"\",\n    toDate: \"\",\n    letterNo: \"\",\n    letterDate: \"\",\n    mroNo: \"\",\n    mroDate: \"\",\n    mroNature: \"\",\n    amount: 0,\n    sectionRemarks: \"\",\n    unit: {},\n    select: false\n  };\n  const [extnObjList, setExtnObjList] = useState([extnObj]);\n  const [fDate, setFDate] = useState('');\n  const [tDate, setTDate] = useState('');\n  const [auth, setAuth] = useState('');\n  const [authDate, setAuthDate] = useState('');\n  const [extType, setExtType] = useState('');\n  const [secRemarks, setSecRemarks] = useState('');\n  const [cda, setCda] = useState('');\n  const [dakId, setDakId] = useState('');\n  const [rName, setRName] = useState('');\n  const [posUnit, setPosUnit] = useState('');\n  const [unitId, setUnitId] = useState('');\n  const [mNo, setMNo] = useState('');\n  const [mDate, setMDate] = useState('');\n  const [mNature, setMNature] = useState('');\n  useEffect(() => {\n    let isCancelled = false;\n    console.log(id);\n\n    if (id !== \"new\") {\n      async function fetchData() {\n        let record = \"\";\n        await axios.get(\"/stipends/\" + id).then(response => {\n          console.log(response.data[0].extnType);\n\n          if (response.data) {\n            if (response.data[0].letterNo) setAuth(response.data[0].letterNo);\n            if (response.data[0].letterDate) setAuthDate(response.data[0].letterDate);\n            if (response.data[0].mroNo) setMNo(response.data[0].mroNo);\n            if (response.data[0].mroDate) setMDate(response.data[0].mroDate);\n            if (response.data[0].mroNature) setMNature(response.data[0].mroNature);\n            if (response.data[0].fromDate) setFDate(response.data[0].fromDate);\n            if (response.data[0].toDate) setTDate(response.data[0].toDate);\n            if (response.data[0].sectionRemarks) setSecRemarks(response.data[0].sectionRemarks); //\t\tif(response.data[0].rankName)\n            //\t\t\tsetRName(response.data[0].rankName);\n\n            if (response.data[0].cdaoNo) setCda(response.data[0].cdaoNo);\n            console.log(\"--------reeemp-----:\" + response.data[0].dakId);\n            if (response.data[0].dakId) setDakId(response.data[0].dakId); //setEntity(response.data[0]);\n\n            setExtnObjList(response.data);\n            console.log(response.data[0].dakType);\n          }\n\n          const fields = [\"id\", \"dak\", \"auditorDate\", \"aaoDate\", \"aoDate\", \"approved\", \"employee\", \"cdaoNo\", \"recordStatus\", \"checkDigit\", \"icNo\", \"icCheckDigit\", \"rank\", \"letterNo\", \"letterDate\", \"mroNo\", \"mroDate\", \"mroNature\", \"fromDate\", \"toDate\", \"unit\", \"recordStatus\", \"monthEnding\", \"sectionRemarks\", \"extnObjList\"];\n          fields.forEach(field => setValue(field, record[field]));\n        }).catch(error => {\n          //console.log(error);\n          //console.log(error.response.status);\n          //console.log(error.response.headers);\n          if (error.response) setServerErrors(error.response.data.error);else setServerErrors(error.Error);\n        });\n\n        if (!isCancelled) {\n          setEntity(record);\n          setState(prev => ({ ...prev,\n            state: record\n          }));\n        }\n      }\n\n      fetchData();\n      return () => {\n        isCancelled = true;\n      };\n    }\n  }, [id, setValue]);\n\n  const onSubmit = (data, event) => {\n    if (disabled) return;\n    setDisabled(true);\n    extnObjList.map((item, key) => {\n      item.letterNo = auth;\n      item.letterDate = authDate;\n      item.mroNature = mNature;\n      item.mroDate = mDate;\n      item.mroNo = mNo;\n      item.sectionRemarks = secRemarks; //\titem.extnFromDate = fDate;\n      //\titem.extnToDate = tDate;\n    });\n    console.log(dakId);\n\n    if (dakId) {\n      console.log(\"-----------extn Obj List----:\" + extnObjList.length);\n      axios.put('/stipends/editEntries/', extnObjList).then(response => {\n        setMesg(response.data);\n      }).catch(error => {//console.log(error.response.data);\n        //console.log(error.response.status);\n        //console.log(error.response.headers);\n        //setServerErrors(error.response.data);\n      });\n    } else {\n      console.log(\"before post\");\n      axios.post(\"/stipends\", extnObjList).then(response => {\n        setMesg(response.data);\n        setDisabled(false);\n      }).catch(error => {\n        //console.log(error.response.data);\n        //console.log(error.response.status);\n        //console.log(error.response.headers);\n        setServerErrors(error.response.data);\n      });\n    }\n  };\n\n  const onError = (errors, e) => console.log(errors, e); //All foreign keys.\n  // XXXXXX Add search fields and adjust the values as necessary\n\n\n  const parentData = {\n    employee: {\n      title: \"Employee\",\n      url: \"employees\",\n      searchList: [\"cdaoNo\", \"officerName\"],\n      //XXXXXXXXX Add search fields here and also in the corresponding repository\n      fkEntity: \"employee\"\n    },\n    unit: {\n      title: \"Unit\",\n      url: \"units\",\n      searchList: [\"unitName\"],\n      //XXXXXXXXX Add search fields here and also in the corresponding repository\n      fkEntity: \"unit\"\n    }\n  }; //Callback for child components (Foreign Keys)\n\n  const callback = childData => {\n    //console.log(\"Parent Callback\");\n    setEntity(prev => ({ ...prev,\n      [childData.fk]: childData.entity\n    }));\n    setValue(childData.fk, childData.entity); //console.log(errors);\n\n    clearErrors(childData.fk);\n  };\n\n  const empcallback = index => childData => {\n    setEntity(prev => ({ ...prev,\n      [childData.fk]: childData.entity\n    }));\n    if (childData.fk === \"employee\") setEmpId(childData.entity.id);\n    let item = extnObjList[index];\n    item['employee'] = childData.entity;\n    item['rankName'] = childData.entity.rank.rankName;\n    let newData = [...extnObjList];\n    newData[index] = item;\n    setExtnObjList(newData);\n    clearErrors(childData.fk);\n  };\n\n  const unitcallback = index => childData => {\n    setEntity(prev => ({ ...prev,\n      [childData.fk]: childData.entity\n    }));\n    if (childData.fk === \"unit\") setUnitId(childData.entity.id);\n    let item = extnObjList[index];\n    item['unit'] = childData.entity;\n    let newData = [...extnObjList];\n    newData[index] = item;\n    setExtnObjList(newData);\n    clearErrors(childData.fk);\n  };\n\n  const errorCallback = err => {\n    //console.log(err);\n    setServerErrors(err);\n  };\n\n  const handleExtnType = e => {\n    console.log(\"%%%%%%:\" + e.target.value); //\tsetValue(\"extnType\", e.target.value);\n\n    setExtType(e.target.value);\n  };\n\n  const handleSecRemarks = e => {\n    console.log(\"%%%%%%:\" + e.target.value); //\tsetValue(\"extnType\", e.target.value);\n\n    setSecRemarks(e.target.value);\n  };\n\n  const handleMroDate = e => {\n    console.log(\"%%%%%%:\" + e.target.value); //\tsetValue(\"extnType\", e.target.value);\n\n    setMDate(e.target.value);\n  };\n\n  const handleMroNo = e => {\n    console.log(\"%%%%%%:\" + e.target.value); //\tsetValue(\"extnType\", e.target.value);\n\n    setMNo(e.target.value);\n  };\n\n  const handleMroNature = e => {\n    console.log(\"%%%%%%:\" + e.target.value); //\tsetValue(\"extnType\", e.target.value);\n\n    setMNature(e.target.value);\n  };\n\n  const handleInputChange = e => {//console.log(e.target.value);\n  };\n\n  const handleFromDate = index => e => {\n    console.log(index + \"--\" + e.target.value);\n    let item = extnObjList[index];\n    item['fromDate'] = e.target.value;\n    let newData = [...extnObjList];\n    newData[index] = item;\n    setExtnObjList(newData);\n  };\n\n  const handleToDate = index => e => {\n    console.log(index + \"--\" + e.target.value);\n    let item = extnObjList[index];\n    item['toDate'] = e.target.value;\n    let newData = [...extnObjList];\n    newData[index] = item;\n    setExtnObjList(newData);\n  };\n\n  const handleAmount = index => e => {\n    console.log(index + \"--\" + e.target.value);\n    let item = extnObjList[index];\n    item['amount'] = e.target.value;\n    let newData = [...extnObjList];\n    newData[index] = item;\n    setExtnObjList(newData);\n  };\n\n  const handleCheckBox = index => e => {\n    console.log(e.target.checked);\n    let item = extnObjList[index];\n    item[\"select\"] = e.target.checked;\n    let newData = [...extnObjList];\n    newData[index] = item;\n    setExtnObjList(newData);\n  };\n\n  const addRow = e => {\n    setExtnObjList([...extnObjList, {\n      cdaoNo: \"\",\n      empName: \"\",\n      employee: {},\n      rankName: \"\",\n      fromDate: \"\",\n      toDate: \"\",\n      letterNo: \"\",\n      letterDate: \"\",\n      mroNo: \"\",\n      mroDate: \"\",\n      mroNature: \"\",\n      sectionRemarks: \"\",\n      unit: {},\n      select: false\n    }]);\n  };\n\n  const deleteRow = e => {\n    console.log(extnObjList.length);\n    let newData = [...extnObjList];\n    let i;\n\n    for (i = 0; i < newData.length; i++) {\n      if (newData[i].select === true) newData.splice(i, 1);\n    }\n\n    setExtnObjList(newData);\n  };\n\n  const handleButtonClick = e => {\n    history.push(\"/stipends\");\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-100 text-gray-900\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-6xl mx-auto pb-2 px-4 sm:px-6 lg:px-8 pt-4\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"pb-2\",\n        onSubmit: handleSubmit(onSubmit, onError),\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: [id === \"new\" ? \"Add\" : \"Edit\", \" Stipend  \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 378,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-red-500\",\n          children: serverErrors\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 379,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-xl text-red-500\",\n          children: mesg\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 380,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-2 gap-0\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Letter No\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 388,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"letterNo\",\n              value: auth,\n              ...register(\"letterNo\"),\n              //     onChange={handleExtnAuth}\n              className: \"form-control py-0\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 389,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-red-500\",\n              children: (_errors$letterNo = errors.letterNo) === null || _errors$letterNo === void 0 ? void 0 : _errors$letterNo.message\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 397,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 387,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Letter Date\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 400,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"date\",\n              name: \"letterDate\",\n              value: authDate,\n              ...register(\"letterDate\"),\n              //    onChange={handleExtnDate}\n              className: \"form-control py-0\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 401,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-red-500\",\n              children: (_errors$letterDate = errors.letterDate) === null || _errors$letterDate === void 0 ? void 0 : _errors$letterDate.message\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 409,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 399,\n            columnNumber: 14\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Mro No\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 412,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"mroNo\",\n              value: mNo,\n              ...register(\"mroNo\"),\n              onChange: handleMroNo,\n              className: \"form-control py-0\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 413,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-red-500\",\n              children: (_errors$mroNo = errors.mroNo) === null || _errors$mroNo === void 0 ? void 0 : _errors$mroNo.message\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 421,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 411,\n            columnNumber: 16\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Mro Date\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 424,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"date\",\n              name: \"mroDate\",\n              value: mDate,\n              ...register(\"mroDate\"),\n              onChange: handleMroDate,\n              className: \"form-control py-0\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 425,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-red-500\",\n              children: (_errors$mroDate = errors.mroDate) === null || _errors$mroDate === void 0 ? void 0 : _errors$mroDate.message\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 433,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 423,\n            columnNumber: 14\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Mro Nature\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 436,\n              columnNumber: 4\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              name: \"mroNature\",\n              value: mNature,\n              ...register(\"mroNature\"),\n              onChange: handleMroNature,\n              className: \"form-control py-0\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"select\",\n                children: \"--Select--\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 439,\n                columnNumber: 5\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"STIPEND\",\n                children: \" STIPEND \"\n              }, \"1\", false, {\n                fileName: _jsxFileName,\n                lineNumber: 440,\n                columnNumber: 5\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"ARREARS OF MSP\",\n                children: \" ARR OF MSP \"\n              }, \"2\", false, {\n                fileName: _jsxFileName,\n                lineNumber: 441,\n                columnNumber: 5\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 437,\n              columnNumber: 4\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 435,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Section Remarks\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 451,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              type: \"text\",\n              name: \"sectionRemarks\",\n              value: secRemarks,\n              ...register(\"sectionRemarks\"),\n              onChange: handleSecRemarks,\n              className: \"form-control py-0\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 452,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 450,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 382,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"table table-striped table-bordered table-auto\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Cdao No\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 465,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Rank\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 466,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"From Date\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 467,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"To Date\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 468,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Amount\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 469,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Select\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 470,\n                columnNumber: 9\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 464,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 463,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: extnObjList.map((item, i) => {\n              return /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      width: \"300px\"\n                    },\n                    children: /*#__PURE__*/_jsxDEV(LiveSearchNoTitle, {\n                      name: \"employee\",\n                      value: cda,\n                      onChange: handleInputChange,\n                      parentData: parentData.employee,\n                      parentCallback: empcallback(i),\n                      fkEntity: item.employee,\n                      errCallback: errorCallback\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 484,\n                      columnNumber: 14\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 483,\n                    columnNumber: 13\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 482,\n                  columnNumber: 12\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: item.rankName\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 495,\n                  columnNumber: 12\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"date\",\n                    name: \"fromDate\",\n                    value: item.fromDate,\n                    onChange: handleFromDate(i),\n                    className: \"form-control py-0\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 504,\n                    columnNumber: 13\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 503,\n                  columnNumber: 12\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"date\",\n                    name: \"toDate\",\n                    value: item.toDate,\n                    onChange: handleToDate(i),\n                    className: \"form-control py-0\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 507,\n                    columnNumber: 13\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 506,\n                  columnNumber: 12\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    name: \"amount\",\n                    value: item.amount,\n                    onChange: handleAmount(i),\n                    className: \"form-control py-0\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 510,\n                    columnNumber: 13\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 509,\n                  columnNumber: 12\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"checkbox\",\n                    onChange: handleCheckBox(i),\n                    checked: item[\"select\"]\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 516,\n                    columnNumber: 13\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 515,\n                  columnNumber: 12\n                }, this)]\n              }, \"empDetail\" + i, true, {\n                fileName: _jsxFileName,\n                lineNumber: 480,\n                columnNumber: 11\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 476,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 462,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flexContainer\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-32 ...\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: addRow,\n              children: \"Add Record\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 538,\n              columnNumber: 7\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 537,\n            columnNumber: 6\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-38 ...\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: deleteRow,\n              children: \"Delete selected\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 541,\n              columnNumber: 7\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 540,\n            columnNumber: 6\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 536,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-2 gap-0 \",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"px-2\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: onSubmit,\n              children: \"Save\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 547,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 546,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"px-2\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: handleButtonClick,\n              children: \"Done\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 551,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 550,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 545,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 377,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 376,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 375,\n    columnNumber: 5\n  }, this);\n};\n\nexport default withRouter(StipendEdit);","map":{"version":3,"sources":["/home/itsdc3/Imp Tulip files/falconws160424/falconws/falcon_face/src/components/StipendEdit.js"],"names":["useState","useEffect","useMemo","withRouter","useParams","useHistory","useLocation","useForm","axios","yup","LiveSearchNoTitle","yupResolver","LiveSearch","Tabs","Tab","Table","schema","object","StipendEdit","register","handleSubmit","setValue","formState","errors","clearErrors","resolver","id","history","serverErrors","setServerErrors","entity","setEntity","state","setState","key","setKey","mesg","setMesg","disabled","setDisabled","extensionType","setExtensionType","empId","setEmpId","extnObj","cdaoNo","empName","employee","rankName","fromDate","toDate","letterNo","letterDate","mroNo","mroDate","mroNature","amount","sectionRemarks","unit","select","extnObjList","setExtnObjList","fDate","setFDate","tDate","setTDate","auth","setAuth","authDate","setAuthDate","extType","setExtType","secRemarks","setSecRemarks","cda","setCda","dakId","setDakId","rName","setRName","posUnit","setPosUnit","unitId","setUnitId","mNo","setMNo","mDate","setMDate","mNature","setMNature","isCancelled","console","log","fetchData","record","get","then","response","data","extnType","dakType","fields","forEach","field","catch","error","Error","prev","onSubmit","event","map","item","length","put","post","onError","e","parentData","title","url","searchList","fkEntity","callback","childData","fk","empcallback","index","rank","newData","unitcallback","errorCallback","err","handleExtnType","target","value","handleSecRemarks","handleMroDate","handleMroNo","handleMroNature","handleInputChange","handleFromDate","handleToDate","handleAmount","handleCheckBox","checked","addRow","deleteRow","i","splice","handleButtonClick","push","message","width"],"mappings":"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","sourcesContent":["/**\n * Code generated using Python\n * @author Raja Reddy\n * Date : 17 Oct 2021\n *\n * Modified By :\n */\n\nimport { useState, useEffect, useMemo } from \"react\";\nimport {\n  withRouter,\n  useParams,\n  useHistory,\n  useLocation,\n} from \"react-router-dom\";\nimport { useForm } from \"react-hook-form\";\nimport axios from \"axios\";\nimport * as yup from \"yup\";\nimport LiveSearchNoTitle from \"../utils/LiveSearchNoTitle\";\n\nimport { yupResolver } from \"@hookform/resolvers/yup\";\nimport LiveSearch from \"../utils/LiveSearch\";\n\n//import DatePicker  from 'react-datepicker';\n//import \"react-datepicker/dist/react-datepicker.css\";\n//import addDays from 'date-fns/addDays'\n\nimport Tabs from \"react-bootstrap/Tabs\";\nimport Tab from \"react-bootstrap/Tab\";\nimport Table from \"../utils/Table\";\n\nconst schema = yup.object({});\n\nconst StipendEdit = () => {\n  const {\n    register,\n    handleSubmit,\n    setValue,\n    formState: { errors },\n    clearErrors,\n  } = useForm({\n    resolver: yupResolver(schema),\n  });\n\n  let { id } = useParams();\n\n  let history = useHistory();\n  const [serverErrors, setServerErrors] = useState([]);\n  const [entity, setEntity] = useState({});\n  const [state, setState] = useState({});\n  const [key, setKey] = useState(\"page1\");\n  \n  const [mesg, setMesg] = useState();\n  const [disabled, setDisabled] = useState(false);\n  const [extensionType,setExtensionType]=useState('');\n  const [empId,setEmpId]=useState(0);\n  let extnObj={cdaoNo: \"\", empName: \"\", employee: {}, rankName: \"\",fromDate:\"\", toDate:\"\",\n  letterNo:\"\",letterDate:\"\",mroNo:\"\", mroDate:\"\",mroNature:\"\",amount:0,sectionRemarks:\"\",unit:{},select:false}\n\n   const [extnObjList, setExtnObjList] = useState([extnObj]);\n   const [fDate,setFDate]=useState('');\n   const [tDate,setTDate]=useState('');\n   const [auth,setAuth]=useState('');\n   const [authDate,setAuthDate]=useState('');\n   const [extType,setExtType]=useState('');\n   const [secRemarks,setSecRemarks]=useState('');\n   const [cda,setCda]=useState('');\t\n   const [dakId,setDakId]=useState('');\n   const [rName,setRName]=useState('');\n   const [posUnit,setPosUnit]=useState('');\n   const [unitId,setUnitId]=useState('');\n   const [mNo,setMNo]=useState('');\n   const [mDate,setMDate]=useState('');\nconst [mNature,setMNature]=useState('');\t\n\t\n  useEffect(() => {\n    let isCancelled = false;\n    console.log(id);\n    if (id !== \"new\") {\n      async function fetchData() {\n        let record = \"\";\n        await axios\n          .get(\"/stipends/\" + id)\n          .then((response) => {\n\tconsole.log(response.data[0].extnType);\n            if (response.data) {\n\t\t\t\t\t\t\tif (response.data[0].letterNo)\n\t\t\t\t\t\t\t\tsetAuth(response.data[0].letterNo);\n\t\t\t\t\t\t\tif (response.data[0].letterDate)\n\t\t\t\t\t\t\t\tsetAuthDate(response.data[0].letterDate);\n\t\t\t\t\t\t\tif (response.data[0].mroNo)\n\t\t\t\t\t\t\t\tsetMNo(response.data[0].mroNo);\n\t\t\t\t\t\t\t\tif (response.data[0].mroDate)\n\t\t\t\t\t\t\t\tsetMDate(response.data[0].mroDate);\n\t\t\t\t\t\t\t\tif (response.data[0].mroNature)\n\t\t\t\t\t\t\t\tsetMNature(response.data[0].mroNature);\n\t\t\t\t\t\t\tif (response.data[0].fromDate)\n\t\t\t\t\t\t\t\tsetFDate(response.data[0].fromDate);\n\t\t\t\t\t\t\tif (response.data[0].toDate) \n\t\t\t\t\t\t\t\tsetTDate(response.data[0].toDate);\n\t\t\t\t\t\t\tif(response.data[0].sectionRemarks)\n\t\t\t\t\t\t\t\tsetSecRemarks(response.data[0].sectionRemarks);\t\n\t\t\t\t\t//\t\tif(response.data[0].rankName)\n\t\t\t\t\t//\t\t\tsetRName(response.data[0].rankName);\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tif (response.data[0].cdaoNo)\n\t\t\t\t\t\t\t\t\tsetCda(response.data[0].cdaoNo);\n\t\t\t\t\t\t\t\t\tconsole.log(\"--------reeemp-----:\" + response.data[0].dakId);\n\t\t\t\t\t\t\t\t\tif(response.data[0].dakId)\n\t\t\t\t\t\t\t\t\tsetDakId(response.data[0].dakId);\n\t\t\t\t\t\t\t\t \n\n\n\t\t\t\t\t\t\t\t//setEntity(response.data[0]);\n\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tsetExtnObjList(response.data);\n\t\t\t\t\t\t\tconsole.log(response.data[0].dakType);\n\t\t\t\t\t\t}\n       \n            const fields = [\n              \"id\",\"dak\",\"auditorDate\",\"aaoDate\",\"aoDate\",\"approved\",\"employee\",\n              \"cdaoNo\",\"recordStatus\",\"checkDigit\",\"icNo\",\"icCheckDigit\",\"rank\",\n              \"letterNo\",\"letterDate\",\"mroNo\",\"mroDate\",\"mroNature\",\"fromDate\",\"toDate\",\n              \"unit\",\"recordStatus\",\"monthEnding\",\"sectionRemarks\",\"extnObjList\"\n            ];\n            fields.forEach((field) => setValue(field, record[field]));\n\n            \n          })\n          .catch((error) => {\n            //console.log(error);\n            //console.log(error.response.status);\n            //console.log(error.response.headers);\n            if (error.response) setServerErrors(error.response.data.error);\n            else setServerErrors(error.Error);\n          });\n\n        if (!isCancelled) {\n          setEntity(record);\n          setState((prev) => ({ ...prev, state: record }));\n        }\n      }\n\n      fetchData();\n      return () => {\n        isCancelled = true;\n      };\n    }\n  }, [id, setValue]);\n\n   \n  \n  const onSubmit = (data, event) => {\n\t \n\t if(disabled)\n\t \treturn;\n\t \t\n\t \tsetDisabled(true);\n\t \t\n    extnObjList.map((item, key) => {\n\t\t\titem.letterNo = auth;\n\t\t\titem.letterDate = authDate;\n\t\t\titem.mroNature = mNature;\n\t\t\titem.mroDate = mDate;\n\t\t\titem.mroNo = mNo;\n\t\t\titem.sectionRemarks = secRemarks;\n\t\t//\titem.extnFromDate = fDate;\n\t\t//\titem.extnToDate = tDate;\n\t\t}); \n    console.log(dakId);\n    if (dakId) {\n\tconsole.log(\"-----------extn Obj List----:\" + extnObjList.length);\n      axios.put('/stipends/editEntries/' , extnObjList)\n        .then((response) => {\n           setMesg(response.data);\n        })\n        .catch((error) => {\n          //console.log(error.response.data);\n          //console.log(error.response.status);\n          //console.log(error.response.headers);\n          //setServerErrors(error.response.data);\n        });\n    }else {\n\t\t\tconsole.log(\"before post\");\n\t\t\taxios.post(\"/stipends\", extnObjList)\n\t\t\t\t.then((response) => { \n\t\t\t\t\t  setMesg(response.data);\n\t\t\t\t\t   \n\t\t\t\t\t \tsetDisabled(false);\n\t\t\t\t \n\t\t\t\t\t  \n\t\t\t\t\t \t\n\t\t\t\t\t \n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\t//console.log(error.response.data);\n\t\t\t\t\t//console.log(error.response.status);\n\t\t\t\t\t//console.log(error.response.headers);\n\t\t\t\t\tsetServerErrors(error.response.data)\n\t\t\t\t});\n\t\t}\n  };\n\n  const onError = (errors, e) => console.log(errors, e);\n\n  //All foreign keys.\n  // XXXXXX Add search fields and adjust the values as necessary\n  const parentData = {\n    employee: {\n      title: \"Employee\",\n      url: \"employees\",\n      searchList: [\"cdaoNo\", \"officerName\"], //XXXXXXXXX Add search fields here and also in the corresponding repository\n      fkEntity: \"employee\",\n    },\n    \n     unit: {\n      title: \"Unit\",\n      url: \"units\",\n      searchList: [\"unitName\"], //XXXXXXXXX Add search fields here and also in the corresponding repository\n      fkEntity: \"unit\",\n    },\n  };\n\n  //Callback for child components (Foreign Keys)\n  const callback = (childData) => {\n    //console.log(\"Parent Callback\");\n    setEntity((prev) => ({ ...prev, [childData.fk]: childData.entity }));\n    setValue(childData.fk, childData.entity);\n    //console.log(errors);\n    clearErrors(childData.fk);\n  };\n  \n  const empcallback = index => (childData) => {\n\t\tsetEntity((prev) => ({ ...prev, [childData.fk]: childData.entity }));\n\n\t\t \n\t\tif (childData.fk === \"employee\") \n\t\tsetEmpId(childData.entity.id)\n\n\t\tlet item = extnObjList[index];\n\n\t\titem['employee'] = childData.entity;\n\t\titem['rankName'] = childData.entity.rank.rankName;\n\t\tlet newData = [...extnObjList];\n\t\tnewData[index] = item;\n\t\tsetExtnObjList(newData);\n\n\t\tclearErrors(childData.fk);\n\t};\n\tconst unitcallback = index => (childData) => {\n\t\tsetEntity((prev) => ({ ...prev, [childData.fk]: childData.entity }));\n\n\t\t \n\t\tif (childData.fk === \"unit\") \n\t\tsetUnitId(childData.entity.id)\n\n\t\tlet item = extnObjList[index];\n\n\t\titem['unit'] = childData.entity;\n \t\tlet newData = [...extnObjList];\n\t\tnewData[index] = item;\n\t\tsetExtnObjList(newData);\n\n\t\tclearErrors(childData.fk);\n\t};\n\n  const errorCallback = (err) => {\n    //console.log(err);\n    setServerErrors(err);\n  };\n  const handleExtnType = (e) => {\n\t\tconsole.log(\"%%%%%%:\" + e.target.value);\n\t//\tsetValue(\"extnType\", e.target.value);\n\t\tsetExtType(e.target.value);\n\n\t};\n\t\n\t const handleSecRemarks = (e) => {\n\t\tconsole.log(\"%%%%%%:\" + e.target.value);\n\t//\tsetValue(\"extnType\", e.target.value);\n\t\tsetSecRemarks(e.target.value);\n\n\t};\n\t const handleMroDate = (e) => {\n\t\tconsole.log(\"%%%%%%:\" + e.target.value);\n\t//\tsetValue(\"extnType\", e.target.value);\n\t\tsetMDate(e.target.value);\n\n\t};\n\t const handleMroNo = (e) => {\n\t\tconsole.log(\"%%%%%%:\" + e.target.value);\n\t//\tsetValue(\"extnType\", e.target.value);\n\t\tsetMNo(e.target.value);\n\n\t};\n\t const handleMroNature = (e) => {\n\t\tconsole.log(\"%%%%%%:\" + e.target.value);\n\t//\tsetValue(\"extnType\", e.target.value);\n\t\tsetMNature(e.target.value);\n\n\t};\n  const handleInputChange = (e) => {\n    //console.log(e.target.value);\n  };\n  const handleFromDate = index => (e) => {\n\t\tconsole.log(index + \"--\" + e.target.value);\n\t\tlet item = extnObjList[index];\n\n\t\titem['fromDate'] = e.target.value;\n\t\tlet newData = [...extnObjList];\n\t\tnewData[index] = item;\n\t\tsetExtnObjList(newData);\n\n\t};\n\tconst handleToDate = index => (e) => {\n\t\tconsole.log(index + \"--\" + e.target.value);\n\t\tlet item = extnObjList[index];\n\n\t\titem['toDate'] = e.target.value;\n\t\tlet newData = [...extnObjList];\n\t\tnewData[index] = item;\n\t\tsetExtnObjList(newData);\n\n\t};\n\t\n\tconst handleAmount = index => (e) => {\n\t\tconsole.log(index + \"--\" + e.target.value);\n\t\tlet item = extnObjList[index];\n\n\t\titem['amount'] = e.target.value;\n\t\tlet newData = [...extnObjList];\n\t\tnewData[index] = item;\n\t\tsetExtnObjList(newData);\n\n\t};\n\t\n\tconst handleCheckBox = (index) => (e) => {\n  \n    console.log(e.target.checked);\n    let item = extnObjList[index];\n\n    item[\"select\"] = e.target.checked;\n    let newData = [...extnObjList];\n    newData[index] = item;\n    setExtnObjList(newData);\n   };\n  \n  const addRow = (e) => {\n\t \n\t\t\n\t\tsetExtnObjList([...extnObjList,{cdaoNo: \"\", empName: \"\", employee: {}, rankName: \"\",fromDate:\"\", toDate:\"\",\n  letterNo:\"\",letterDate:\"\",mroNo:\"\", mroDate:\"\",mroNature:\"\",sectionRemarks:\"\",unit:{},select:false}])\n\t\t \n\t\n\t};\n\t\n\tconst deleteRow = (e) => {\n\t\tconsole.log(extnObjList.length);\n\tlet newData = [...extnObjList];\n\tlet i;\n\t\tfor(i=0;i<newData.length;i++){\n\t\t\tif(newData[i].select===true)\n\t\t\tnewData.splice(i,1);\n\t\t}\n\t\tsetExtnObjList(newData);\n\t};\n\t\n\tconst handleButtonClick = (e) => {\n\t\thistory.push(\"/stipends\");\n\t};\n\n\n  return (\n    <div className=\"min-h-screen bg-gray-100 text-gray-900\">\n      <div className=\"max-w-6xl mx-auto pb-2 px-4 sm:px-6 lg:px-8 pt-4\">\n        <form className=\"pb-2\" onSubmit={handleSubmit(onSubmit, onError)}>\n          <h1>{id === \"new\" ? \"Add\" : \"Edit\"} Stipend  </h1>\n          <div className=\"text-red-500\">{serverErrors}</div>\n          <div className=\"text-xl text-red-500\">{mesg}</div>\n\n          <div className=\"grid grid-cols-2 gap-0\">\n           \n            \n            \n\n            <div>\n              <label>Letter No</label>\n              <input\n                type=\"text\"\n                name=\"letterNo\"\n                value={auth}\n                {...register(\"letterNo\")}\n           //     onChange={handleExtnAuth}\n                className=\"form-control py-0\"\n              />\n              <div className=\"text-red-500\">{errors.letterNo?.message}</div>\n            </div>\n             <div>\n              <label>Letter Date</label>\n              <input\n                type=\"date\"\n                name=\"letterDate\"\n                value={authDate}\n                {...register(\"letterDate\")}\n            //    onChange={handleExtnDate}\n                className=\"form-control py-0\"\n              />\n              <div className=\"text-red-500\">{errors.letterDate?.message}</div>\n            </div>\n               <div>\n              <label>Mro No</label>\n              <input\n                type=\"text\"\n                name=\"mroNo\"\n                value={mNo}\n                {...register(\"mroNo\")}\n                onChange={handleMroNo}\n                className=\"form-control py-0\"\n              />\n              <div className=\"text-red-500\">{errors.mroNo?.message}</div>\n            </div>\n             <div>\n              <label>Mro Date</label>\n              <input\n                type=\"date\"\n                name=\"mroDate\"\n                value={mDate}\n                {...register(\"mroDate\")}\n                onChange={handleMroDate}\n                className=\"form-control py-0\"\n              />\n              <div className=\"text-red-500\">{errors.mroDate?.message}</div>\n            </div>\n            <div>\n\t\t\t<label>Mro Nature</label>\n\t\t\t<select name=\"mroNature\" value={mNature}\n\t\t\t{...register(\"mroNature\")} onChange={handleMroNature}  className=\"form-control py-0\">\n\t\t\t\t<option value=\"select\">--Select--</option>\n\t\t\t\t<option key=\"1\" value=\"STIPEND\">\tSTIPEND\t</option>\n\t\t\t\t<option key=\"2\" value=\"ARREARS OF MSP\"> ARR OF MSP </option>\n\t\t\t\t \n\n\n\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t</div>\n\n\n            \n            <div>\n              <label>Section Remarks</label>\n              <textarea\n                type=\"text\"\n                name=\"sectionRemarks\"\n                value={secRemarks}\n                {...register(\"sectionRemarks\")}\n                onChange={handleSecRemarks}\n                className=\"form-control py-0\"\n              />\n            </div>\n          </div>\n\t\t  <table className=\"table table-striped table-bordered table-auto\">\n\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<th>Cdao No</th>\n\t\t\t\t\t\t\t\t<th>Rank</th>\n\t\t\t\t\t\t\t\t<th>From Date</th>\n\t\t\t\t\t\t\t\t<th>To Date</th>\n\t\t\t\t\t\t\t\t<th>Amount</th>\n\t\t\t\t\t\t\t\t<th>Select</th>\n\n\n\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\textnObjList.map((item, i) => {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<tr key={\"empDetail\" + i}>\n\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t<div style={{ width: \"300px\" }}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<LiveSearchNoTitle\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"employee\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={cda}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tparentData={parentData.employee}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tparentCallback={empcallback(i)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfkEntity={item.employee}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\terrCallback={errorCallback}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t{item.rankName}\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t \n\n\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t \n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"date\" name=\"fromDate\" value={item.fromDate}  onChange={handleFromDate(i)} className=\"form-control py-0\" />\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"date\"  name=\"toDate\"  value={item.toDate}  onChange={handleToDate(i)} className=\"form-control py-0\" />\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\"  name=\"amount\"  value={item.amount}  onChange={handleAmount(i)} className=\"form-control py-0\" />\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\n\n\t\t\t\t\t\t\t\t\t\t\t \n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={handleCheckBox(i)}\n\t\t\t\t\t\t\t\t\t\t\t\t\tchecked={item[\"select\"]}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t)\n\n\t\t\t\t\t\t\t\t})\n\n\t\t\t\t\t\t\t}\n\n\n\n\t\t\t\t\t\t</tbody>\n\n\n\t\t\t\t\t</table>\n\n\t\t\t\t<div className=\"flexContainer\">\n\t\t\t\t\t<div className=\"w-32 ...\">\n\t\t\t\t\t\t<button type=\"button\" onClick={addRow}>Add Record</button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"w-38 ...\">\n\t\t\t\t\t\t<button type=\"button\" onClick={deleteRow}>Delete selected</button>\n\t\t\t\t\t</div>\n</div>\n\n\t\t\t\t\t<div className=\"grid grid-cols-2 gap-0 \">\n\t\t\t\t\t\t<div className=\"px-2\">\n\t\t\t\t\t\t\t<button type=\"button\" onClick={onSubmit}>Save</button>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\"px-2\">\n\t\t\t\t\t\t\t<button type=\"button\" onClick={handleButtonClick}>\n\t\t\t\t\t\t\t\tDone\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default withRouter(StipendEdit);\n"]},"metadata":{},"sourceType":"module"}