{"ast":null,"code":"import _toConsumableArray from\"/home/itsdcsec/falconws/falcon_face/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _regeneratorRuntime from\"/home/itsdcsec/falconws/falcon_face/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/itsdcsec/falconws/falcon_face/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/itsdcsec/falconws/falcon_face/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";/**\n * Code generated using Python\n * @author Raja Reddy\n * Date : 17 Oct 2021\n *\n * Modified By :\n */import{useState,useEffect,useRef,useMemo}from\"react\";import{withRouter,useParams,useHistory}from\"react-router-dom\";import{useForm}from\"react-hook-form\";import axios from\"axios\";import*as yup from\"yup\";import{yupResolver}from\"@hookform/resolvers/yup\";import LiveSearch from\"../utils/LiveSearch\";import DatePicker from\"react-datepicker\";import\"react-datepicker/dist/react-datepicker.css\";import addDays from\"date-fns/addDays\";import Tabs from\"react-bootstrap/Tabs\";import Tab from\"react-bootstrap/Tab\";//import TablePage from '../utils/TablePage';\nimport TablePage from\"../utils/TablePage\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var schema=yup.object({});var DpSheetList=function DpSheetList(){var _useForm=useForm({resolver:yupResolver(schema)}),register=_useForm.register,handleSubmit=_useForm.handleSubmit,setValue=_useForm.setValue,errors=_useForm.formState.errors,clearErrors=_useForm.clearErrors;var _useParams=useParams(),id=_useParams.id;//console.log(id);\nvar history=useHistory();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),serverErrors=_useState2[0],setServerErrors=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),entity=_useState4[0],setEntity=_useState4[1];var _useState5=useState({}),_useState6=_slicedToArray(_useState5,2),state=_useState6[0],setState=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),secList=_useState8[0],setSecList=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),csList=_useState10[0],setCsList=_useState10[1];var _useState11=useState(),_useState12=_slicedToArray(_useState11,2),secItem=_useState12[0],setSecItem=_useState12[1];var _useState13=useState([]),_useState14=_slicedToArray(_useState13,2),secCodeItems=_useState14[0],setSecCodeItems=_useState14[1];var _useState15=useState([]),_useState16=_slicedToArray(_useState15,2),secItems=_useState16[0],setSecItems=_useState16[1];var _useState17=useState(true),_useState18=_slicedToArray(_useState17,2),loading=_useState18[0],setLoading=_useState18[1];var _useState19=useState(),_useState20=_slicedToArray(_useState19,2),mesg=_useState20[0],setMesg=_useState20[1];var _useState21=useState([]),_useState22=_slicedToArray(_useState21,2),secCodeList=_useState22[0],setSecCodeList=_useState22[1];var _useState23=useState(),_useState24=_slicedToArray(_useState23,2),secCode=_useState24[0],setSecCode=_useState24[1];var _useState25=useState(false),_useState26=_slicedToArray(_useState25,2),disabled=_useState26[0],setDisabled=_useState26[1];var _useState27=useState(0),_useState28=_slicedToArray(_useState27,2),pageSize=_useState28[0],setPageSize=_useState28[1];var _useState29=useState(\"Page1\"),_useState30=_slicedToArray(_useState29,2),key=_useState30[0],setKey=_useState30[1];var _useState31=useState(0),_useState32=_slicedToArray(_useState31,2),page=_useState32[0],setPage=_useState32[1];useEffect(function(){var fetching=false;var unmounted=false;function fetchUsrSectionData(){return _fetchUsrSectionData.apply(this,arguments);}function _fetchUsrSectionData(){_fetchUsrSectionData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(fetching){_context.next=3;break;}_context.next=3;return axios.get(\"/usrs/0/loggedInUsrSections\").then(function(response){console.log(\"response>>\"+response.data);setSecList(response.data);if(!unmounted){setSecItems(response.data.map(function(_ref){var id=_ref.id,sectionName=_ref.sectionName;return{id:id,label:sectionName};}));setLoading(false);}}).catch(function(error){//console.log(error);\n//console.log(error.response.status);\n//console.log(error.response.headers);\nif(error.response)setServerErrors(error.response.data.error);else setServerErrors(error.Error);});case 3:case\"end\":return _context.stop();}}},_callee);}));return _fetchUsrSectionData.apply(this,arguments);}fetchUsrSectionData();return function(){fetching=true;unmounted=true;};// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);useEffect(function(){var fetching=false;var unmounted=false;function fetchSectionCodeData(){return _fetchSectionCodeData.apply(this,arguments);}function _fetchSectionCodeData(){_fetchSectionCodeData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:console.log(secItem);if(!(!fetching&&secItem)){_context2.next=4;break;}_context2.next=4;return axios.get(\"/sections/\".concat(secItem,\"/pmSectionCodes\")).then(function(response){console.log(\"response section codce >>\"+response.data);setSecCodeList(response.data);if(!unmounted){setLoading(false);}}).catch(function(error){//console.log(error);\n//console.log(error.response.status);\n//console.log(error.response.headers);\nif(error.response)setServerErrors(error.response.data.error);else setServerErrors(error.Error);});case 4:case\"end\":return _context2.stop();}}},_callee2);}));return _fetchSectionCodeData.apply(this,arguments);}fetchSectionCodeData();return function(){fetching=true;unmounted=true;};// eslint-disable-next-line react-hooks/exhaustive-deps\n},[secItem]);useEffect(function(){var fetching=false;var unmounted=false;function fetchCsData(){return _fetchCsData.apply(this,arguments);}function _fetchCsData(){_fetchCsData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:console.log(secCode+\"-\"+secItem);if(!(!fetching&&secCode&&secItem)){_context3.next=4;break;}_context3.next=4;return axios.get(\"/sections/\".concat(secItem,\"/pmSection/\").concat(secCode)).then(function(response){//console.log(\"response cs list >>\" + response.data);\nsetCsList(response.data);if(!unmounted){setLoading(false);}}).catch(function(error){//console.log(error);\n//console.log(error.response.status);\n//console.log(error.response.headers);\nif(error.response)setServerErrors(error.response.data.error);else setServerErrors(error.Error);});case 4:case\"end\":return _context3.stop();}}},_callee3);}));return _fetchCsData.apply(this,arguments);}fetchCsData();return function(){fetching=true;unmounted=true;};// eslint-disable-next-line react-hooks/exhaustive-deps\n},[secCode,secItem]);var generateDps=function generateDps(){if(disabled)return;//\tconsole.log(data);\n//console.log(\"data id--------------\"+data.id);\nsetDisabled(true);axios.put(\"/chequeSlips/\".concat(secCode,\"/dpSheet\"),csList).then(function(response){console.log(\"reponse status--------------\"+response.status+\"--\"+response.statusText+\"----\"+\"-h--\"+response.headers+\"--\"+response.data);if(response.status===200){setMesg(response.data[1]);setCsList([]);var url=window.open(\"\".concat(process.env.REACT_APP_BASE_URL,\"/files/\").concat(response.data[0]));//history.push(\"/daks/view/\"+response.data);\n//history.replace({pathname:'/daks/new/'+response.data});\n}}).catch(function(error){//console.log(error.response.data);\n//console.log(\"response--------\"+error.response.status);\n//if(error.response.status!==200)\n//history.push(\"/chequeSlips/dpsList\");\n//console.log(error.response.headers);\nif(error.response)setServerErrors(error.response.data);else setServerErrors(error);});//history.push(\"/daks\");\n};var onError=function onError(errors,e){return console.log(errors,e);};//All foreign keys.\n// XXXXXX Add search fields and adjust the values as necessary\nvar errorCallback=function errorCallback(err){//console.log(err);\nsetServerErrors(err);};var handleCheckBox=function handleCheckBox(index){return function(e){//console.log(Table.page)\nconsole.log(e.target.checked+\"--\"+index);//csList[index].select=e.target.checked;\nconsole.log(e.target.checked);var item=csList[index];item[\"select\"]=e.target.checked;var newData=_toConsumableArray(csList);newData[index]=item;setCsList(newData);//console.log(csList);\n};};var handleSectionChange=function handleSectionChange(e){console.log(e.target.selectedIndex+\"--\"+e.target.value);setSecItem(e.target.value);};var handleSectionCodeChange=function handleSectionCodeChange(e){console.log(e.target.selectedIndex+\"-->>\"+e.target.value);setSecCode(e.target.value);};var updateCheckBoxAll=function updateCheckBoxAll(e){// console.log(\"...\"+e.target.checked+\"--\"+index);\nvar newData=_toConsumableArray(csList);for(var k in newData){newData[k].select=e.target.checked;}setCsList(newData);};//\tconst handlePage = (pp)=>{\n//\tconsole.log(pp);\n//\tsetPage(pp);\n//\t}\nvar handleInputChange=function handleInputChange(e){console.log(e.target.value);//\tconsole.log(\"handle input change\");\n};var callback=function callback(e){console.log(e);};var ShowDps=function ShowDps(){var handleP=function handleP(pp){console.log(pp);setPage(pp);};var handlePageSize=function handlePageSize(pp){console.log(pp);setPageSize(pp);};var columns=useMemo(function(){return[{Header:/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",onChange:updateCheckBoxAll}),accessor:\"select\",Cell:function Cell(_ref2){var row=_ref2.row;return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",onChange:handleCheckBox(row.index),checked:csList[row.index][\"select\"]})});}},{Header:\"DakId\",accessor:\"dakId\",Cell:function Cell(_ref3){var row=_ref3.row;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"label\",{children:row.original.dakId})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"label\",{children:[\" \",row.original.me]})})]});}},{Header:\"Beneficiary\",accessor:\"beneficiary\",Cell:function Cell(_ref4){var row=_ref4.row;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"label\",{children:row.original.beneficiary})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"label\",{children:[row.original.rank,\" \",row.original.cdaoNo]})})]});}},{Header:\"Amount\",accessor:\"amount\"},{Header:\"ifsc\",accessor:\"ifsc\",Cell:function Cell(_ref5){var row=_ref5.row;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"label\",{children:[\"IFSC : \",row.original.ifsc]})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"label\",{children:[\"Bank Ac : \",row.original.bankAccount]})})]});}}];},[csList,page,setPage]);return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-green-100 text-gray-700\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-5xl mx-auto px-2 sm:px-6 lg:px-8 pt-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"-mt-2 max-h-1 py-0 ml-0\",children:[/*#__PURE__*/_jsx(TablePage,{columns:columns,data:csList,newpage:page,parentCallback:handleP,newPageSize:pageSize,parentCallbackPageSize:handlePageSize,className:\"table-auto\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-2 ml-4\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:generateDps,className:\"w-24 mb-24 p-0\",children:\"Generate DP Sheet\"})})]})})});};return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-100 text-gray-900\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 pt-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-red-500\",children:serverErrors}),/*#__PURE__*/_jsx(\"div\",{className:\"text-blue-500\",children:mesg}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-xl font-semibold ml-4\",children:\"DP Sheet Generation\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2 ml-4\",children:[/*#__PURE__*/_jsx(\"b\",{children:\"Section\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"w-22 m-0 p-0\",disabled:loading,value:secItem,onChange:handleSectionChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"--select section--\"},\"0\"),secItems.map(function(_ref6){var id=_ref6.id,label=_ref6.label;return/*#__PURE__*/_jsxs(\"option\",{value:id,children:[\" \",label,\" \"]},id);})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2 ml-4\",children:[/*#__PURE__*/_jsx(\"b\",{children:\"PM Section\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"w-22 m-0 p-0\",disabled:loading,value:secCode,onChange:handleSectionCodeChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"--select pm section--\"},\"0\"),secCodeList.map(function(item,index){return/*#__PURE__*/_jsxs(\"option\",{value:item.toString(),children:[\" \",item.toString(),\" \"]},index);})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-2 max-h-1 py-0 ml-0\",children:/*#__PURE__*/_jsx(ShowDps,{})})]})});};export default withRouter(DpSheetList);","map":{"version":3,"sources":["/home/itsdcsec/falconws/falcon_face/src/components/DpSheetList.js"],"names":["useState","useEffect","useRef","useMemo","withRouter","useParams","useHistory","useForm","axios","yup","yupResolver","LiveSearch","DatePicker","addDays","Tabs","Tab","TablePage","schema","object","DpSheetList","resolver","register","handleSubmit","setValue","errors","formState","clearErrors","id","history","serverErrors","setServerErrors","entity","setEntity","state","setState","secList","setSecList","csList","setCsList","secItem","setSecItem","secCodeItems","setSecCodeItems","secItems","setSecItems","loading","setLoading","mesg","setMesg","secCodeList","setSecCodeList","secCode","setSecCode","disabled","setDisabled","pageSize","setPageSize","key","setKey","page","setPage","fetching","unmounted","fetchUsrSectionData","get","then","response","console","log","data","map","sectionName","label","catch","error","Error","fetchSectionCodeData","fetchCsData","generateDps","put","status","statusText","headers","url","window","open","process","env","REACT_APP_BASE_URL","onError","e","errorCallback","err","handleCheckBox","index","target","checked","item","newData","handleSectionChange","selectedIndex","value","handleSectionCodeChange","updateCheckBoxAll","k","select","handleInputChange","callback","ShowDps","handleP","pp","handlePageSize","columns","Header","accessor","Cell","row","original","dakId","me","beneficiary","rank","cdaoNo","ifsc","bankAccount","toString"],"mappings":"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","sourcesContent":["/**\n * Code generated using Python\n * @author Raja Reddy\n * Date : 17 Oct 2021\n *\n * Modified By :\n */\n\nimport { useState, useEffect, useRef, useMemo } from \"react\";\nimport { withRouter, useParams, useHistory } from \"react-router-dom\";\nimport { useForm } from \"react-hook-form\";\nimport axios from \"axios\";\nimport * as yup from \"yup\";\n\nimport { yupResolver } from \"@hookform/resolvers/yup\";\nimport LiveSearch from \"../utils/LiveSearch\";\n\nimport DatePicker from \"react-datepicker\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport addDays from \"date-fns/addDays\";\n\nimport Tabs from \"react-bootstrap/Tabs\";\nimport Tab from \"react-bootstrap/Tab\";\n//import TablePage from '../utils/TablePage';\n\nimport TablePage from \"../utils/TablePage\";\n\nconst schema = yup.object({});\n\nconst DpSheetList = () => {\n  const {\n    register,\n    handleSubmit,\n    setValue,\n    formState: { errors },\n    clearErrors,\n  } = useForm({\n    resolver: yupResolver(schema),\n  });\n\n  let { id } = useParams();\n  //console.log(id);\n\n  let history = useHistory();\n\n  const [serverErrors, setServerErrors] = useState([]);\n  const [entity, setEntity] = useState({});\n  const [state, setState] = useState({});\n\n  const [secList, setSecList] = useState([]);\n  const [csList, setCsList] = useState([]);\n  const [secItem, setSecItem] = useState();\n  const [secCodeItems, setSecCodeItems] = useState([]);\n  const [secItems, setSecItems] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [mesg, setMesg] = useState();\n  const [secCodeList, setSecCodeList] = useState([]);\n  const [secCode, setSecCode] = useState();\n  const [disabled, setDisabled] = useState(false);\n  const [pageSize, setPageSize] = useState(0);\n\n  const [key, setKey] = useState(\"Page1\");\n\n  const [page, setPage] = useState(0);\n\n  useEffect(() => {\n    let fetching = false;\n    let unmounted = false;\n\n    async function fetchUsrSectionData() {\n      if (!fetching)\n        //console.log(secId);\n        await axios\n          .get(`/usrs/0/loggedInUsrSections`)\n          .then((response) => {\n            console.log(\"response>>\" + response.data);\n            setSecList(response.data);\n\n            if (!unmounted) {\n              setSecItems(\n                response.data.map(({ id, sectionName }) => ({\n                  id: id,\n                  label: sectionName,\n                }))\n              );\n              setLoading(false);\n            }\n          })\n          .catch((error) => {\n            //console.log(error);\n            //console.log(error.response.status);\n            //console.log(error.response.headers);\n            if (error.response) setServerErrors(error.response.data.error);\n            else setServerErrors(error.Error);\n          });\n    }\n    fetchUsrSectionData();\n\n    return () => {\n      fetching = true;\n      unmounted = true;\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    let fetching = false;\n    let unmounted = false;\n\n    async function fetchSectionCodeData() {\n      console.log(secItem);\n      if (!fetching && secItem)\n        //console.log(secId);\n        await axios\n          .get(`/sections/${secItem}/pmSectionCodes`)\n          .then((response) => {\n            console.log(\"response section codce >>\" + response.data);\n            setSecCodeList(response.data);\n\n            if (!unmounted) {\n              setLoading(false);\n            }\n          })\n          .catch((error) => {\n            //console.log(error);\n            //console.log(error.response.status);\n            //console.log(error.response.headers);\n            if (error.response) setServerErrors(error.response.data.error);\n            else setServerErrors(error.Error);\n          });\n    }\n    fetchSectionCodeData();\n\n    return () => {\n      fetching = true;\n      unmounted = true;\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [secItem]);\n\n  useEffect(() => {\n    let fetching = false;\n    let unmounted = false;\n\n    async function fetchCsData() {\n      console.log(secCode + \"-\" + secItem);\n      if (!fetching && secCode && secItem) {\n        await axios\n          .get(`/sections/${secItem}/pmSection/${secCode}`)\n          .then((response) => {\n            //console.log(\"response cs list >>\" + response.data);\n            setCsList(response.data);\n\n            if (!unmounted) {\n              setLoading(false);\n            }\n          })\n          .catch((error) => {\n            //console.log(error);\n            //console.log(error.response.status);\n            //console.log(error.response.headers);\n            if (error.response) setServerErrors(error.response.data.error);\n            else setServerErrors(error.Error);\n          });\n      }\n    }\n    fetchCsData();\n\n    return () => {\n      fetching = true;\n      unmounted = true;\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [secCode, secItem]);\n\n  const generateDps = () => {\n    if (disabled) return;\n    //\tconsole.log(data);\n    //console.log(\"data id--------------\"+data.id);\n    setDisabled(true);\n    axios\n      .put(`/chequeSlips/${secCode}/dpSheet`, csList)\n      .then((response) => {\n        console.log(\n          \"reponse status--------------\" +\n            response.status +\n            \"--\" +\n            response.statusText +\n            \"----\" +\n            \"-h--\" +\n            response.headers +\n            \"--\" +\n            response.data\n        );\n        if (response.status === 200) {\n          setMesg(response.data[1]);\n          setCsList([]);\n          const url = window.open(\n            `${process.env.REACT_APP_BASE_URL}/files/${response.data[0]}`\n          );\n          //history.push(\"/daks/view/\"+response.data);\n          //history.replace({pathname:'/daks/new/'+response.data});\n        }\n      })\n      .catch((error) => {\n        //console.log(error.response.data);\n        //console.log(\"response--------\"+error.response.status);\n        //if(error.response.status!==200)\n        //history.push(\"/chequeSlips/dpsList\");\n        //console.log(error.response.headers);\n        if (error.response) setServerErrors(error.response.data);\n        else setServerErrors(error);\n      });\n\n    //history.push(\"/daks\");\n  };\n\n  const onError = (errors, e) => console.log(errors, e);\n\n  //All foreign keys.\n  // XXXXXX Add search fields and adjust the values as necessary\n\n  const errorCallback = (err) => {\n    //console.log(err);\n    setServerErrors(err);\n  };\n\n  const handleCheckBox = (index) => (e) => {\n    //console.log(Table.page)\n    console.log(e.target.checked + \"--\" + index);\n    //csList[index].select=e.target.checked;\n\n    console.log(e.target.checked);\n    let item = csList[index];\n\n    item[\"select\"] = e.target.checked;\n    let newData = [...csList];\n    newData[index] = item;\n    setCsList(newData);\n    //console.log(csList);\n  };\n\n  const handleSectionChange = (e) => {\n    console.log(e.target.selectedIndex + \"--\" + e.target.value);\n    setSecItem(e.target.value);\n  };\n\n  const handleSectionCodeChange = (e) => {\n    console.log(e.target.selectedIndex + \"-->>\" + e.target.value);\n    setSecCode(e.target.value);\n  };\n\n  const updateCheckBoxAll = (e) => {\n    // console.log(\"...\"+e.target.checked+\"--\"+index);\n\n    let newData = [...csList];\n    for (var k in newData) {\n      newData[k].select = e.target.checked;\n    }\n    setCsList(newData);\n  };\n  //\tconst handlePage = (pp)=>{\n  //\tconsole.log(pp);\n  //\tsetPage(pp);\n  //\t}\n\n  const handleInputChange = (e) => {\n    console.log(e.target.value);\n    //\tconsole.log(\"handle input change\");\n  };\n\n  const callback = (e) => {\n    console.log(e);\n  };\n\n  const ShowDps = () => {\n    const handleP = (pp) => {\n      console.log(pp);\n      setPage(pp);\n    };\n\n    const handlePageSize = (pp) => {\n      console.log(pp);\n      setPageSize(pp);\n    };\n\n    const columns = useMemo(\n      () => [\n        {\n          Header: <input type=\"checkbox\" onChange={updateCheckBoxAll} />,\n          accessor: \"select\",\n          Cell: ({ row }) => (\n            <div>\n              <input\n                type=\"checkbox\"\n                onChange={handleCheckBox(row.index)}\n                checked={csList[row.index][\"select\"]}\n              />\n            </div>\n          ),\n        },\n        {\n          Header: \"DakId\",\n          accessor: \"dakId\",\n          Cell: ({ row }) => (\n            <div>\n              <div>\n                <label>{row.original.dakId}</label>\n              </div>\n              <div>\n                <label> {row.original.me}</label>\n              </div>\n            </div>\n          ),\n        },\n\n        {\n          Header: \"Beneficiary\",\n          accessor: \"beneficiary\",\n          Cell: ({ row }) => (\n            <div>\n              <div>\n                <label>{row.original.beneficiary}</label>\n              </div>\n              <div>\n                <label>\n                  {row.original.rank} {row.original.cdaoNo}\n                </label>\n              </div>\n            </div>\n          ),\n        },\n        {\n          Header: \"Amount\",\n          accessor: \"amount\",\n        },\n        {\n          Header: \"ifsc\",\n          accessor: \"ifsc\",\n          Cell: ({ row }) => (\n            <div>\n              <div>\n                <label>IFSC : {row.original.ifsc}</label>\n              </div>\n              <div>\n                <label>Bank Ac : {row.original.bankAccount}</label>\n              </div>\n            </div>\n          ),\n        },\n      ],\n      [csList, page, setPage]\n    );\n\n    return (\n      <div className=\"min-h-screen bg-green-100 text-gray-700\">\n        <div className=\"max-w-5xl mx-auto px-2 sm:px-6 lg:px-8 pt-4\">\n          <div className=\"-mt-2 max-h-1 py-0 ml-0\">\n            <TablePage\n              columns={columns}\n              data={csList}\n              newpage={page}\n              parentCallback={handleP}\n              newPageSize={pageSize}\n              parentCallbackPageSize={handlePageSize}\n              className=\"table-auto\"\n            />\n\n            <div className=\"mt-2 ml-4\">\n              <button\n                type=\"button\"\n                onClick={generateDps}\n                className=\"w-24 mb-24 p-0\"\n              >\n                Generate DP Sheet\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-100 text-gray-900\">\n      <div className=\"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 pt-4\">\n        <div className=\"text-red-500\">{serverErrors}</div>\n        <div className=\"text-blue-500\">{mesg}</div>\n\n        <h1 className=\"text-xl font-semibold ml-4\">DP Sheet Generation</h1>\n\n        <div className=\"mt-2 ml-4\">\n          <b>Section</b>\n\n          <select\n            className=\"w-22 m-0 p-0\"\n            disabled={loading}\n            value={secItem}\n            onChange={handleSectionChange}\n          >\n            <option key=\"0\" value={\"\"}>\n              --select section--\n            </option>\n            {secItems.map(({ id, label }) => (\n              <option key={id} value={id}>\n                {\" \"}\n                {label}{\" \"}\n              </option>\n            ))}\n          </select>\n        </div>\n\n        <div className=\"mt-2 ml-4\">\n          <b>PM Section</b>\n          <select\n            className=\"w-22 m-0 p-0\"\n            disabled={loading}\n            value={secCode}\n            onChange={handleSectionCodeChange}\n          >\n            <option key=\"0\" value={\"\"}>\n              --select pm section--\n            </option>\n            {secCodeList.map((item, index) => (\n              <option key={index} value={item.toString()}>\n                {\" \"}\n                {item.toString()}{\" \"}\n              </option>\n            ))}\n          </select>\n        </div>\n\n        <div className=\"mt-2 max-h-1 py-0 ml-0\">\n          <ShowDps />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default withRouter(DpSheetList);\n"]},"metadata":{},"sourceType":"module"}